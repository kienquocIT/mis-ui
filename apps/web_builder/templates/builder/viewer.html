{% load static i18n %}

<!doctype html>
<html lang="{{ base.language }}">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>
        {% if data.page_title %}
            {{ data.page_title }}
        {% else %}
            BFlow
        {% endif %}
    </title>
    <meta name="description" content="Management Information System"/>

    <link rel="shortcut icon" href="{% static 'assets/images/bflow/icon/icon_36x36.png' %}">
    <link rel="icon" href="{% static 'assets/images/bflow/icon/icon_36x36.png' %}" type="image/x-icon">

    <link
            rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"
    >
    <script
            src="https://code.jquery.com/jquery-3.7.1.min.js"
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"
    ></script>

    <link
            rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
            integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
            crossorigin="anonymous" referrerpolicy="no-referrer"
    />

    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css"
            integrity="sha512-sMXtMNL1zRzolHYKEujM2AqCLUR9F2C4/05cdbxjjLSRvMQIciEPCQZo++nk7go3BtSuK9kfa/s+a4f4i5pLkw=="
            crossorigin="anonymous" referrerpolicy="no-referrer"
    />
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"
            integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g=="
            crossorigin="anonymous" referrerpolicy="no-referrer"
    />

    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script
            src="https://cdnjs.cloudflare.com/ajax/libs/jquery-migrate/3.3.1/jquery-migrate.min.js"
            integrity="sha512-wDH73bv6rW6O6ev5DGYexNboWMzBoY+1TEAx5Q/sdbqN2MB2cNTG9Ge/qv3c1QNvuiAuETsKJnnHH2UDJGmmAQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer"
    ></script>

    <style>
        {{ data.page_css|safe }}
    </style>
    <style>
        .scrollToTop {
            position: fixed;
            bottom: 75px;
            right: 40px;
            display: none;
            background-color: #0dcaf0;
            color: #ffffff;
        }
    </style>
</head>
<script
        src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"
></script>
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"
></script>
<script
        src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"
        integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"
></script>
<script src="{% static 'builder/viewer/runtime.js' %}"></script>

{% if data.is_publish != True %}
    <div
            class="position-fixed top-0 end-0 py-2 bg-warning text-black font-weight-bold"
            style="width: 100vw; z-index: 99999; opacity: 50%;"
    >
        <div class="d-flex justify-content-center">
            {% trans 'This is preview demo of draft page!' %}
        </div>
    </div>
{% endif %}
{{ data.page_html|safe }}
{% csrf_token %}
<button id="bubble-scrollToTop" class="scrollToTop btn btn-light rounded px-2 py-1"><i class="fa-solid fa-arrows-up-to-line"></i></button>
<script>
    $(function () {
        let eleOnTop = $('#bubble-scrollToTop');
        let docCheck = $('html, body');

        $(window).scroll(function () {
            let lengthTop = $(this).scrollTop();
            lengthTop > 100 ? eleOnTop.fadeIn() : eleOnTop.fadeOut();
        });

        eleOnTop.click(function () {
            docCheck.animate({scrollTop: 0}, "slow");
            return false;
        });

        $(document).ready(function () {
            let hashCode = window.location.hash;
            if (hashCode) {
                let eleIdx = $(this).find(hashCode);
                if (eleIdx.length > 0) docCheck.animate({scrollTop: eleIdx.offset().top});
            }
        });
    })
</script>
</html>