{% load i18n %}

<div class="row" id="tabs">
    <div class="col-12">
        <ul class="nav nav-tabs nav-icon nav-light">
            <li class="nav-item">
                <a class="nav-link active" data-bs-toggle="tab" href="#tab_general">
                    <span class="nav-icon-wrap"><span class="feather-icon"><i class="fa-solid fa-circle-info"></i></span></span>
                    <span class="nav-link-text">{% trans 'Company information' %}</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#tab_config">
                    <span class="nav-icon-wrap"><span class="feather-icon"><i class="bi bi-gear-wide-connected"></i></span></span>
                    <span class="nav-link-text">{% trans 'Company setting' %}</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#tab_function_number">
                    <span class="nav-icon-wrap"><span class="feather-icon"><i class="bi bi-123"></i></span></span>
                    <span class="nav-link-text">{% trans 'Function number' %}</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#tab_inventory_management">
                    <span class="nav-icon-wrap"><span class="feather-icon"><i class="fas fa-warehouse"></i></span></span>
                    <span class="nav-link-text">{% trans 'Inventory management' %}</span>
                </a>
            </li>
        </ul>
    </div>
    <div class="tab-content">
        <div class="tab-pane fade show active" id="tab_general">
            <form id="frm-detail-company" data-url-detail="{% url "CompanyDetailAPI" '0' %}" data-url-redirect="{% url "CompanyDetail" '0' %}" data-method="PUT">
                {% csrf_token %}
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12 col-md-3 col-lg-3">
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-group">
                                            <label for="company_logo" class="form-label">{% trans 'Logo' %}</label>
                                            <div class="w-100 d-flex justify-content-center align-items-center overflow-hidden">
                                                <input id="company_logo"
                                                       class="form-control"
                                                       type="file"
                                                       data-url="{% url 'CompanyLogoUpload' pk=pk %}"
                                                       data-method="PUT"
                                                       data-max-file-size="3M"
                                                       data-allowed-file-extensions="jpeg jpg png gif"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-group">
                                            <label for="company_icon" class="form-label">{% trans 'Icon' %}</label>
                                            <div class="w-100 d-flex justify-content-center align-items-center overflow-hidden">
                                                <input id="company_icon"
                                                       class="form-control"
                                                       type="file"
                                                       data-url="{% url 'CompanyLogoUpload' pk=pk %}"
                                                       data-method="PUT"
                                                       data-max-file-size="100K"
                                                       data-allowed-file-extensions="jpeg jpg png gif"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-9 col-lg-9">
                                <div class="row">
                                    <div class="col-12 col-md-3 col-lg-3">
                                        <div class="form-group">
                                            <label class="form-label required" for="code">{% trans 'Company code' %}</label>
                                            <input type="text" class="form-control" id="code" oninput="this.value=this.value.toUpperCase()" required>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-9 col-lg-9">
                                        <div class="form-group">
                                            <label class="form-label required" for="title">{% trans 'Company name' %}</label>
                                            <input type="text" class="form-control" id="title" required>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-3 col-lg-3">
                                        <div class="form-group">
                                            <label class="form-label" for="fax">{% trans 'Fax' %}</label>
                                            <input type="text" class="form-control" id="fax">
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-9 col-lg-9">
                                        <div class="form-group">
                                            <label class="form-label required" for="address">{% trans 'Address' %}</label>
                                            <textarea data-bs-toggle="modal"
                                                   data-bs-target="#modal-company-address"
                                                   class="form-control text-primary"
                                                   readonly
                                                   placeholder="{% trans 'Click to edit' %}"
                                                   id="address"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-5">
                    <div class="col-12 col-md-3 col-lg-3">
                        <div class="card border">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label class="form-label required" for="representative_fullname">{% trans 'Fullname' %}</label>
                                            <input type="text" class="form-control" id="representative_fullname" required/>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label class="form-label required" for="phone">{% trans 'Phone number' %}</label>
                                            <input type="text" class="form-control" id="phone" required>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label class="form-label required" for="email">{% trans 'Email' %}</label>
                                            <input type="text" class="form-control" id="email" required>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <h5><span class="badge badge-primary position-top-center-overflow">{% trans 'Company representative' %}</span></h5>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="tab-pane fade" id="tab_config">
            <form id="tblCompanyConfig" data-url="{% url 'CompanyConfigDetailAPI' %}" data-method="PUT">
                {% csrf_token %}
                <div class="row" id="company-config" data-url-detail="{% url 'CompanyConfigDetailAPI' %}" data-url-all-app="{% url 'TenantApplicationListAPI' %}" data-url-currency-list="{% url 'CurrencyListAPI' %}">
                    <div class="col-12 col-md-3 col-lg-3">
                        <div class="form-group">
                            <label class="form-label required" for="idxLanguage">{% trans 'Language' %}</label>
                            <select name="language" id="idxLanguage" class="form-control select2">
                                <option value="vi">Tiếng Việt</option>
                                <option value="en" selected>English</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-12 col-md-9 col-lg-9">
                        <div class="row">
                            <div class="col-12 col-md-4 col-lg-4">
                                <div class="form-group">
                                    <label for="idxSubdomain" class="form-label required">{% trans 'Sub domain' %}</label>
                                    <input type="text" name="sub_domain" id="idxSubdomain" class="form-control">
                                </div>
                            </div>
                            <div class="col-12 col-md-4 col-lg-4">
                                <div class="form-group">
                                    <label class="form-label required"  for="idxCurrencyDefault">{% trans 'Primary currency' %} </label>
                                    <select class="form-control select2" required name="master_data_currency" id="idxCurrencyDefault"></select>
                                    <span class="text-danger small">{% trans 'This data cannot be modified during the fiscal year.' %}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="row">
                            <div class="col-12">
                                <h6 class="text-primary fw-bold">{% trans 'Currency Mask' %} <span class="text-muted small">({% trans 'Allow space' %})</span></h6>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 col-md-3 col-lg-3">
                                <div class="form-group">
                                    <label for="idxCurrencyMaskPrefix" class="form-label">{% trans 'Prefix' %}</label>
                                    <input type="text" id="idxCurrencyMaskPrefix" name="currency_rule__prefix" class="form-control">
                                </div>
                            </div>
                            <div class="col-12 col-md-3 col-lg-3">
                                <div class="form-group">
                                    <label for="idxCurrencyMaskSuffix" class="form-label">{% trans 'Suffix' %}</label>
                                    <input type="text" id="idxCurrencyMaskSuffix" name="currency_rule__suffix" class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 col-md-3 col-lg-3">
                                <div class="form-group">
                                    <label for="idxCurrencyMaskThousand" class="form-label">{% trans 'Thousand' %}</label>
                                    <input type="text" id="idxCurrencyMaskThousand" name="currency_rule__thousands" class="form-control"/>
                                </div>
                            </div>
                            <div class="col-12 col-md-3 col-lg-3">
                                <div class="form-group">
                                    <label for="idxCurrencyMaskDecimal" class="form-label">{% trans 'Decimal' %}</label>
                                    <input type="text" id="idxCurrencyMaskDecimal" name="currency_rule__decimal" class="form-control"/>
                                </div>
                            </div>
                            <div class="col-12 col-md-3 col-lg-3">
                                <div class="form-group">
                                    <label for="idxCurrencyMaskPrecision" class="form-label">{% trans 'Precision' %}</label>
                                    <input type="text" id="idxCurrencyMaskPrecision" name="currency_rule__precision" class="form-control"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="tab-pane fade" id="tab_function_number">
            <div class="row">
                <div class="col-12">
                    <table class="table table-bordered nowrap w-100" id="function_number_table">
                        <thead class="bg-primary-light-5">
                            <tr>
                                <th class="w-5" style="min-width: 30px"></th>
                                <th class="w-20" style="min-width: 200px">{% trans 'Function' %}</th>
                                <th class="w-70" style="min-width: 400px">{% trans 'Schema' %}</th>
                                <th class="w-5" style="min-width: 30px"></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <button id="add-new-config-app" class="btn btn-primary btn-sm mt-2" type="button">{% trans 'Add new config' %}</button>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="tab_inventory_management">
            <div class="row">
                <div class="col-12 mb-3">
                    <span class="text-danger">{% trans "If there are any transactions (e.g. goods receipt, delivery, etc.), the data below can't be edited during this fiscal year." %}</span>
                </div>
                <div class="col-12 col-md-3 col-lg-3">
                    <div class="form-group">
                        <label class="form-label required" for="default-inventory-value-method">{% trans 'Default inventory value method' %}</label>
                        <select type="text" id="default-inventory-value-method" class="form-select" required>
                            <option value="0">{% trans 'FIFO' %}</option>
                            <option value="1">{% trans 'Weighted average' %}</option>
{#                            <option value="2" disabled>{% trans 'Specific identification method' %}</option>#}
                        </select>
                    </div>
                </div>
                <div class="col-12 col-md-3 col-lg-3">
                    <div class="row">
                        <div class="col-12">
                            <div class="form-group">
                                <label class="form-label required" for="definition-inventory-valuation">{% trans 'Definition of inventory valuation' %}</label>
                                <div class="d-flex">
                                    <div class="form-check">
                                        <input type="radio" id="perpetual-selection" name="definition-inventory-valuation" class="form-check-input" checked>
                                        <label class="form-check-label" for="perpetual-selection">{% trans 'Perpetual inventory' %}</label>
                                    </div>
                                    <div class="ml-5 form-check">
                                        <input disabled type="radio" id="periodic-selection" name="definition-inventory-valuation" class="form-check-input">
                                        <label class="form-check-label" for="periodic-selection">{% trans 'Periodic inventory' %}</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                                <div class="form-check">
                                    <input type="checkbox" id="cost-per-warehouse" class="form-check-input">
                                    <label class="form-check-label" for="cost-per-warehouse">{% trans 'Cost per warehouse management' %}</label>
                                </div>
                                <div class="form-check">
                                    <input type="checkbox" id="cost-per-lot" class="form-check-input">
                                    <label class="form-check-label" for="cost-per-lot">{% trans 'Cost per Lot/batch' %}</label>
                                </div>
                                <div class="form-check">
                                    <input type="checkbox" id="cost-per-prj" class="form-check-input">
                                    <label class="form-check-label" for="cost-per-prj">{% trans 'Cost per project (sale order in Opp)' %}</label>
                                </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
