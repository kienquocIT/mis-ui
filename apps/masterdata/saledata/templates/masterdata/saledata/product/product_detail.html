{% extends 'base.html' %}
{% load i18n %}
{% load static %}
{% block title %}{% trans 'Product Detail' %}{% endblock %}
{% block cssHeader %}
    <link href="{% static 'assets/css/masterdata/saledata/accounts/account_create.css' %}" rel="stylesheet"
          type="text/css"/>
    <link
            href="{% static 'vendors/select2/dist/css/select2.min.css' %}"
            rel="stylesheet"
            type="text/css"
    />
    <link href="{% static 'vendors/dropify/dist/css/dropify.min.css' %}" rel="stylesheet" type="text/css"/>
    <style>
        .form-control[readonly], .form-select:disabled { !important;
            color: black;
        }
    </style>
{% endblock %}
{% block jsHeader %}
{% endblock %}
{% block pageAction %}
    <a href="{% url 'ProductUpdate' pk=pk %}">
        <button class="btn btn-outline-primary">
            <span>
                <span>{% trans 'Edit' %}</span>
                <span class="icon">
                    <i class="fa-regular fa-pen-to-square"></i>
                </span>
            </span>
        </button>
    </a>
{% endblock %}
{% block pageContent %}
    <form id="form-update-product" data-method="PUT" data-url="{% url "ProductDetailAPI" pk=0 %}"
          data-url-redirect="{% url "ProductList" %}">
        {% csrf_token %}
        <div class="row collapse multi-collapse show" id="collapse-area">
            <div class="row">
                <div class="col-8">
                    <div class="row form-group">
                        <div class="col-2"></div>
                        <div class="col-5">
                            <h4><span id="product-code" class="text-primary badge badge-soft-primary badge-outline"></span></h4>
                        </div>
                    </div>
                    <div class="row form-group">
                        <label class="col-2 col-form-label required">{% trans "Product Name" %}</label>
                        <div class="col-5">
                            <input type="text" id="title" placeholder="Input Product Name" class="form-control">
                        </div>
                        <div class="col-5 mt-2 text-center">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="check-tab-sale" value="option2">
                                <label for="check-tab-sale">{% trans "Sale" %}</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="check-tab-inventory" value="option1">
                                <label for="check-tab-inventory">{% trans "Inventory" %}</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="check-tab-purchase" value="option3">
                                <label for="check-tab-purchase">{% trans "Purchase" %}</label>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group">
                        <label class="col-2 col-form-label">{% trans "Description" %}</label>
                        <div class="col-10">
                            <textarea id="description" placeholder="Input Product Description" class="form-control"></textarea>
                        </div>
                    </div>
                </div>
                <div class="col-1"></div>
                <div class="col-3">
                    <div class="row form-group">
                        <input type="file" id="product-image" class="dropify">
                    </div>
                </div>
            </div>
        </div>
        <div class="row mb-3">
            <a class="btn btn-flush-secondary flush-soft-hover" data-bs-toggle="collapse" data-bs-target="#collapse-area" aria-expanded="false" aria-controls="collapse-area">
                <i class="bi bi-chevron-bar-expand text-secondary"></i>
            </a>
        </div>
        <div class="row">
            <ul class="nav nav-light nav-tabs" id="tab-select-table">
                <li class="nav-item">
                    <a class="nav-link active" data-bs-toggle="tab" href="#tab_general">
                        <span class="nav-link-text">{% trans 'General' %}</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" data-bs-toggle="tab" href="#tab_sale" id="link-tab-sale">
                        <span class="nav-link-text">{% trans 'Sale' %}</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" data-bs-toggle="tab" href="#tab_inventory" id="link-tab-inventory">
                        <span class="nav-link-text">{% trans 'Inventory' %}</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" data-bs-toggle="tab" id="link-tab-purchase" href="#tab_purchase">
                        <span class="nav-link-text">{% trans 'Purchase' %}</span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="tab-content">
            <div class="tab-pane fade show active" id="tab_general">
                <div class="row">
                    <div class="col-5">
                        <div class="row form-group">
                            <label class="col-4 col-form-label required">{% trans "Product Type" %}</label>
                            <div class="col-8">
                                <select id="general-select-box-product-type" class="form-select select2 select-multiple" data-method="GET"
                                        multiple
                                        data-url="{% url 'ProductTypeListAPI' %}"></select>
                            </div>
                        </div>
                        <div class="row form-group">
                            <label class="col-4 col-form-label required">{% trans "Product Category" %}</label>
                            <div class="col-8">
                                <select id="general-select-box-product-category" class="form-select" data-method="GET"
                                    data-url="{% url "ProductCategoryListAPI" %}"></select>
                            </div>
                        </div>
                        <div class="row form-group">
                            <label class="col-4 col-form-label required">{% trans "UoM Group" %}</label>
                            <div class="col-8">
                                <select id="general-select-box-uom-group" class="form-select" data-method="GET"
                                        data-url="{% url "UnitOfMeasureGroupListAPI" %}"
                                        data-url-detail="{% url "UnitOfMeasureGroupDetailAPI" pk=0 %}"></select>
                            </div>
                        </div>
                        <div class="row form-group">
                            <label class="col-4 col-form-label">{% trans "Traceability method" %}</label>
                            <div class="col-8">
                                <select id="general-select-box-traceability-method" class="form-select" data-method="GET">
                                    <option value="0">{% trans "None" %}</option>
                                    <option value="1">{% trans "Batch/Lot number" %}</option>
                                    <option value="2">{% trans "Serial number" %}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-1"></div>
                    <div class="col-6">
                        <div class="row form-group">
                            <h6 class="col-12 col-form-label">{% trans "Product Dimension and Weight Control" %}</h6>
                        </div>
                        <div class="row form-group">
                            <label class="col-1 col-form-label">{% trans "Length" %}</label>
                            <div class="col-3">
                                <span class="input-affix-wrapper affix-wth-text">
                                    <input type="number" class="form-control inpDimension" id="length" step="0.1">
                                    <span class="input-suffix">cm</span>
                                </span>
                            </div>
                            <label class="col-1 col-form-label">{% trans "Width" %}</label>
                            <div class="col-3">
                                <span class="input-affix-wrapper affix-wth-text">
                                    <input type="number" class="form-control inpDimension" id="width" step="0.1">
                                    <span class="input-suffix">cm</span>
                                </span>
                            </div>
                            <label class="col-1 col-form-label">{% trans "Height" %}</label>
                            <div class="col-3">
                                <span class="input-affix-wrapper affix-wth-text">
                                    <input type="number" class="form-control inpDimension" id="height" step="0.1">
                                    <span class="input-suffix">cm</span>
                                </span>
                            </div>
                        </div>
                        <div class="row form-group">
                            <label class="col-1 col-form-label">{% trans "Volume" %}</label>
                            <div class="col-3" id="divVolume">
                                <span class="input-affix-wrapper affix-wth-text">
                                    <input type="number" class="form-control" id="volume" step="0.1">
                                    <span class="input-suffix"></span>
                                </span>
                            </div>
                            <label class="col-1 col-form-label">{% trans "Weight" %}</label>
                            <div class="col-3" id="divWeight">
                                <span class="input-affix-wrapper affix-wth-text">
                                    <input type="number" class="form-control" id="weight" step="0.1">
                                    <span class="input-suffix"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="tab_sale">
                <div class="row">
                    <div class="col-5">
                        <div class="row form-group">
                            <label class="col-4 col-form-label required">{% trans "Default UoM" %}</label>
                            <div class="col-8">
                                <select id="sale-select-box-default-uom" class="form-select" data-method="GET"
                                        data-url="{% url "UnitOfMeasureListAPI" %}"></select>
                            </div>
                        </div>
                        <div class="row form-group">
                            <label class="col-4 col-form-label required">{% trans "Tax Code" %}</label>
                            <div class="col-8">
                                <select id="sale-select-box-tax-code" class="form-select" data-method="GET"
                                        data-url="{% url "TaxListAPI" %}"></select>
                            </div>
                        </div>
                    </div>
                    <div class="col-1"></div>
                    <div class="col-6">
                        <div class="row form-group">
                            <label class="col-3 col-form-label">{% trans "Cost" %}</label>
                            <div class="col-9">
                                <input id="sale-cost" data-return-type="number" type="text" class="form-control mask-money">
                            </div>
                        </div>
                        <div class="row form-group">
                            <label class="col-3 col-form-label required">{% trans "Price List" %}</label>
                            <div class="col-9">
                                <a class="btn btn-soft-primary w-100" data-bs-toggle="collapse" href="#collapsePriceList" role="button" aria-expanded="false" aria-controls="collapseExample">
                                    {% trans 'Show Price List' %}
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6"></div>
                    <div class="col-6" id="sale-select-price-list" data-method="GET" data-url="{% url "PriceListAPI" %}">
                        <div class="collapse" id="collapsePriceList">
                            <div class="border-secondary card card-body ul-price-list"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="tab_inventory">
                <div class="row">
                    <div class="col-5">
                        <div class="form-group row">
                            <label class="col-4 col-form-label required">{% trans "UoM Name" %}</label>
                            <div class="col-8">
                                <select id="inventory-select-box-uom-name" class="form-select" data-method="GET"
                                        data-url="{% url 'UnitOfMeasureListAPI' %}">
                                </select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-4 col-form-label required">{% trans "UoM Code" %}</label>
                            <div class="col-8">
                                <span id="inventory-uom-code" class="badge badge-soft-secondary w-50"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-1"></div>
                    <div class="col-6">
                        <div class="form-group row">
                            <label class="col-4 col-form-label">{% trans "Inventory Level Min" %}</label>
                            <div class="col-8">
                                <input id="inventory-level-min" type="number" class="form-control" min="0" step="1" placeholder="Input number">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-4 col-form-label">{% trans "Inventory Level Max" %}</label>
                            <div class="col-8">
                                <input id="inventory-level-max" type="number" class="form-control" min="0" step="1" placeholder="Input number">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mb-20">
                    <div class="col-5 mt-8">
                        <div>
                            <span class="mb-3 badge-status">
                                <span class="badge badge-danger badge-indicator"></span>
                                <span class="badge-label text-secondary">{% trans 'Product warehouse overview' %}</span>
                            </span>
                        </div>
                        <table id="datatable-warehouse-overview" class="table nowrap w-100"
                               data-url="{% url "WareHouseListAPI" %}"
                               data-method="GET">
                            <thead>
                            <th>{% trans "Stock" %}</th>
                            <th>{% trans "Wait for delivery" %}</th>
                            <th>{% trans "Wait for receipt" %}</th>
                            <th>{% trans "Available" %}</th>
                            </thead>
                            <tfoot>
                            </tfoot>
                        </table>
                    </div>
                    <div class="col-1"></div>
                    <div class="col-6 mt-8">
                        <div>
                            <span class="mb-3 badge-status">
                                <span class="badge badge-danger badge-indicator"></span>
                                <span class="badge-label text-secondary">{% trans 'Product warehouse detail' %}</span>
                            </span>
                        </div>
                        <table id="datatable-warehouse-list" class="table nowrap w-100"
                               data-url="{% url "WareHouseListAPI" %}"
                               data-method="GET">
                            <thead>
                            <th>{% trans "Warehouse Code" %}</th>
                            <th>{% trans "Warehouse Name" %}</th>
                            <th>{% trans "Stock" %}</th>
                            </thead>
                            <tfoot>
                                <tr style="background-color: #ebf5f5">
                                    <th class="text-primary text-center wrap-text w-15" style="font-weight: bolder; font-size: larger" rowspan="1" colspan="1"></th>
                                    <th class="text-primary text-center wrap-text w-25" style="font-weight: bolder; font-size: larger" rowspan="1" colspan="1">
                                        {% trans 'TOTAL' %}
                                    </th>
                                    <th class="text-primary text-center wrap-text w-15" style="font-weight: bolder; font-size: larger" rowspan="1" colspan="1">
                                        <span style="font-weight: bolder">0</span>
                                    </th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="tab_purchase">
                <div class="row">
                    <div class="col-5">
                        <div class="row form-group">
                            <label class="col-4 col-form-label required">{% trans "Default UoM" %}</label>
                            <div class="col-8">
                                <select id="purchase-select-box-default-uom" class="form-select" data-method="GET"
                                        data-url="{% url "UnitOfMeasureListAPI" %}"></select>
                            </div>
                        </div>
                    </div>
                    <div class="col-1"></div>
                    <div class="col-6">
                        <div class="row form-group">
                            <label class="col-3 col-form-label required">{% trans "Tax Code" %}</label>
                            <div class="col-9">
                                <select id="purchase-select-box-tax-code" class="form-select" data-method="GET"
                                        data-url="{% url "TaxListAPI" %}"></select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    {{ data.unit | json_script:"id-unit-list" }}
    {{ data.warehouse_product_list | json_script:"warehouse_product_list" }}
    {{ data.unit_of_measure | json_script:"unit_of_measure" }}
    {{ data.unit_of_measure_group | json_script:"unit_of_measure_group" }}
    {{ data.currency_list | json_script:"currency_list" }}
{% endblock %}
{% block jsFooter %}
    <script src="{% static "vendors/dropify/dist/js/dropify.min.js" %}"></script>
    <script src="{% static "assets/js/masterdata/saledata/product/product_common.js" %}"></script>
    <script src="{% static "assets/js/masterdata/saledata/product/product_detail.js" %}"></script>
{% endblock %}
