{% extends 'base.html' %}
{% load static i18n %}
{% block title %}{% trans 'Goods receipt list' %}{% endblock %}
{% block cssHeader %}
{% endblock %}

{% block pageAction %}
    {% url 'GoodsReceiptCreate' as create_link %}
    {% include 'extends/systems/page_actions.html' with is_create=True create_link=create_link create_idx="create_goods_receipt_button" %}
{% endblock %}

{% block pageContent %}
    <script hidden id="direct-btn-group-url"
        data-url-list-api="{% url 'GoodsReceiptListAPI' %}"
        data-url-create="{% url 'GoodsReceiptCreate' %}"
        data-url-detail="{% url 'GoodsReceiptDetail' '0' %}"
        data-key-return="goods_receipt_list"
    ></script>
    <table
            id="datable_goods_receipt_list"
            class="table nowrap w-100 mb-5"
            data-url="{% url 'GoodsReceiptListAPI' %}"
            data-method="get"
    >
        <thead>
        <tr>
            <th style="min-width: 50px"></th>
            <th style="min-width: 100px">{% trans "Code" %}</th>
            <th style="min-width: 300px">{% trans "Title" %}</th>
            <th style="min-width: 150px">{% trans 'Goods receipt for' %}</th>
            <th style="min-width: 150px">{% trans 'Code' %} {% trans 'PO/IA/PM' %}</th>
            <th style="min-width: 150px">{% trans 'Received date' %}</th>
            <th style="min-width: 150px">{% trans "Employee created" %}</th>
            <th style="min-width: 150px">{% trans "Date created" %}</th>
            <th style="min-width: 80px">{% trans 'System status' %}</th>
        </tr>
        </thead>
        <tbody></tbody>
    </table>
{% endblock %}

{% block dataHiddenGroup %}
    <input
            type="text" id="goods-receipt-link"
            data-link-detail="{% url 'GoodsReceiptDetail' 1 %}"
            data-link-update="{% url 'GoodsReceiptUpdate' 1 %}"
            data-link-list="{% url 'GoodsReceiptList' %}"
            data-link-detail-po="{% url 'PurchaseOrderDetail' 1 %}"
            data-link-detail-ia="{% url 'InventoryAdjustmentDetail' 1 %}"
            data-link-detail-pro="{% url 'ProductionOrderDetail' 1 %}"
            data-link-detail-pm="{% url 'ProductModificationDetail' 1 %}"
    >
    <input
            type="text"
            id="app-trans-factory"
            data-edit="{% trans 'Edit' %}"
            data-change="{% trans 'Change' %}"
            data-cancel="{% trans 'Cancel' %}"
    >
    {{ data.stt_sys|json_script:'stt_sys' }}
    {{ data.gr_type|json_script:'gr_type' }}
{% endblock %}

{% block jsFooter %}
    <script src="{% static 'assets/sales/inventory/js/goodreceipt/goods_receipt_list.js' %}"></script>
    <script src="{% static 'assets/js/direct-btn-group.js' %}"></script>
{% endblock %}
