{% extends 'base.html' %}
{% load static i18n %}
{% block title %}{% trans 'Opportunity Task config' %}{% endblock %}
{% block cssHeader %}
    <style>
        .status-item p {
            padding: 5px 10px;
            cursor: text;
            border-radius: 6px;
        }

        .status-item p:hover, .status-item p:focus {
            outline: 1px dotted #6495ed;
            outline-offset: -3px;
        }

        .status-header {
            padding: .5rem 1.25rem;
        }

        .status-header p {
            padding: 5px 10px;
        }

        .icon-close i:hover {
            cursor: pointer;
            color: #e10a2c;
        }

        .advance-list-item {
            transition: none;
            -webkit-transition: none;
        }

        .advance-list-item:hover {
            transform: none;
            -webkit-transform: none;
        }

        .hand-drag {
            cursor: grab;
        }

        .ui-state-highlight {
            display: block;
            height: 30px;
            border-radius: 4px;
            border: dashed 1px #ff0000 !important;
            background-color: #f8f8f8ff !important;
        }

        .outline-err {
            outline: 1px dotted #ff0000;
            outline-offset: -3px
        }

        .blur-35 {
            opacity: 0.35;
        }

        .ui-state-system {
            height: 30px;
            border-radius: 4px;
            border: dashed 1px rgb(255 0 0 / 20%);
            background: rgb(247 247 247 / 30%);
        }
    </style>
    <link href="{% static 'assets/core/workflow/css/jquery-ui.min.css' %}" rel="stylesheet" type="text/css"/>
{% endblock %}

{% block pageAction %}
    <button
            class="btn btn-icon btn-flush-dark btnrounded- flush-soft-hover no-caret d-lg-inline-block d-none"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            data-bs-original-title="{% trans 'Save' %}"
            form="formOpportunityTaskConfig" type="submit"
    >
        <span class="btn-icon-wrap">
            <i class="far fa-save"></i>
        </span>
    </button>
{% endblock %}

{% block pageContent %}
    <form data-url="{% url 'OpportunityTaskConfigAPI' %}" id="formOpportunityTaskConfig" method="post"
          autocomplete="off">
        {% csrf_token %}
        <h5 class="h5 mb-3">{% trans 'Opportunity task config' %}</h5>
        <h6 class="h6">{% trans 'Status setup' %}</h6>
        <hr>
        <p>{% trans 'Task will change to' %}
            <span class="strikethrough"><del>{% trans 'To do Status' %}</del></span>
            {% trans ' if old status deleted' %}
        </p>
        <hr>
        <div class="wrap-status-setup w-md-50 w-100">
            <button class="btn btn-outline-primary btn-animated btn-xs add_new_stt" type="button">
                <span class="icon">
                    <i class="fa-solid fa-plus"></i>
                    <span class="font-3 ml-1">
                        {% trans 'Add new' %}
                    </span>
                </span>
            </button>
            <hr>
            <div class="status-content">
                <div class="status-header d-flex justify-content-between align-items-center fw-bold font-3">
                    <span class="w-5"></span>
                    <p class="status_name w-40">
                        {% trans 'Name' %}&nbsp;
                        <i class="fas fa-info-circle text-primary" data-bs-toggle="tooltip" data-bs-placement="bottom"
                           title="{% trans 'Click on text to edit.' %}"></i>
                    </p>
                    <p class="status_translate_name w-40">{% trans 'Translate name' %}&nbsp;
                        <i class="fas fa-info-circle text-primary" data-bs-toggle="tooltip" data-bs-placement="bottom"
                           title="{% trans 'Click on text to edit.' %}"></i>
                    </p>
                    <span class="w-10 text-right">
                        {% trans 'Action' %}
                    </span>
                </div>
                <ul id="todo_list" class="advance-list">
                </ul>

            </div>
        </div>
    </form>
    <div class="hidden">
        <div id="item_config">
            <li class="advance-list-item single-task-list active-todo">
                <div class="status-item d-flex justify-content-between align-items-center">
                    <span class="w-5 hand-drag"><i class="fa-solid fa-arrows-up-down"></i></span>
                    <p class="status_name w-40" contenteditable="true"></p>
                    <p class="status_translate_name w-40" contenteditable="true">--</p>
                    <span class="icon-close w-10 text-right">
                        <i class="fa-regular fa-circle-xmark fa-lg"></i>
                    </span>
                </div>
            </li>
        </div>
    </div>
{% endblock %}
{% block jsFooter %}
    <script src="{% static 'assets/core/workflow/js/jquery-ui.min.js' %}"></script>
    <script src="{% static 'vendors/moment/min/moment.min.js' %}"></script>
    <script src="{% static 'assets/task/config.js' %}"></script>
{% endblock %}
