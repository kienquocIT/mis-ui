{% extends 'base.html' %}
{% load i18n %}
{% load static %}
{% block title %}{% trans 'Service Order Dashboard' %} v2{% endblock %}
{% block cssHeader %}
    <link href="{% static 'assets/core/workflow/css/jquery-ui.min.css' %}" rel="stylesheet" type="text/css"/>
    <style>
        #idxPageContent {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            background-size: cover;
        }
        .advance-list-item {
            transition: none;
        }
        .advance-list-item:hover {
            transform: none;
        }
    </style>
{% endblock %}
{% block jsHeader %}
{% endblock %}
{% block pageAction %}
{% endblock %}
{% block pageContent %}
    <script id="script-url"
            data-url-service-order-detail-for-dashboard="{% url 'ServiceOrderDetailDashboardAPI' '0'%}"
    ></script>
    <script id="trans-script"></script>

    <div class="row">
        <div class="col-12 col-md-9 col-lg-9">
            <h2 class="fw-bold text-white" id="service-order-title"></h2>
            <h6 class="text-white" id="service-order-customer"></h6>
        </div>
        <div class="col-12 col-md-3 col-lg-3 text-right">
            <h5 class="fw-bold text-white" id="service-order-time"></h5>
        </div>
        <div class="col-12 mt-3 mb-3">
            <div class="bflow-glass-card" id="service-order-progress">
                <span class="fw-bold text-white">{% trans 'OVERALL PROGRESS' %}</span>
            </div>
        </div>
        <div class="col-12 col-md-3 col-lg-3">
            <div class="bflow-glass-card">
                <span class="fw-bold text-white">{% trans 'TOTAL SERVICES' %}</span>
                <h1 class="fw-bold text-white" id="total-services"></h1>
                <span class="text-white" id="total-services-des"><span id="svo-completed"></span> {% trans 'completed' %} - <span id="svo-progressing"></span> {% trans 'progressing' %} - <span id="svo-waiting"></span> {% trans 'waiting' %}</span>
            </div>
        </div>
        <div class="col-12 col-md-3 col-lg-3">
            <div class="bflow-glass-card">
                <span class="fw-bold text-white">{% trans 'TOTAL WORKS' %}</span>
                <h1 class="fw-bold text-white" id="total-work-orders"></h1>
                <span class="text-white" id="total-work-orders-des"><span id="wo-completed"></span> {% trans 'completed' %} - <span id="wo-progressing"></span> {% trans 'progressing' %} - <span id="wo-waiting"></span> {% trans 'waiting' %}</span>
            </div>
        </div>
        <div class="col-12 col-md-3 col-lg-3">
            <div class="bflow-glass-card">
                <span class="fw-bold text-white">{% trans 'TOTAL TASKS' %}</span>
                <h1 class="fw-bold text-white" id="total-tasks"></h1>
                <span class="text-white" id="total-tasks-des"><span id="task-completed"></span> {% trans 'completed' %} - <span id="task-progressing"></span> {% trans 'progressing' %} - <span id="task-waiting"></span> {% trans 'waiting' %}</span>
            </div>
        </div>
        <div class="col-12 col-md-3 col-lg-3">
            <div class="bflow-glass-card">
                <span class="fw-bold text-white">{% trans 'CONTRACT VALUE' %}</span>
                <h1 class="fw-bold text-white"><span class="mask-money" id="contract-value" data-init-money="0"></span></h1>
                <span class="text-white" id="contract-value-des"><span class="mask-money" id="contract-value-delivered" data-init-money="0"></span> {% trans 'delivered' %} (~<span id="contract-value-delivered-percent"></span>%)</span>
            </div>
        </div>
    </div>
    <div class="row mt-5">
        <div class="col-12">
            <h3 class="fw-bold text-white">{% trans 'SERVICE PROGRESS' %}</h3>
        </div>
        <div class="col-12">
            <div class="bflow-glass-card">
                <div class="row" id="service-detail-list"></div>
            </div>
        </div>
    </div>
{% endblock %}
{% block jsFooterUnCompress %}
{% endblock %}
{% block jsFooter %}
    <script src="{% static 'vendors/echartjs/echart.js' %}"></script>
    <script src="{% static 'assets/sales/serviceorder/js/service_order_detail_dashboard_echarts.js' %}"></script>
    <script src="{% static 'assets/core/workflow/js/jquery-ui.min.js' %}"></script>
{% endblock %}