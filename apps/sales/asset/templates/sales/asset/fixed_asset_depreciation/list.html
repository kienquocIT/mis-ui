{% extends 'base.html' %}
{% load static i18n %}
{% block cssHeader %}
    <link href="{% static 'vendors/monthpicker/monthpicker.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'vendors/select2/dist/css/select2.min.css' %}" rel="stylesheet" type="text/css">

{% endblock %}
{% block title %}{% trans 'Fixed Asset Depreciation' %}{% endblock %}

{% block pageAction %}
    <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#modal-run-depreciation">
        <span>
            <span>{% trans 'Run Depreciation' %}</span>
        </span>
    </button>
{% endblock %}

{% block pageContent %}
    <table
            id="table-asset-depreciation-list"
            class="table nowrap w-100 mb-5"
            data-url="{% url 'FixedAssetDepreciationListAPI' %}"
            data-method="get"
    >
        <thead>
            <tr>
                <th>
                    <div class="form-check">
                        <input
                            type="checkbox"
                            class="form-check-input select-all-checkbox"
                        />
                    </div>
                </th>
                <th>{% trans 'Asset' %}</th>
                <th>{% trans 'Asset Category' %}</th>
                <th>{% trans 'Original Cost' %}</th>
                <th>{% trans 'Accumulative Depreciation' %}</th>
                <th>{% trans 'Net Book Value' %}</th>
                <th>{% trans 'Last Posted Period' %}</th>
                <th>{% trans 'Next Depreciation Period' %}</th>
                <th>{% trans 'End Date' %}</th>
                <th>{% trans 'Status' %}</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
{% endblock %}

{% block modalData %}
    <div class="modal fade" id="modal-run-depreciation" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTitle">{% trans 'Run Depreciation' %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="form-run-depreciation" data-url="{% url "RunAssetDepreciationAPI" %}" data-method="POST">
                        <div class="form-group">
                            <label class="form-label required" for="depreciation-month">{% trans 'Date' %}</label>
                            <div class="input-affix-wrapper">
                                <input required type="text" name="depreciation_month"
                                       class="form-control" autocomplete="off" id="depreciation-month">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{% trans 'Cancel' %}</button>
                    <button type="submit" class="btn btn-primary" form="form-run-depreciation">
                        <span>{% trans 'Confirm' %}</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block dataHiddenGroup %}
    {{ data.stt_sys|json_script:'stt_sys' }}
{% endblock %}
{% block jsFooter %}
    <script src="{% static 'vendors/monthpicker/monthpicker.js' %}"></script>

    <script src="{% static 'assets/sales/asset/fixed_asset_depreciation/js/list.js' %}"></script>
{% endblock %}
