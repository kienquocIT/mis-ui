{% extends 'base.html' %}
{% load static i18n %}

{% block cssHeader %}
    <link href="{% static 'vendors/select2/dist/css/select2.min.css' %}" rel="stylesheet" type="text/css">
{% endblock %}

{% block pageContent %}
    <div class="mb-3">
        <div class="inline">
            <label for="company_overviewing" class="hidden"></label>
            <select class="custom-select" id="company_overviewing">
                {% for item in data.company_list %}
                    <option value="{{ item.id }}">{{ item.title }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="inline">
            <label for="filter_data_employee_user" class="hidden"></label>
            <select class="custom-select" id="filter_data_employee_user">
                <option value="0">{% trans 'All user and employee' %}</option>
                <option value="1">{% trans 'Employee Linked To User' %}</option>
            </select>
        </div>
        <br class="clearBoth"/>
    </div>
    {{ data.company_list|json_script:"company_all_list" }}
    <table
            id="datable_company_overview_detail" class="table nowrap w-100 mb-5"
            data-url-detail="{% url "EmployeeUserByCompanyListOverviewDetailAPI" pk=data.pk %}"
            data-method="GET"
    >
        <thead>
        <tr>
            <th>Data Row</th>
            <th>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input">
                </div>
            </th>
            <th>{% trans 'Employee' %}</th>
            <th>{% trans 'License' %}</th>
            <th>{% trans 'User' %}</th>
            <th>{% trans 'Company Allow Login' %}</th>
            <th>{% trans 'Actions' %}</th>
        </tr>
        </thead>
        <tbody></tbody>
    </table>
    <div
            class="modal fade" id="power_user_info" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter"
            aria-hidden="true"
    >
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <form
                        id="modal_user_update" data-url="{{ data.user_url }}" data-method="put" method="post"
                        novalidate
                >
                    {% csrf_token %}
                    <div class="modal-header">
                        <h5 class="modal-title" id="power_user_title"></h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" name="user_id">
                        <label for="company_list_old">{% trans 'Company Selected' %}:</label>
                        <ol id="company_list_old" data-text-empty="{% trans 'No records' %}"></ol>
                        <label for="company_list_choose">{% trans 'Company Change' %}:</label>
                        <select
                                class="select2 select2-multiple" multiple="multiple" data-placeholder="Choose"
                                id="company_list_choose" name="company_list"
                        >
                            {% for item in data.company_list %}
                                <option value="{{ item.id }}">{{ item.title }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary btn-submit">{% trans 'Save' %}</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                            {% trans 'Cancel' %}
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}


{% block jsFooter %}
    <script src="{% static 'vendors/select2/dist/js/select2.full.min.js' %}"></script>
    <script src="{% static 'core/company/company_overview/company_overview_detail.js' %}"></script>
{% endblock %}
