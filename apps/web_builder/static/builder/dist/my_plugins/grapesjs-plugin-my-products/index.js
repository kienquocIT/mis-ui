/*! grapesjs-plugin-my-products - 1.0.109 */
!function(t,e){'object'==typeof exports&&'object'==typeof module?module.exports=e():'function'==typeof define&&define.amd?define([],e):'object'==typeof exports?exports["grapesjs-plugin-my-products"]=e():t["grapesjs-plugin-my-products"]=e()}('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:this,(()=>(()=>{"use strict";var t={d:(e,a)=>{for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})}},e={};t.r(e),t.d(e,{default:()=>r});const a='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImZpbGw6IHJnYmEoMCwwLDAsMC4xNSk7IHRyYW5zZm9ybTogc2NhbGUoMC43NSkiPgogICAgICAgIDxwYXRoIGQ9Ik04LjUgMTMuNWwyLjUgMyAzLjUtNC41IDQuNSA2SDVtMTYgMVY1YTIgMiAwIDAgMC0yLTJINWMtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMnoiPjwvcGF0aD4KICAgICAgPC9zdmc+',o='data:image/png;base64,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',s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{prefixClass:a,extClass:s,internalOpts:l,idSlider:n,labelSlide:i,idSliderItem:d,labelSliderItem:r}=e;t.DomComponents.addType(d,{model:{defaults:{...l,name:r,tagName:'div',attributes:{class:`${a}-item`,"data-x-cls":`${a}-item`},components:{type:'image',tagName:'img',attributes:{src:o}}}}}),t.DomComponents.addType(n,{model:{defaults:{...l,name:i,tagName:'section',attributes:{class:`${a} ${s}`,"data-x-cls":`${a}`},components:[]}}})},l=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{idDetail:a,labelDetail:o,idColPicture:l,labelColPicture:n,internalOpts:i}=e,[d,r]=[`${a}-slider-for`,`${o} Slider For`],[c,p]=[`${a}-slider-for-item`,`${o} Slider For Item`];s(t,{...e,prefixClass:'slider-for',extClass:'slider mb-3',internalOpts:i,idSlider:d,labelSlide:r,idSliderItem:c,labelSliderItem:p});const[m,u]=[`${a}-slider-nav`,`${o} Slider Nav`],[g,b]=[`${a}-slider-nav-item`,`${o} Slider Nav Item`];s(t,{...e,prefixClass:'slider-nav',extClass:'slider',internalOpts:i,idSlider:m,labelSlide:u,idSliderItem:g,labelSliderItem:b}),t.DomComponents.addType(l,{model:{defaults:{...i,name:n,attributes:{class:`positon-relative col-12 col-lg-4 p-3`},styles:`\n                    .slider {width: 80%;margin: 0 auto;}\n                    .slick-slide img {width: 100%;max-width: 250px;max-height: 250px;}               \n                    .slick-prev::before {color: #4f4f4f!important;}\n                    .slick-next::before {color: #4f4f4f!important;}\n                    .slider-for-item.slick-slide {margin: 0px 20px;}          \n                    .slider-nav-item.slick-slide {margin: 0px 5px;}\n                    .slider-nav-item.slick-slide img {width: 100%;max-height: 60px;margin-right: 10px;}\n                `,components:[{tagName:'div',attributes:{class:'w-100 h-100',"data-x-cls":"my-product-detail---picture"},components:[{tagName:'div',attributes:{id:'my-product-image--zoom',class:'img-zoom-result position-absolute top-0 d-none'},styles:`\n                                    #my-product-image--zoom {\n                                        right: 0; z-index: 9999;\n                                    }\n                                    .img-zoom-lens {\n                                        position: absolute;\n                                        border: 1px solid #d4d4d4;\n                                        width: 80px;\n                                        height: 80px;\n                                        cursor: zoom-in;\n                                    }\n                                            \n                                    .img-zoom-result {\n                                        border: 1px solid #d4d4d4;\n                                        width: 300px;\n                                        height: 300px;\n                                    }\n                                `},{type:d,components:[{type:c}]},{type:m,components:[{type:g}]}]}],script:function(){function t(t,e){let a=t.parent().find('.img-zoom-lens');0===a.length&&(a=$("<div class='img-zoom-lens' style='display: none;'></div>"),t.parent().append(a));let o=e.width()/a.width(),s=e.height()/a.height();function l(l){var n,i,d;a.show(),l.preventDefault(),n=function(e){var a,o=0,s=0;return e=e||window.event,a=t[0].getBoundingClientRect(),o=e.pageX-a.left,s=e.pageY-a.top,o-=window.pageXOffset,s-=window.pageYOffset,{x:o,y:s}}(l),i=n.x-a.width()/2,d=n.y-a.height()/2,i>t.width()-a.width()&&(i=t.width()-a.width()),i<0&&(i=0),d>t.height()-a.height()&&(d=t.height()-a.height()),d<0&&(d=0),a.css({left:i+"px",top:d+"px"}),e.css({"background-position":"-"+i*o+"px -"+d*s+"px"})}e.css({"background-image":"url('"+t.attr("src")+"')","background-size":t.width()*o+"px "+t.height()*s+"px",left:e.parent().outerWidth()+20+'px'}),a.on("mousemove",l),t.on("mousemove",l),a.on("touchmove",l),t.on("touchmove",l),a.on("mouseenter",(t=>{a.show(),e.removeClass('d-none')})),a.on("mouseleave",(t=>{a.hide(),e.addClass('d-none')}))}let e=$(this).find('.slider-for'),a=$(this).find('.slider-nav');e.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,accessibility:!1,speed:0}),a.slick({slidesToShow:5,slidesToScroll:1,dots:!0,centerMode:!1,focusOnSelect:!1,infinite:!1,speed:0,variableWidth:!1}),a.find('.slider-nav-item.slick-slide').first().find('img').addClass("border border-warning"),t(e.find('.slider-for-item.slick-slide.slick-current.slick-active > img'),$(`#my-product-image--zoom`)),$(this).find('.slider-nav .slider-nav-item.slick-slide').on('mouseenter',(function(o){e.slick('slickGoTo',$(this).data('slickIndex')),a.find('.slider-nav-item.slick-slide img').removeClass("border border-danger"),$(this).find('img').addClass("border border-warning"),t(e.find('.slider-for-item.slick-slide.slick-current.slick-active > img'),$(`#my-product-image--zoom`))}))}}}})},n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{idDetail:a,labelDetail:o,internalOpts:s,idDetailItem:n,labelDetailItem:i,productData:d}=e,[r,c]=[`${n}-col-picture`,`${o} Col Picture`];l(t,{...e,internalOpts:s,idDetail:a,labelDetail:o,idColPicture:r,labelColPicture:c});const[p,m]=[`${n}-col-info`,`${o} Col Info`];!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{idColInfo:a,labelColInfo:o,internalOpts:s}=e,[l,n]=[`${a}-row-label`,`${o} Row Label`];t.DomComponents.addType(l,{model:{defaults:{...s,name:n,tagName:'div',attributes:{class:"row p-0 mb-1","data-x-cls":"my-product-detail--banner"},components:[{tagName:'h6',attributes:{class:'bg-danger text-white rounded px-2 py-1'},components:`MALL`}]}}});const[i,d]=[`${a}-row-title`,`${o} Row Title`];t.DomComponents.addType(i,{model:{defaults:{...s,name:d,tagName:'div',attributes:{class:"row p-0"},components:[{tagName:'h5',attributes:{"data-x-cls":"my-product-detail--title"},components:`TITLE`}]}}});const[r,c]=[`${a}-row-price`,`${o} Row Price`];t.DomComponents.addType(r,{model:{defaults:{...s,name:c,tagName:'div',attributes:{class:"row p-0"},components:[{tagName:'p',attributes:{class:'text-warning h4 mb-3','data-x-cls':'my-product-detail--price'},components:`0 ₫`},{tagName:'div',attributes:{class:'w-100 mb-3',"data-x-cls":"my-product-detail--price--off"},components:[{tagName:'span',attributes:{class:'ml-1 text-muted'},components:'<del>0 đ</del>'},{tagName:'small',attributes:{class:'ml-1 badge badge-light'},components:`0%`}]},{tagName:'div',attributes:{class:'mb-3',"data-x-cls":"my-product-detail--favour"},components:[{tagName:'p',components:`${t.I18n.t('grapesjs-plugin-my-products.favourPrice')}:`},{tagName:'p',attributes:{class:'bg-warning text-white text-wrap p-1 m-1 border rounded'},components:`Favour 1`},{tagName:'p',attributes:{class:'bg-warning text-white text-wrap p-1 m-1 border rounded'},components:`Favour 2`}]}]}}});const[p,m]=[`${a}-row-variant`,`${o} Row Variant`];t.DomComponents.addType(p,{model:{defaults:{...s,name:m,components:[{tagName:'div',attributes:{class:'chips-group d-inline-block mr-1'},components:[{tagName:'input',attributes:{type:"radio",id:'variant1',name:"select-variant"}}],script:function(){let t=function(t){let e='';const a='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',o=a.length;let s=0;for(;s<t;)e+=a.charAt(Math.floor(Math.random()*o)),s+=1;return e}(18);$(this).find('input').attr('id',t),$(this).find('label').attr('for',t)}}],styles:`\n                .chips-group {\n                    display: inline-block;\n                }\n                .chips-group input {\n                    display: none;\n                }\n                .chips-group input+label {\n                    -webkit-transition: all 100ms ease;\n                    transition: all 100ms ease;\n                    cursor: pointer;\n                    border-radius: 5px;\n                    border: 2px solid #f1f1f1;\n                    padding: 0.5rem 0.5rem;\n                    display: inline-block;\n                    -moz-user-select: -moz-none;\n                    -webkit-user-select: none;\n                    -ms-user-select: none;\n                    user-select: none;\n                }\n                .chips-group input+label>svg {\n                    display: none;\n                }\n                .chips-group input:checked+label>svg {\n                    display: block;\n                }\n                .chips-group input:checked+label {\n                    -webkit-transition: all 100ms ease;\n                    transition: all 100ms ease;\n                    border-color: #0035a7;\n                }\n                .chips-group label {\n                    position: relative;\n                }\n                .chips-group label img {\n                    width: 25px;\n                    height: 25px;\n                }\n                .chips-group label svg {\n                    position: absolute;\n                    bottom: 0;\n                    right: 0;\n                    width: 15px;\n                    height: 15px;\n                }\n                `}}});const[u,g]=[`${a}-row-variant-group`,`${o} Row Variant Group`];t.DomComponents.addType(u,{model:{defaults:{...s,name:g,tagName:'div',attributes:{class:'mt-1',"data-x-cls":"my-product-detail--variant"},components:[{tagName:'p',components:`${t.I18n.t("grapesjs-plugin-my-products.variantProd")}:`},{tagName:'div',attributes:{class:'d-flex'},components:[{type:p},{type:p},{type:p},{type:p}]}]}}});const[b,f]=[`${a}-row-quantity`,`${o} Row Quantity`];t.DomComponents.addType(b,{model:{defaults:{...s,name:f,tagName:'div',attributes:{class:'mt-1'},components:[{tagName:'label',attributes:{for:'input-quantity'},components:`${t.I18n.t('grapesjs-plugin-my-products.quantityBuy')}:`},{tagName:'input',attributes:{id:'input-quantity',class:'form-control',placeholder:'',"aria-label":'',"aria-describedby":'',type:'number',min:0,value:1}}]}}});const[y,h]=[`${a}-row-btn`,`${o} Row Button`],[x,A]=[`${a}-row-add-card`,`${o} Row Add Card`],[v,C]=[`${a}-row-buy-now`,`${o} Row Buy Now`];t.DomComponents.addType(v,{model:{defaults:{...s,name:C,attributes:{type:'button',class:'btn btn-warning mr-1 text-white'},tagName:'button',components:`${t.I18n.t("grapesjs-plugin-my-products.buyNow")}`}}}),t.DomComponents.addType(x,{model:{defaults:{...s,name:A,attributes:{type:'button',class:'btn btn-primary mr-1'},tagName:'button',components:`${t.I18n.t("grapesjs-plugin-my-products.addToCart")}`}}}),t.DomComponents.addType(y,{model:{defaults:{...s,name:h,tagName:'div',attributes:{class:'mt-3'},components:[{type:v},{type:x}]}}}),t.DomComponents.addType(a,{model:{defaults:{...s,name:o,attributes:{class:`col-12 col-lg-5 p-3`},components:[{type:l},{type:i},{tagName:'hr'},{type:r},{tagName:'hr'},{type:u},{type:b},{type:y}]}}})}(t,{...e,internalOpts:s,idColInfo:p,labelColInfo:m});const[u,g]=[`${n}-col-delivery`,`${o} Col Delivery`];!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{idColDelivery:a,labelColDelivery:o,internalOpts:s}=e,[l,n]=[`${a}-col-addr`,`${o} Col Address`];t.DomComponents.addType(l,{model:{defaults:{...s,name:n,tagName:'div',attributes:{},components:[{tagName:'p',attributes:{class:"text-muted"},components:t.I18n.t("grapesjs-plugin-my-products.addrDelivery")},{tagName:'div',attributes:{class:"row"},components:[{tagName:'div',attributes:{class:"col-8"},components:'Hồ Chí Minh, Quận 1, Phường Phạm Ngũ Lão'},{tagName:'div',attributes:{class:"col-4"},components:{tagName:'button',attributes:{class:'btn btn-light'},components:t.I18n.t("grapesjs-plugin-my-products.btnChange")}}]}]}}});const[i,d]=[`${a}-col-ship`,`${o} Col Ship`];t.DomComponents.addType(i,{model:{defaults:{...s,name:d,tagName:'div',components:[{tagName:'p',attributes:{class:"text-muted"},components:t.I18n.t("grapesjs-plugin-my-products.shipCode")},{tagName:'div',attributes:{class:"row"},components:[{tagName:'div',attributes:{class:"col-8"},components:`Giao hàng tiêu chuẩn`},{tagName:'div',attributes:{class:"col-4"},components:`16.000 ₫`},{tagName:'div',attributes:{class:"col-12 mt-2"},components:`Thanh toán khi nhận hàng. Không được đồng kiểm.`}]}]}}});const[r,c]=[`${a}-col-warranty`,`${o} Col Warranty`];t.DomComponents.addType(r,{model:{defaults:{...s,name:c,attributes:{"data-x-cls":"my-product-detail--warranty"},components:[{tagName:'p',attributes:{class:"text-muted"},components:t.I18n.t("grapesjs-plugin-my-products.exchangeAndWarranty")},{tagName:'p',components:[{tagName:'i',attributes:{class:"fa-solid fa-hourglass-half text-success mr-2"}},{tagName:'span',components:t.I18n.t("grapesjs-plugin-my-products.returnable")}]},{tagName:'p',components:[{tagName:'i',attributes:{class:"fa-solid fa-arrow-rotate-left text-success mr-2"}},{tagName:'span',components:`7`},{tagName:'span',components:t.I18n.t("grapesjs-plugin-my-products.dayReturned")}]},{tagName:'p',components:[{tagName:'i',attributes:{class:"fa-solid fa-shield text-dark mr-2"}},{tagName:'span',components:t.I18n.t("grapesjs-plugin-my-products.noApplyWarranty")}]}]}}}),t.DomComponents.addType(a,{model:{defaults:{...s,name:o,attributes:{class:`col-12 col-lg-3 p-3 bg-light`},components:[{type:l},{tagName:'hr'},{type:i},{tagName:'hr'},{type:r}]}}})}(t,{...e,internalOpts:s,idColDelivery:u,labelColDelivery:g});const[b,f]=[`${n}-remark`,`${o} Remark`];!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{internalOpts:a,idRowRemark:o,labelRowRemark:s}=e;t.DomComponents.addType(o,{model:{defaults:{...a,name:s,tagName:'div',attributes:{class:"w-100"},components:[{tagName:'div',attributes:{class:"bg-light w-100 p-3"},components:{tagName:'p',attributes:{class:"p-0 m-0 text-muted"},components:t.I18n.t('grapesjs-plugin-my-products.descriptionProduct')}},{tagName:'div',attributes:{class:"border border-1 border-light h-300p p-3 text-wrap","data-x-cls":"my-product-detail-remark"},components:``}]}}})}(t,{...e,internalOpts:s,idRowRemark:b,labelRowRemark:f}),t.DomComponents.addType(n,{model:{defaults:{...s,name:i,components:[{...s,name:`${o} Row Main Info`,attributes:{class:"row w-100 p-0 border border-light","data-x-cls":"my-product-detail-all","data-base-detail-url":d.linkDetail,"data-base-detail-api-url":d.linkAPIDetail},components:[{type:r},{type:p},{type:u}]},{...s,name:`${o} Row Remarks`,attributes:{class:"row w-100 p-0 mt-1"},components:{type:b}}],script:function(){let t=this;function e(t,e){let a=t.parent().find('.img-zoom-lens');0===a.length&&(a=$("<div class='img-zoom-lens' style='display: none;'></div>"),t.parent().append(a));let o=e.width()/a.width(),s=e.height()/a.height(),l={"background-image":`url(${t.attr("src")})`,"background-size":t.width()*o+"px "+t.height()*s+"px",left:e.parent().outerWidth()+20+'px'};function n(l){var n,i,d;a.show(),l.preventDefault(),n=function(e){var a,o=0,s=0;return e=e||window.event,a=t[0].getBoundingClientRect(),o=e.pageX-a.left,s=e.pageY-a.top,o-=window.pageXOffset,s-=window.pageYOffset,{x:o,y:s}}(l),i=n.x-a.width()/2,d=n.y-a.height()/2,i>t.width()-a.width()&&(i=t.width()-a.width()),i<0&&(i=0),d>t.height()-a.height()&&(d=t.height()-a.height()),d<0&&(d=0),a.css({left:i+"px",top:d+"px"}),e.css({"background-position":"-"+i*o+"px -"+d*s+"px"})}e.css(l),a.on("mousemove",n),t.on("mousemove",n),a.on("touchmove",n),t.on("touchmove",n),a.on("mouseenter",(t=>{a.show(),e.removeClass('d-none')})),a.on("mouseleave",(t=>{a.hide(),e.addClass('d-none')}))}class a{constructor(t,e){this.ele=t,this.data=e}load(){this.loadBanner(),this.loadPrice(),this.loadFavour(),this.loadVariant(),this.loadRemark(),this.loadWarranty(),this.loadPicture()}loadBanner(){$(this.ele).find('[data-x-cls="my-product-detail--banner"]').addClass('d-none')}loadPrice(){$(this.ele).find('[data-x-cls="my-product-detail--title"]').text(this.data?.title||''),$(this.ele).find('[data-x-cls="my-product-detail--price"]').text(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'₫',a=[];if(t){let e=t.toString().split("").reverse();e.map(((t,o)=>{0!==o&&o%3==0&&o!==e.length-1?(a.push("."),a.push(t)):a.push(t)}))}return`${a.reverse().join("")} ${e.toUpperCase()}`}(this.data?.sale_price||0)),$(this.ele).find('[data-x-cls="my-product-detail--price--off"]').addClass('d-none')}loadFavour(){$(this.ele).find('[data-x-cls="my-product-detail--favour"]').addClass('d-none')}loadVariant(){$(this.ele).find('[data-x-cls="my-product-detail--variant"]').addClass('d-none')}loadRemark(){$(this.ele).find('[data-x-cls="my-product-detail-remark"]').html(this.data?.description||'')}loadWarranty(){$(this.ele).find('[data-x-cls="my-product-detail--warranty"]').addClass("d-none").prev('hr').addClass('d-none')}loadPicture(){let t=$(this.ele).find('[data-x-cls="my-product-detail---picture"]');if(t.length>0){t.hide();let a=$(t).find('[data-x-cls="slider-for"]'),o=$(t).find('[data-x-cls="slider-nav"]');a.slick('destroy'),o.slick('destroy');let s=a.find('[data-x-cls="slider-for-item"]').first();a.find('[data-x-cls="slider-for-item"]:not(:first)').remove();let l=o.find('[data-x-cls="slider-nav-item"]').first().removeClass("border border-warning");o.find('[data-x-cls="slider-nav-item"]:not(:first)').remove();let n=$(`#my-product-image--zoom`),i=this.data.avatar||null;if(i){let d=s.clone();d.find('img').attr('src',i),a.append(d),s.remove(),a.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,accessibility:!1,speed:0});let r=l.clone();r.find('img').attr('src',i),o.append(r),l.remove(),o.slick({slidesToShow:5,slidesToScroll:1,dots:!0,centerMode:!1,focusOnSelect:!1,infinite:!1,speed:0,variableWidth:!1}),t.show({complete:function(){e(d.find('img'),n)}})}}}}let o=$(this).find(`[data-x-cls="my-product-detail-all"]`);if(o.length>0){let e=o.attr('data-base-detail-url'),s=o.attr('data-base-detail-api-url'),l=e.startsWith('/test/product/')?'/test/product/3a82c590-cb82-4f7c-aba6-cfcb383af8e2':window.location.pathname,n=e.replace("{id}","(?<id>[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})"),i=new RegExp('(.)*'+n,'gm').exec(l);if(i){const e=i.groups.id;if(function(t){if("string"==typeof t&&(36===t.length||t.length===36-4))return/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(t);return!1}(e)){let o=s.replaceAll("{id}",e);o.startsWith("/test/api/product/")&&(console.log('%c Response My-Product-Detail API return format:','background: #222; color: red',{data:{id:"{id}",title:"{name}",available_amount:40,avatar:"{link}",description:"{remark}",sale_price:1e3}}),$.mockjax({url:o,type:'GET',contentType:"application/json",responseText:{data:{id:"3a82c590-cb82-4f7c-aba6-cfcb383af8e2",title:"Máy in HP",code:"PRD.0005",stock_amount:123,avatar:"https://www.volusion.com/blog/content/images/2021/07/Product-Photos.jpg",description:"Máy in màu",sale_price:15e6}}})),$.fn.callAjaxPublic||($.fn.callAjaxPublic=function(t){return new Promise(((e,a)=>{let{url:o,method:s}=t,l={url:o,type:s,contentType:"application/json",processData:!0,data:'GET',headers:{},success:function(t,a,o){e(t)},error:function(t,e,o){let s=t.responseJSON;s&&'object'==typeof s?a(s):204===t.status&&a({status:204})}};return $.ajax(l)}))}),$.fn.callAjaxPublic({url:o,type:'GET'}).then((e=>{let o=e?.['data']||null;o&&'object'==typeof o&&new a(t,o).load()}),(t=>{console.log('errs:',t)}))}}}}}}})},i=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:o,label:s,productData:l}=e,n=`${o}-toolbar-head`,i=`${o}-toolbar-query-count`,d=`${o}-toolbar-foot-page-button`,r=`${o}-toolbar-foot`;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{label:a,idToolbarHead:o,idPageButton:s,idToolbarFoot:l,idToolbarMatchQueryCount:n}=e;t.DomComponents.addType(n,{model:{defaults:{name:'Show match query',tagName:'div',dragable:!1,dropable:!1,editable:!1,attributes:{class:'w-100'},components:[{tagName:"span",dragable:!1,dropable:!1,editable:!1,attributes:{"data-x-cls":"my-product-toolbar-query-count"},components:`0`},{tagName:"span",dragable:!1,dropable:!1,editable:!1,attributes:{class:"ml-1"},components:`${t.I18n.t("grapesjs-plugin-my-products.resultCount")}`}]}}}),t.DomComponents.addType(o,{model:{defaults:{name:`${a} Toolbar Head`,dropable:!1,dragable:!1,tagName:'div',attributes:{class:'row mb-3',"data-x-cls":"my-product-header"},components:[{tagName:'div',dropable:!1,dragable:!1,editable:!1,attributes:{class:'col-sm-12 col-md-6 col-lg-6 col-xl-8 p-1'},components:[{tagName:'input',dropable:!1,dragable:!1,editable:!1,attributes:{type:"text",class:"form-control w-100",placeholder:`${t.I18n.t("grapesjs-plugin-my-products.search")}...`,"data-x-cls":"my-product-header--search"}}]},{tagName:'div',dropable:!1,dragable:!1,editable:!1,attributes:{class:'col-sm-8 col-md-4 col-lg-3 col-xl-2 p-1'},components:[{tagName:'select',dropable:!1,dragable:!1,editable:!1,attributes:{class:"form-control w-100","data-x-cls":"my-product-header--sort"},components:[{tagName:'option',dropable:!1,dragable:!1,editable:!1,attributes:{value:"suitable",selected:"selected"},components:`${t.I18n.t("grapesjs-plugin-my-products.relateSuitable")}`},{tagName:'option',dropable:!1,dragable:!1,editable:!1,attributes:{value:"price-a-z"},components:`${t.I18n.t("grapesjs-plugin-my-products.pricesLowsToHights")}`},{tagName:'option',dropable:!1,dragable:!1,editable:!1,attributes:{value:"price-z-a"},components:`${t.I18n.t("grapesjs-plugin-my-products.pricesHightsToLows")}`}]}]},{tagName:'div',dropable:!1,dragable:!1,editable:!1,attributes:{class:'col-sm-4 col-md-2 col-lg-3 col-xl-2 p-1'},components:[{tagName:'select',dropable:!1,dragable:!1,editable:!1,attributes:{class:"form-control w-100",name:"my-product-toolbar-display"},components:[{tagName:'option',dropable:!1,dragable:!1,editable:!1,attributes:{value:"block",selected:"selected"},components:`${t.I18n.t("grapesjs-plugin-my-products.displayBlock")}`},{tagName:'option',dropable:!1,dragable:!1,editable:!1,attributes:{value:"list"},components:`${t.I18n.t("grapesjs-plugin-my-products.displayList")}`}]}]},{type:n,dropable:!1,dragable:!1,editable:!1,attributes:{class:'col-sm-12 col-md-6 col-lg-6 col-xl-8 p-1'}}],script:function(){$.fn.alterClass=function(t,e){var a=this;if(-1===t.indexOf('*'))return a.removeClass(t),e?a.addClass(e):a;var o=new RegExp('\\s'+t.replace(/\*/g,'[A-Za-z0-9-_]+').split(' ').join('\\s|\\s')+'\\s','g');return a.each((function(t,e){for(var a=' '+e.className+' ';o.test(a);)a=a.replace(o,' ');e.className=$.trim(a)})),e?a.addClass(e):a},$(document).ready((function(){$(this).find('select[name="my-product-toolbar-display"]').on('change',(function(){'block'===$(this).val()?$(this).closest('div[data-x-cls="my-products-all"]').find('div[data-x-cls="my-product-item"]').each((function(){$(this).alterClass("col-*").addClass("col-sm-12 col-md-4 col-lg-3"),$(this).find('div[data-x-cls="my-product-img"]').removeClass("col-4").addClass("col-12"),$(this).find('div[data-x-cls="my-product-info"]').removeClass("col-8 pl-1").addClass("col-12"),$(this).find('[data-x-cls="title-line-text"]').each((function(){$(this).text($(this).attr('data-title-sm'))}))})):'list'===$(this).val()&&$(this).closest('div[data-x-cls="my-products-all"]').find('div[data-x-cls="my-product-item"]').each((function(){$(this).alterClass("col-*").addClass("col-12"),$(this).find('div[data-x-cls="my-product-img"]').removeClass("col-12").addClass("col-4"),$(this).find('div[data-x-cls="my-product-info"]').removeClass("col-12").addClass("col-8 pl-1"),$(this).find('[data-x-cls="title-line-text"]').each((function(){$(this).text($(this).attr('title'))}))}))}))}))}}}}),t.DomComponents.addType(s,{model:{defaults:{name:'Button Page',tagName:'button',dropable:!1,dragable:!1,editable:!1,attributes:{class:"btn btn-light btn-page-controls"},components:``}}}),t.DomComponents.addType(l,{model:{defaults:{name:`${a} Toolbar Foot`,dropable:!1,dragable:!1,tagName:'div',attributes:{class:'row d-flex justify-content-center align-items-center mt-3',"data-x-cls":"my-product-footer"},styles:`\n                    div[data-x-cls="my-product-footer"] > button {\n                        margin-left: 0.25rem;\n                        margin-right: 0.25rem;\n                    }\n                `,components:[{type:s,components:`<i class="fa fa-angle-left" aria-hidden="true"></i>`,name:'Button Previous Page',attributes:{"data-x-cls":"my-product-footer--previous-btn"}},{type:s,components:`1`,attributes:{"data-x-cls":"my-product-footer--number-1"}},{type:s,components:`2`,attributes:{"data-x-cls":"my-product-footer--number-2"}},{type:s,components:`3`,attributes:{"data-x-cls":"my-product-footer--number-3"}},{type:s,components:`4`,attributes:{"data-x-cls":"my-product-footer--number-4"}},{type:s,components:`5`,attributes:{"data-x-cls":"my-product-footer--number-5"}},{type:s,components:`6`,attributes:{"data-x-cls":"my-product-footer--number-6"}},{type:s,components:`7`,attributes:{"data-x-cls":"my-product-footer--number-7"}},{type:s,components:`8`,attributes:{"data-x-cls":"my-product-footer--number-8"}},{type:s,components:`9`,attributes:{"data-x-cls":"my-product-footer--number-9"}},{type:s,components:`<i class="fa fa-angle-right" aria-hidden="true"></i>`,name:'Button Next Page',attributes:{"data-x-cls":"my-product-footer--next-btn"}}]}}})}(t,{...e,idToolbarHead:n,idPageButton:d,idToolbarFoot:r,idToolbarMatchQueryCount:i});const c=`${o}-table-data`,p=`${o}-table-data-item`,m=`${o}-table-data-load`;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{label:o,idTableData:s,idTableDataItem:l,idTableDataItemLoad:n,productData:i}=e;t.DomComponents.addType(n,{model:{defaults:{name:`${o} Data Item Load`,dropable:!1,dragable:!1,tagName:'div',attributes:{class:'row p-0 m-0 w-100 overflow-hidden'},components:[{tagName:'div',dragable:!1,dropable:!1,editable:!1,attributes:{class:'col-12 w-100 p-0 d-flex justify-content-center align-items-center',"data-x-cls":"my-product-img"},components:[{type:'image',dragable:!1,dropable:!1,editable:!1,attributes:{class:"w-100 h-100",src:a,style:"max-height: 200px!important; object-fit: contain;","data-x-cls":"my-product-img--img"}}],isComponent:t=>'my-product-img'===t.getAttribute('data-x-cls')},{tagName:'div',dragable:!1,dropable:!1,editable:!1,attributes:{class:"col-12 w-100 p-0","data-x-cls":"my-product-info"},script:function(){$(document).find('div[data-x-cls="my-product-info"]').each((function(){$(this).hasClass('col-12')&&$(this).find('[data-x-cls="title-line-text"],[data-x-cls="remark-line-text"]').each((function(){if(!$(this).attr('title')){let t=$(this).text();$(this).attr('title',t);let e='';e=t.length>100?`${t.slice(0,100)}...`:`${t}${" ".repeat(100-currentTextlengt)}`,$(this).attr('data-title-sm',e),$(this).text(e)}}))}))},components:[{type:'text',tagName:'h6',dragable:!1,dropable:!1,editable:!1,attributes:{class:"text-wrap","data-x-cls":"title-line-text","data-toggle":"tooltip","data-placement":"bottom",title:""},components:'Title of product. '.repeat(20)},{type:'text',tagName:'p',dragable:!1,dropable:!1,editable:!1,attributes:{"data-x-cls":"price-line-text"},components:'12.500.000 VND'},{type:'text',tagName:'small',dragable:!1,dropable:!1,editable:!1,attributes:{class:"w-100 d-inline-block","data-x-cls":"remark-line-text","data-toggle":"tooltip","data-placement":"bottom",title:""},components:'Remarks '.repeat(50)},{type:'text',tagName:'p',dragable:!1,dropable:!1,editable:!1,removeable:!1,attributes:{"data-x-cls":"my-product-data--amout-all"},components:[t.I18n.t('grapesjs-plugin-my-products.amountLeftBefore'),{type:'text',tagName:'span',dragable:!1,dropable:!1,editable:!1,removeable:!1,attributes:{class:"mx-1","data-x-cls":"my-product-data--amout-left"},components:`0`},t.I18n.t('grapesjs-plugin-my-products.amountLeftAfter')]}],isComponent:t=>'my-product-info'===t.getAttribute('data-x-cls')}]}}}),t.DomComponents.addType(l,{model:{defaults:{name:`${o} Data Item`,dropable:!1,dragable:!1,tagName:'div',attributes:{class:'col-12 col-sm-6 col-md-4 col-lg-3 p-3',"data-x-cls":"my-product-item","data-is-pattern":"true"},styles:`\n                    div[data-x-cls="my-product-item"]:hover {\n                        background-color: #f0f0f1;\n                    }\n                `,components:[{type:'link',tagName:'a',attributes:{href:i.linkDetail||'#',"data-x-cls":"my-product-item--link"},style:{color:'inherit',"text-decoration":"inherit"},components:{type:n}}],isComponent:t=>'my-product-item'===t.getAttribute('data-x-cls')}}}),t.DomComponents.addType(s,{model:{defaults:{name:`${o} Table Data`,dropable:!1,dragable:!1,tagName:'div',attributes:{class:'row',"data-x-cls":"my-product-data"},components:[]}}})}(t,{...e,idTableData:c,idTableDataItem:p,idTableDataItemLoad:m});const{url:u,method:g}=l;t.DomComponents.addType(o,{model:{defaults:{name:s,tagName:'div',attributes:{id:'idx-my-products-all',class:'container py-3',"data-x-cls":"my-products-all","data-url":u,"data-method":g},dropable:!1,components:[{type:n},{type:c},{type:r}],script:function(){class t{constructor(t,e){this.myProductAllEle=$(t).closest('div[data-x-cls="my-products-all"]'),this.resp=e}static activeListenChangePage(t){let e=t.closest('div[data-x-cls="my-products-all"]');$(e).find('.btn-page-controls').on('click',(function(){let o=Number.parseInt($(this).attr('data-page'));new a(e,t).callData({page:o})}))}loadPageCount(){this.myProductAllEle.find('[data-x-cls="my-product-toolbar-query-count"]').text(this.resp.page_count||'')}loadPagination(){let t=this.resp.page_count||0,e=this.resp.page_next||0,a=this.resp.page_previous||0,o=this.resp.page_size||0,s=this.myProductAllEle.find('div[data-x-cls="my-product-footer"]');s.find('.btn-page-controls:not([data-x-cls="my-product-footer--previous-btn"]):not([data-x-cls="my-product-footer--next-btn"])').addClass('d-none btn-light').attr('data-page',0);let l=s.find('.btn-page-controls[data-x-cls="my-product-footer--previous-btn"]').prop('disabled',!0),n=s.find('.btn-page-controls[data-x-cls="my-product-footer--next-btn"]').prop('disabled',!0);if(Number.isInteger(t)&&Number.isInteger(e)&&Number.isInteger(a)&&Number.isInteger(o))if(l.removeClass('d-none'),n.removeClass('d-none'),t<=o)s.find('[data-x-cls="my-product-footer--number-1"]').text(1).removeClass('d-none').prop('disabled',!0);else{let i=0;i=0==e&&0===a?0:0===e?a+1:0===a?e-1:Number.parseInt((a+e)/2);let d=Math.ceil(t/o);d<=9?([...Array(d).keys()].map((t=>t+1)).map((t=>{s.find(`[data-x-cls="my-product-footer--number-${t}"]`).text(t).prop('disabled',t===i).removeClass('d-none '+(t===i?'btn-light':'')).attr('data-page',t)})),l.prop('disabled',1===i).attr('data-page',i-1),n.prop('disabled',i===d).attr('data-page',i+1)):i<=4?(l.attr('data-page',i-1).prop('disabled',1===i),n.attr('data-page',i+1).prop('disabled',!1),s.find(`[data-x-cls="my-product-footer--number-1"]`).text(1).attr('data-page',1).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-2"]`).text(2).attr('data-page',2).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-3"]`).text(3).attr('data-page',3).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-4"]`).text(4).attr('data-page',4).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-5"]`).text(5).attr('data-page',5).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-6"]`).text(6).attr('data-page',6).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-7"]`).text(7).attr('data-page',7).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-8"]`).text('...').prop('disabled',!0).removeClass('d-none btn-light'),s.find(`[data-x-cls="my-product-footer--number-9"]`).text(d).attr('data-page',d).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-${i}"]`).prop('disabled',!0).removeClass('d-none btn-light')):d-i<=4?(l.attr('data-page',i-1).prop('disabled',!1),n.attr('data-page',i+1).prop('disabled',i===d),s.find(`[data-x-cls="my-product-footer--number-1"]`).text(1).attr('data-page',1).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-2"]`).text('...').prop('disabled',!0).removeClass('d-none btn-light'),s.find(`[data-x-cls="my-product-footer--number-3"]`).text(d-6).attr('data-page',d-6).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-4"]`).text(d-5).attr('data-page',d-5).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-5"]`).text(d-4).attr('data-page',d-4).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-6"]`).text(d-3).attr('data-page',d-3).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-7"]`).text(d-2).attr('data-page',d-2).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-8"]`).text(d-1).attr('data-page',d-1).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-9"]`).text(d).attr('data-page',d).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-${9-(d-i)}"]`).prop('disabled',!0).removeClass('d-none btn-light')):(l.attr('data-page',i-1).prop('disabled',!1),n.attr('data-page',i+1).prop('disabled',!1),s.find(`[data-x-cls="my-product-footer--number-4"]`).text(i-1).attr('data-page',i-1).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-3"]`).text(i-2).attr('data-page',i-2).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-2"]`).text('...').prop('disabled',!0).removeClass('d-none btn-light'),s.find(`[data-x-cls="my-product-footer--number-1"]`).text(1).attr('data-page',1).attr('data-page',2).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-6"]`).text(i+1).attr('data-page',i+1).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-7"]`).text(i+2).attr('data-page',i+2).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-8"]`).text('...').prop('disabled',!0).removeClass('d-none btn-light'),s.find(`[data-x-cls="my-product-footer--number-9"]`).text(d).attr('data-page',d).prop('disabled',!1).removeClass('d-none'),s.find(`[data-x-cls="my-product-footer--number-5"]`).text(i).prop('disabled',!0).removeClass('d-none btn-light'))}}}class e{constructor(t,e){this.ele=t,this.data=e}static convertThousand(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'₫',a=[];if(t){let e=t.toString().split("").reverse();e.map(((t,o)=>{0!==o&&o%3==0&&o!==e.length-1?(a.push("."),a.push(t)):a.push(t)}))}return`${a.reverse().join("")} ${e.toUpperCase()}`}load(){this.loadLinkDetail(),this.loadSrcImage(),this.loadTitle(),this.loadPrice(),this.loadRemarks(),this.loadAvailabelAmout()}loadLinkDetail(){let t=this.data.id,e=$(this.ele).find('a[data-x-cls="my-product-item--link"]');if(e.length>0)if(t){let a=e.attr('href');a&&'#'!==a&&e.attr('href',a.replaceAll("{id}",t))}else e.attr('href','#')}loadSrcImage(){let t=this.data.avatar||'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImZpbGw6IHJnYmEoMCwwLDAsMC4xNSk7IHRyYW5zZm9ybTogc2NhbGUoMC43NSkiPgogICAgICAgIDxwYXRoIGQ9Ik04LjUgMTMuNWwyLjUgMyAzLjUtNC41IDQuNSA2SDVtMTYgMVY1YTIgMiAwIDAgMC0yLTJINWMtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMnoiPjwvcGF0aD4KICAgICAgPC9zdmc+';this.ele.find('img[data-x-cls="my-product-img--img"]').attr('src',t)}loadTitle(){let t=this.data.title||'',e=this.ele.find('[data-x-cls="title-line-text"]');if(e.length>0){e.attr('title',t);let a='';a=t.length>100?`${t.slice(0,100)}...`:`${t}${" ".repeat(100-t)}`,e.attr('data-title-sm',a),e.text(a)}}loadPrice(){let t=this.data.sale_price||'';this.ele.find('[data-x-cls="price-line-text"]').text(e.convertThousand(t))}loadRemarks(){let t=this.data.description||'',e=this.ele.find('[data-x-cls="remark-line-text"]');e.attr('title',t);let a='';a=t.length>100?`${t.slice(0,100)}...`:`${t}${" ".repeat(100-t)}`,e.attr('data-title-sm',a),e.text(a)}loadAvailabelAmout(){let t=this.data.stock_amount||'';t?this.ele.find('[data-x-cls="my-product-data--amout-left"]').text(t):this.ele.find('[data-x-cls="my-product-data--amout-all"]').addClass('d-none')}}class a{constructor(t,e){this.clsThis=t,this.myProductDataEle=e}params(){let t={},e=$(this.clsThis).find('[data-x-cls="my-product-header--search"]').val();e&&(t['search']=e);let a=$(this.clsThis).find('[data-x-cls="my-product-header--sort"]').val();return'price-a-z'===a?t['ordering']='sale_price':'price-z-a'===a&&(t['ordering']='-sale_price'),t}callData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;if(e.myProductDataEle=$(e.clsThis).find('div[data-x-cls="my-product-data"]'),e.patternItemListEle=$(e.clsThis).find('div[data-x-cls="my-product-item"][data-is-pattern="true"]').addClass('d-none'),e.patternItemListEle.not(":eq(0)").remove(),e.patternItemEle=null,1===this.patternItemListEle.length){this.patternItemEle=$(this.patternItemListEle[0]).clone();let a=$(e.clsThis).find('div[data-x-cls="my-product-item"]:not([data-is-pattern="true"])');0===a.length?(a.remove(),setTimeout((()=>{e.callDataApi(t)}),50)):e.myProductDataEle.hide('fast',(function(){$('html, body').animate({scrollTop:$('#idx-my-products-all').offset().top},50),a.remove(),setTimeout((()=>{e.callDataApi(t)}),50)}))}}callDataApi(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=this;if(this.patternItemEle){let l={pageSize:12,page:1,...this.params(),...a};$.fn.callAjaxPublic({url:$(o.clsThis).attr('data-url')+'?'+$.param(Object.keys(l).length>0?l:{}),type:$(o.clsThis).attr('data-method')}).then((a=>{let l=new t(o.clsThis,a);l.loadPageCount(),l.loadPagination();let n=a?.['data']||null;n&&Array.isArray(n)&&n.map(((t,a)=>{let l=this.patternItemEle.clone().removeClass('d-none').attr('data-id',t.id).attr('data-is-pattern','false');new e(l,t).load(),$(s).append(l),a===n.length-1&&$(o.myProductDataEle).show('fast')}))}),(t=>{console.log('errs:',t)}))}}}let o=this,s=$(this).find('div[data-x-cls="my-product-data"]');if(s.length>0){if('/test/products'===$(o).attr('data-url')){console.log('%c Response My-Product API return format:','background: #222; color: red',{data:[{id:"{id}",title:"{name}",available_amount:40,avatar:"{link}",description:"{remark}",sale_price:1e3}],page_size:100,page_count:1,page_next:0,page_previous:0});let t='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImZpbGw6IHJnYmEoMCwwLDAsMC4xNSk7IHRyYW5zZm9ybTogc2NhbGUoMC43NSkiPgogICAgICAgIDxwYXRoIGQ9Ik04LjUgMTMuNWwyLjUgMyAzLjUtNC41IDQuNSA2SDVtMTYgMVY1YTIgMiAwIDAgMC0yLTJINWMtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMnoiPjwvcGF0aD4KICAgICAgPC9zdmc+',e={data:[{id:"3a82c590-cb82-4f7c-aba6-cfcb383af8e2",title:"Máy in HP",code:"PRD.0005",stock_amount:123,avatar:"https://www.volusion.com/blog/content/images/2021/07/Product-Photos.jpg",description:"Máy in màu",sale_price:15e6},{id:"3a82c590-cb82-4f7c-aba6-cfcb383af8e2",title:"Máy in HP",code:"PRD.0005",stock_amount:666,avatar:t,description:"Máy in màu",sale_price:15e6},{id:"3a82c590-cb82-4f7c-aba6-cfcb383af8e2",title:"Máy in HP",code:"PRD.0005",stock_amount:834,avatar:t,description:"Máy in màu",sale_price:15e6},{id:"3a82c590-cb82-4f7c-aba6-cfcb383af8e2",title:"Máy in HP",code:"PRD.0005",stock_amount:1,avatar:t,description:"Máy in màu",sale_price:15e6}],page_size:10,page_count:100,page_next:3,page_previous:1};$.mockjax({url:/\/test\/products(.)*/gm,type:'GET',contentType:"application/json",responseText:e}),$.mockjax({url:'/test/products?pageSize=12&page=1',type:'GET',contentType:"application/json",responseText:e}),$.mockjax({url:'/test/products?pageSize=12&page=2',type:'GET',contentType:"application/json",responseText:e}),$.mockjax({url:'/test/products?pageSize=12&page=3',type:'GET',contentType:"application/json",responseText:e})}$.fn.callAjaxPublic||($.fn.callAjaxPublic=function(t){return new Promise(((e,a)=>{let{url:o,method:s}=t,l={url:o,type:s,contentType:"application/json",processData:!0,data:'GET',headers:{},success:function(t,a,o){e(t)},error:function(t,e,o){let s=t.responseJSON;s&&'object'==typeof s?a(s):204===t.status&&a({status:204})}};return $.ajax(l)}))}),t.activeListenChangePage(s),new a(o,s).callData(),$(o).find('[data-x-cls="my-product-header--search"],[data-x-cls="my-product-header--sort"]').on('change',(function(){new a(o,s).callData()}))}}},init(){0===this.components().models[1].components().length&&this.components().models[1].components().add({type:p})}}})},d={'grapesjs-plugin-my-products':{search:"Search",relateSuitable:"Relevancy: Suitable",pricesLowsToHights:"Price: Lows to Hights (1-n)",pricesHightsToLows:"Price: Hights to Lows (n-1)",displayList:"List",displayBlock:"Block",resultCount:"result was count",amountLeftBefore:"There are still ",amountLeftAfter:" products left.",favourPrice:"Favour",variantProd:"Variant",quantityBuy:"Quantity",buyNow:"Buy Now",addToCart:"Add to card",descriptionProduct:"Descriptions",addrDelivery:"Delivery address",btnChange:"Change",exchangeAndWarranty:"Exchange and Warranty",returnable:"Returnable",dayReturned:"-day return period for the Seller",noApplyWarranty:"Warranty not applicable",shipCode:"Shipping Code"}},r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a={i18n:{},id:'my-product',label:'Products',idDetail:'my-product-detail',labelDetail:'Product Detail',productData:{url:'/test/products',method:'GET',linkDetail:'/test/product/{id}',linkAPIDetail:'/test/api/product/{id}',...e?.productData||{}},...e};t.I18n&&t.I18n.addMessages({en:d,...a.i18n}),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:a,label:o,block:s,labelDetail:l,idDetail:n,blockDetail:i}=e;t.BlockManager.add(a,{label:o,content:{type:a},media:`<i class="fa-brands fa-product-hunt fa-3x"></i>`,category:'Data Vision',select:!0,...s}),t.BlockManager.add(n,{label:l,content:{type:n},media:`<i class="fa-solid fa-cube fa-3x"></i>`,category:'Data Vision',select:!0,...i})}(t,a),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:a,label:o,productData:s}=e;i(t,{...e,id:a,label:o,productData:s});const{idDetail:l,labelDetail:d}=e,[r,c]=[`${l}-row`,`${d} Row`],p={tagName:'div',dropable:!1,dragable:!1};n(t,{...e,idDetail:l,labelDetail:d,internalOpts:p,idDetailItem:r,labelDetailItem:c}),t.DomComponents.addType(l,{model:{defaults:{...p,name:d,tagName:'div',attributes:{class:'container py-3 bg-white',"data-x-cls":"my-products-detail"},components:[{type:r}]}}})}(t,a)};return e})()));
//# sourceMappingURL=index.js.map