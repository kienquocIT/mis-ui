{% extends 'base.html' %}
{% load static i18n %}

{% block cssHeader %}
    <link rel="stylesheet" href="{% static 'core/company/css/company_list.css' %}">
{% endblock %}

{% block pageAction %}
    <a class="btn btn-icon btn-flush-dark btn-rounded flush-soft-hover no-caret flex-shrink-0 d-lg-inline-block d-none"
        href="#" data-bs-toggle="tooltip" data-bs-placement="top" title=""
        id="add_company_button" data-bs-original-title="Add Company">
        <span class="icon" data-bs-toggle="modal" data-bs-target="#AddCompanyForms">
            <span class="feather-icon">
                <i data-feather="plus"></i>
            </span>
        </span>
    </a>
{% endblock %}

{% block pageContent %}
    <input name="default_representative_name" value="{{ request.user.first_name }} {{ request.user.last_name }}" hidden/>
    <table id="datable_company_list" class="table nowrap w-100 mb-5"
            data-url="{% url "CompanyListAPI" %}"
            data-url-redirect="/"
            data-method="GET">
        <thead>
        <tr>
            <th style="max-width: 5%">
                <span class="form-check">
                    <input type="checkbox"
                            class="form-check-input check-select-all"
                            id="customCheck1">
                    <label class="form-check-label" for="customCheck1"></label>
                </span>
            </th>
            <th style="max-width: 25%">Company name</th>
            <th style="max-width: 15%">Code</th>
            <th style="max-width: 25%">Created date</th>
            <th style="max-width: 20%">Representative</th>
            <th style="max-width: 10%"><center>Action</center></th>
        </tr>
        </thead>
        <tbody></tbody>
    </table>

    <!-- Add Company -->
    <div class="modal fade"
            id="AddCompanyForms"
            tabindex="-1"
            role="dialog"
            aria-hidden="true">
        <div class="modal-dialog modal-lg mt-15" role="document">
            <div class="modal-content mb-7">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans 'Add Company' %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">Ã—</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="frm-add-company"
                            data-url="{% url "CompanyListAPI" %}"
                            data-url-redirect="/"
                            data-method="POST">
                        {% csrf_token %}
                        <div class="mb-3">
                            <div class="row">
                                <div class="col-md-6">
                                    <label class="form-label" for="exampleDropdownFormPassword1">
                                        <b>{% trans 'Company Name' %}</b>
                                    </label>
                                    <input type="text" class="form-control"
                                            id="company_name_id" name="title"
                                            placeholder="MT Solution"
                                            required/>
                                    <span class="form-text text-muted">{% trans 'Name of new company' %}</span>
                                </div>

                                <div class="col-md-6">
                                    <label class="form-label" for="exampleDropdownFormPassword1">
                                        <b>{% trans 'Code' %}</b>
                                    </label>
                                    <select class="form-control form-select" id="parent_company_id"
                                            name="parent_company"
                                            disabled
                                            required>
                                        <option value="" selected>{% trans 'No selected' %}</option>
                                        <option value="1">One</option>
                                        <option value="2">Two</option>
                                        <option value="3">Three</option>
                                    </select>
                                    <span class="form-text text-muted">{% trans 'The new is subsidiary company or not' %}</span>
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <div class="row">
                                 <div class="col-md-6">
                                    <label class="form-label" for="exampleDropdownFormPassword1">
                                        <b>{% trans 'Representative' %}</b>
                                    </label>
                                    <input type="text" class="form-control"
                                            id="code_id" name="code"
                                            oninput="this.value=this.value.toUpperCase()"
                                            placeholder="MIS001"
                                            required/>
                                    <span class="form-text text-muted">{% trans 'Code new company' %}</span>
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="form-label" for="exampleDropdownFormPassword1">
                                        <b>{% trans 'Address' %}</b>
                                    </label>
                                    <input type="text" class="form-control"
                                            id="address_id" name="address"
                                            placeholder="{% trans 'No.20, 22 Street, Him Lam Quarter, Binh Hung Ward, Binh Chanh District, HCM city, VN country' %}"
                                            required>
                                    <span class="form-text text-muted">{% trans 'Address new company' %}</span>
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <div class="row">
                                <div class="col-md-6">
                                    <label class="form-label" for="exampleDropdownFormPassword1">
                                        <b>{% trans 'Email' %}</b>
                                    </label>
                                    <input type="text" class="form-control"
                                            id="representative_fullname_id" name="representative_fullname"
                                            placeholder="Nguyen Van A" required/>
                                    <span class="form-text text-muted">{% trans 'Full name of Representative' %}</span>
                                </div>

                                <div class="col-md-6">
                                    <label class="form-label" for="exampleDropdownFormPassword1">
                                        <b>{% trans 'Phone Number' %}</b>
                                    </label>
                                    <input type="text" class="form-control"
                                            id="email_id" name="email"
                                            placeholder="anv@mtsolution.com.vn"
                                            required/>
                                    <span class="form-text text-muted">{% trans 'Email of Representative' %}</span>
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="form-label" for="exampleDropdownFormPassword1">
                                        <b>{% trans 'Parent Company' %}</b>
                                    </label>
                                    <input type="number" class="form-control"
                                            id="phone_id" name="phone"
                                            placeholder="+84987654321"
                                            required/>
                                    <span class="form-text text-muted">{% trans 'Phone number of Representative' %}</span>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-3 pb-3">
                            <div class="form-group">
                                <input type="submit" class="btn btn-success" id="add-company-submit"
                                        value="{% trans 'Add' %}"/>
                                <input type="button"
                                        class="btn btn-outline-dark"
                                        data-bs-dismiss="modal"
                                        value="{% trans 'Cancel' %}"/>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block jsFooter %}
    <script src="{% static 'core/company/js/load_company_DT.js' %}"></script>
    <script src="{% static 'core/company/js/add_new_company.js' %}"></script>
    <script src="{% static 'core/company/js/delete_company.js' %}"></script>
{% endblock %}
