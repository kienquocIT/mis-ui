{% extends 'base.html' %}
{% load static i18n %}
{% block cssHeader %}
    <link href="{% static 'assets/sales/inventory/css/goodreceipt/goods_receipt_create.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'vendors/daterangepicker/daterangepicker.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'vendors/select2/dist/css/select2.min.css' %}" rel="stylesheet" type="text/css">
    <style>
        .child-workflow-group {
            border-left: 1px groove #bfcbd0;
        }

        .btn-collapse-app-wf:hover, .btn-collapse-doc-wf:hover {
            background-color: slategrey !important;
        }

        .btn-collapse-app-wf:hover .icon-collapse-app-wf, .btn-collapse-doc-wf:hover .icon-collapse-doc-wf {
            color: #FFFFFF !important;
        }

        .bg-grey-light-5 {
            background-color: #f7f7f7;
        }
        .bg-gray-light-4 {
            background-color: #eaeaea;
        }
        .miner-group {
            display: none!important;
        }
    </style>
{% endblock %}
{% block pageAction %}
    <a href="{% url 'GoodsRecoveryUpdate' pk=pk %}">
        <button class="btn btn-outline-primary" id="btn-enable-edit">
            <span>
                <span>{% trans 'Edit' %}</span>
                <span class="icon">
                    <i class="fa-regular fa-pen-to-square"></i>
                </span>
            </span>
        </button>
    </a>
{% endblock %}

{% block pageContent %}
    <form
            data-url="{% url 'GoodsRecoveryDetailAPI' pk=pk %}"
            data-url-redirect="{% url 'GoodsRecoveryList' %}"
            data-method="GET"
            id="frm_goods_recovery"
            method="post"
    >
        {% csrf_token %}
        <div class="container-fluid">
            <div class="collapse show" id="collapseInfo">
                <div class="row">
                    <div class="col-12 col-md-6 col-lg-6">
                        <div class="form-group">
                            <label class="form-label required" for="title">{% trans 'Title' %}</label>
                            <input
                                    type="text" class="form-control"
                                    name="title" id="title"
                                    readonly
                            >
                        </div>
                    </div>
                    <div class="col-12 col-md-3 col-lg-3">
                        <div class="form-group">
                            <label class="form-label required" for=date_recovery">{% trans 'Date' %}</label>
                            <div class="input-affix-wrapper">
                                <input type="text" name="date_recovery" id="date_recovery"
                                       class="form-control date-picker" autocomplete="off" readonly>
                                <div class="input-suffix">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-3 col-lg-3">
                        <div class="form-group">
                            <label class="form-label required" for="recovery_status">{% trans 'Status' %}</label>
                            <select
                                class="form-select"
                                id="recovery_status"
                                data-url=""
                                data-method="GET"
                                data-link-detail=""
                                name="status"
                                data-keyResp=""
                                readonly
                            ></select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-md-6 col-lg-6">
                        <div class="form-group">
                            <label class="form-label required" for="customer_id">{% trans 'Customer' %}</label>
                            <select
                                    class="form-select"
                                    id="customer_id"
                                    data-url="{% url "AccountForSaleListAPI" %}"
                                    data-method="GET"
                                    data-link-detail="{% url "AccountDetail" 1 %}"
                                    name="customer_id"
                                    data-keyResp="account_sale_list"
                                    data-keyText="name"
                                    readonly
                            ></select>
                        </div>
                        <div class="form-group">
                            <label class="form-label required" for="lease_order_id">{% trans 'Lease order' %}</label>
                            <select
                                    class="form-select"
                                    id="lease_order_id"
                                    data-url="{% url "LeaseOrderListAPI" %}"
                                    data-method="GET"
                                    name="lease_order_id"
                                    data-keyResp="lease_order_list"
                                    readonly
                            ></select>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-6">
                        <div class="form-group">
                            <label class="form-label" for="remark">{% trans 'Note' %}</label>
                            <textarea class="form-control" rows="3" id="remark" name="remark" readonly></textarea>
                        </div>
                    </div>
                </div>


            </div>
            <div class="d-flex justify-content-end">
                <button type="button" class="btn btn-icon btn-rounded btn-flush-light flush-soft-hover btn-sm" id="btn-collapse" data-bs-toggle="collapse" data-bs-target="#collapseInfo" aria-expanded="false" aria-controls="collapseInfo"><span class="icon"><i class="fas fa-angle-double-up collapse-icon"></i></span></button>
            </div>



            <div class="row">
                <div class="row">
                    <ul class="nav nav-pills-bfl" id="quotation-tabs">
                        <li class="nav-item">
                            <a class="nav-link active" data-bs-toggle="tab" href="#tab_line_detail">
                                <span class="nav-icon-wrap mr-1"><i class="fas fa-cube"></i></span>
                                <span class="nav-link-text">{% trans 'Product' %}</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#attachment">
                                <span class="nav-icon-wrap mr-1"><i class="fas fa-paperclip"></i></span>
                                <span class="nav-link-text">{% trans 'Attachment' %}</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="tab-content" id="tab-content-quotation-product">
                    <div class="tab-pane fade show active" id="tab_line_detail">
                        <div class="row custom-line-detail" id="custom-line-detail-1">
                            <div class="row">
                                <table
                                    id="datable-product"
                                    class="table nowrap min-w-1366p w-100 mb-5"
                                    data-url=""
                                    data-method="get"
                                >
                                    <thead>
                                    <tr class="bg-light">
                                        <th>#</th>
                                        <th>{% trans 'Name' %}</th>
                                        <th>{% trans 'Code' %}</th>
                                        <th>{% trans 'UOM' %}</th>
                                        <th>{% trans 'Quantity' %}</th>
                                        <th>{% trans 'Lease time' %}</th>
                                        <th>{% trans 'Unit cost' %}</th>
                                        <th>{% trans 'Depreciation' %}</th>
                                        <th>{% trans 'Final cost' %}</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="attachment">
                        {% include 'extends/files/all.html' %}
                    </div>
                </div>
            </div>
        </div>
    </form>
{% endblock %}

{% block modalData %}
    {% include 'sales/inventory/goodsrecovery/goods_recovery_detail_offcanvas.html' %}
{% endblock %}

{% block dataHiddenGroup %}
    <input
            type="text"
            id="app-trans-factory"
            data-view-detail-info="{% trans 'View detail' %}"
            data-more-information="{% trans 'More information' %}"
            data-validate-import="{% trans 'Exceed quantity' %}"
            data-validate-no-warehouse="{% trans 'Must select one warehouse' %}"
            data-select="{% trans 'Select' %}"
            data-lot-exist="{% trans 'Lot number is exist' %}"
            data-serial-exist="{% trans 'Serial number is exist' %}"
            data-lot-different="{% trans 'Lot number must be different' %}"
            data-serial-different="{% trans 'Serial number must be different' %}"
            data-for-po="{% trans 'For purchase order' %}"
            data-for-ia="{% trans 'For inventory adjustment' %}"
            data-for-production="{% trans 'For production' %}"
            data-ia-quantity-valid="{% trans 'Please enter sufficient quantity' %}"
            data-stock="{% trans 'Stock' %}"
            data-for-pro="{% trans 'General production' %}"
            data-for-wo="{% trans 'Production for orders' %}"
            data-purchase-request="{% trans 'Purchase request' %}"
            data-production-report="{% trans 'Production report' %}"
            data-required-product="{% trans "Product is required" %}"
            data-edit="{% trans "Edit" %}"

            data-status-1="{% trans "Open" %}"
            data-status-2="{% trans "Open" %}"
            data-status-3="{% trans "Open" %}"
            data-asset-type-1="{% trans "Goods" %}"
            data-asset-type-2="{% trans "Tool" %}"
            data-asset-type-3="{% trans "Fixed asset" %}"
            data-exceed-quantity="{% trans 'Exceed quantity' %}"
            data-unique-serial="{% trans 'Serial is unique' %}"
            data-depreciation-method-1="{% trans 'Line method' %}"
            data-depreciation-method-2="{% trans 'Adjustment method' %}"
            data-new-products="{% trans 'New products' %}"
            data-leased-products="{% trans 'Leased products' %}"
    >
    <input
            type="text"
            id="data-init-uom"
            data-url="{% url "UnitOfMeasureListAPI" %}"
            data-method="GET"
    >
    <input
            type="text"
            id="data-init-tax"
            data-url="{% url "TaxListAPI" %}"
            data-method="GET"
    >
    <input
            type="text" id="url-factory"
            data-delivery="{% url 'DeliveryForRecoveryListAPI' %}"
            data-warehouse="{% url "WareHouseForInventoryListAPI" %}"

            data-md-bom="{% url 'BOMOrderListAPI' %}"
            data-md-product="{% url 'ProductForSaleListAPI' %}"
            data-md-uom="{% url "UnitOfMeasureListAPI" %}"
            data-md-tax="{% url "TaxListAPI" %}"
    >
{% endblock %}

{% block jsFooter %}

    <script src="{% static 'vendors/daterangepicker/daterangepicker.js' %}"></script>
    <script src="{% static 'vendors/select2/dist/js/select2.full.min.js' %}"></script>
    <script src="{% static 'vendors/select2/dist/js/init-select2.js' %}"></script>

    <script src="{% static 'assets/js/extends/depreciation/depreciation_common.js' %}"></script>
    <script src="{% static 'assets/sales/inventory/js/goodsrecovery/goods_recovery_common.js' %}"></script>
    <script src="{% static 'assets/sales/inventory/js/goodsrecovery/goods_recovery_create.js' %}"></script>
    <script src="{% static 'assets/sales/inventory/js/goodsrecovery/goods_recovery_detail.js' %}"></script>
    <script src="{% static 'assets/js/direct-btn-group.js' %}"></script>
{% endblock %}