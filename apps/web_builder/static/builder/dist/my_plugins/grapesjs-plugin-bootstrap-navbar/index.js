/*! grapesjs-plugin-bootstrap-navbar - 1.0.54 */
!function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports["grapesjs-plugin-bootstrap-navbar"]=t():e["grapesjs-plugin-bootstrap-navbar"]=t()}('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:this,(()=>(()=>{"use strict";var e={d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})}},t={};e.r(t),e.d(t,{default:()=>g});const a='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImZpbGw6IHJnYmEoMCwwLDAsMC4xNSk7IHRyYW5zZm9ybTogc2NhbGUoMC43NSkiPgogICAgICAgIDxwYXRoIGQ9Ik04LjUgMTMuNWwyLjUgMyAzLjUtNC41IDQuNSA2SDVtMTYgMVY1YTIgMiAwIDAgMC0yLTJINWMtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMnoiPjwvcGF0aD4KICAgICAgPC9zdmc+',n='<svg fill="#000000" width="35px" height="35px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 330 330" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M315,0H15C6.716,0,0,6.716,0,15v300c0,8.284,6.716,15,15,15h300c8.284,0,15-6.716,15-15V15C330,6.716,323.284,0,315,0z M300,300H30V30h270V300z"></path> <path d="M90.001,109.999h150c8.284,0,15-6.716,15-15s-6.716-15-15-15h-150c-8.284,0-15,6.716-15,15S81.717,109.999,90.001,109.999z "></path> <path d="M90.001,179.999h150c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-150c-8.284,0-15,6.716-15,15 C75.001,173.283,81.717,179.999,90.001,179.999z"></path> <path d="M90.001,249.999h150c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-150c-8.284,0-15,6.716-15,15 C75.001,243.283,81.717,249.999,90.001,249.999z"></path> </g> </g></svg>',i='<svg fill="#f1f1f1" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="35px" height="35px" viewBox="0 0 72 72" enable-background="new 0 0 72 72" xml:space="preserve" stroke="#f1f1f1"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M60.5,21h-49C6.813,21,3,17.187,3,12.5S6.813,4,11.5,4h49c4.687,0,8.5,3.813,8.5,8.5S65.187,21,60.5,21z M11.5,8 C9.019,8,7,10.019,7,12.5S9.019,17,11.5,17h49c2.481,0,4.5-2.019,4.5-4.5S62.981,8,60.5,8H11.5z"></path> </g> <g> <path d="M52.5,68h-41C6.813,68,3,64.187,3,59.5S6.813,51,11.5,51h41c4.687,0,8.5,3.813,8.5,8.5S57.187,68,52.5,68z M11.5,55 C9.019,55,7,57.019,7,59.5S9.019,64,11.5,64h41c2.481,0,4.5-2.019,4.5-4.5S54.981,55,52.5,55H11.5z"></path> </g> <g> <path d="M40.5,45h-29C6.813,45,3,41.187,3,36.5S6.813,28,11.5,28h29c4.687,0,8.5,3.813,8.5,8.5S45.187,45,40.5,45z M11.5,32 C9.019,32,7,34.019,7,36.5S9.019,41,11.5,41h29c2.481,0,4.5-2.019,4.5-4.5S42.981,32,40.5,32H11.5z"></path> </g> </g> </g></svg>',o='<svg fill="#000000" width="35px" height="35px" viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg" stroke="#f1f1f1"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M1866.003 351.563 1565.128 50.575c-69.46-67.652-180.932-67.426-248.923.565L906.23 461.116c-68.33 68.443-68.33 179.69.113 248.132l31.623 31.624 79.737-79.963-31.624-31.51c-24.282-24.396-24.282-64.038 0-88.433l409.977-409.977c24.508-24.395 64.828-24.17 89.675 0l299.859 299.972c24.734 25.186 24.847 65.619.564 90.014l-409.976 409.977c-24.508 24.282-64.15 24.282-88.546 0l-110.795-110.909 159.473-159.36-79.85-79.85-435.614 435.502-109.779-109.779c-32.866-33.656-76.8-52.292-123.67-52.63-43.596 1.694-92.273 18.296-126.156 52.178L51.377 1316.081c-68.442 68.442-68.442 179.69 0 248.132l301.553 301.553c34.108 34.108 79.059 51.275 124.01 51.275 44.95 0 89.9-17.167 124.122-51.275l409.976-409.977c33.77-33.882 52.405-78.607 52.066-126.042-.226-46.984-18.974-90.918-52.066-123.219l-30.494-30.494-79.85 79.85 30.946 30.945c11.86 11.633 18.41 27.106 18.523 43.595.113 16.942-6.664 33.092-18.974 45.516l-409.977 409.976c-23.492 23.492-64.94 23.492-88.433 0l-301.553-301.553c-11.746-11.746-18.183-27.444-18.183-44.273 0-16.715 6.437-32.414 18.183-44.16l409.977-409.976c12.197-12.31 28.235-19.087 45.063-19.087h.452c16.49.113 31.962 6.663 43.934 19.087l110.344 110.23-162.184 162.297 79.85 79.85 438.324-438.438 110.796 110.908c34.334 34.221 79.171 51.275 124.122 51.275 44.95 0 89.901-17.054 124.122-51.275l409.977-409.977c67.877-67.99 67.99-179.463 0-249.26" fill-rule="evenodd"></path> </g></svg>';const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:n,label:i,classPrefix:o,menus:r,prefixPath:s}=t,l=`${n}-${function(e){let t='';const a='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',n=a.length;let i=0;for(;i<e;)t+=a.charAt(Math.floor(Math.random()*n)),i+=1;return t}(10)}`,g=`${n}-logo`;e.DomComponents.addType(g,{model:{defaults:{tagName:'a',attributes:{class:`${o}-brand d-flex align-items-center`,"data-x-cls":"navbar-logo",href:'#'},components:[{type:'image',tagName:'img',attributes:{width:60,height:60,src:a,class:'d-inline-block align-top',alt:'Logo'},traits:['alt','width','height']},{type:'text',tagName:'span',attributes:{class:"ml-1"},components:`Brand`}],traits:['href','alt']}},isComponent:function(e){return'navbar-logo'===$(e).attr('data-x-cls')}});const p=`${n}-button-expand`;e.DomComponents.addType(p,{model:{defaults:{tagName:'button',editable:!1,attributes:{class:`${o}-toggler`,type:"button",'data-toggle':'collapse','data-target':`#${l}`,'aria-controls':`${l}`,'aria-expanded':"false",'aria-label':"Toggle navigation"},components:{tagName:'span',attributes:{class:'navbar-toggler-icon'}}}}});const d=`${n}-navbar-collapse`,h=`${n}-navbar-nav`;e.DomComponents.addType(d,{model:{defaults:{name:`${n}-navbar-collapse`,tagName:'div',attributes:{id:l,class:`collapse ${o}-collapse`},components:[{type:h}]}}});const c=`${n}-navbar-item`;e.DomComponents.addType(h,{model:{defaults:{name:`${n}-navbar-nav`,tagName:'ul',attributes:{class:`${o}-nav mr-auto`},components:[{type:c}],droppable:(e,t)=>e.get('type')===c}}});const b=`${n}-navbar-item-link`;e.DomComponents.addType(c,{model:{defaults:{name:`${n}-navbar-nav-item`,tagName:'li',attributes:{class:`nav-item`},components:[{type:b}],draggable:(e,t)=>t.get('type')===h,droppable:(e,t)=>e.get('type')===b}}});const m=`link-advance`,f='on-page-href',u={name:f,label:e.I18n.t('grapejs-plugin-bootstrap-navbar.onPageMenu'),type:'select',options:[{id:'#',name:'-'},...r.map((e=>(s&&!e.id.startsWith(s)&&(e.id=s+e.id),e)))],changeProp:!0},v='fragment-identifier',y={name:v,label:e.I18n.t('grapejs-plugin-bootstrap-navbar.fragId'),type:'text',placeholder:'idx-block-about-us',changeProp:!0},k='off-site-link',C={name:k,label:e.I18n.t('grapejs-plugin-bootstrap-navbar.offSite'),type:'text',placeholder:'https://bflow.vn',changeProp:!0};e.DomComponents.addType(m,{extend:'link',model:{defaults:{name:'Link Advance',tagName:'a',draggable:!0,droppable:!1,href:s+'/',"type-link":"on-page-href","on-page-href":s+'/',"fragment-identifier":"","off-site-link":"",traits:['target',{name:'type-link',label:e.I18n.t('grapejs-plugin-bootstrap-navbar.typeOfLink'),type:'select',options:[{id:'on-page-href',name:e.I18n.t('grapejs-plugin-bootstrap-navbar.onPageMenu')},{id:'fragment-identifier',name:e.I18n.t('grapejs-plugin-bootstrap-navbar.fragId')},{id:'off-site-link',name:e.I18n.t('grapejs-plugin-bootstrap-navbar.offSite')}],changeProp:!0},u],'script-props':['href','type-link','fragment-identifier','off-site-link'],content:e.I18n.t("grapejs-plugin-bootstrap-navbar.linkTxt")},init(){this.on('change:type-link',this.handleChangeTypeLink),this.on('change:on-page-href',this.handleChangeOnPageLink),this.on('change:fragment-identifier',this.handleChangeFragmentLink),this.on('change:off-site-link',this.handleChangeOffSiteLink)},handleNavLinkHrefTypeChange(){this.setAttributes({href:this.get('href')})},resetTraintAdvance(){this.removeTrait(f),this.removeTrait(v),this.removeTrait(k)},handleChangeTypeLink(){this.resetTraintAdvance();let e=this.get('type-link');'on-page-href'===e&&this.addTrait(u),"fragment-identifier"===e&&this.addTrait(y),'off-site-link'===e&&this.addTrait(C)},handleChangeOnPageLink(){this.setAttributes({href:this.attributes?.["on-page-href"]})},handleChangeFragmentLink(){this.setAttributes({href:'#'+this.attributes?.['fragment-identifier']})},handleChangeOffSiteLink(){let e=this.attributes?.['off-site-link']||null;e&&(e.startsWith('http://')||e.startsWith('https://'))&&this.setAttributes({href:e})}}}),e.DomComponents.addType(b,{extend:m,model:{defaults:{name:`${n}-navbar-item-link`,attributes:{class:'nav-link',href:s+'/'},draggable:(e,t)=>t.get('type')===c,components:[{type:'text',content:`${e.I18n.t("grapejs-plugin-bootstrap-navbar.homeTxt")} <span class="sr-only">(current)</span>`}]}}}),e.DomComponents.addType(n,{model:{defaults:{name:i,tagName:'nav',droppable:!1,attributes:{class:`${o} ${o}-expand-lg ${o}-light bg-light`},components:[{type:g},{tagName:'div',components:{type:p}},{type:d}],navColor:'navbar-light',bgColor:'bg-light',traits:[{name:'navColor',label:'Navbar Color',type:'select',options:[{id:'navbar-light',name:'Light',selected:!0},{id:'navbar-dark',name:'Dark'}],changeProp:!0},{name:'bgColor',label:'Background Color',type:'select',options:[{id:'bg-light',name:'Light',selected:!0},{id:'bg-dark',name:'Dark'},{id:'bg-primary',name:'Primary'},{id:'bg-secondary',name:'Secondary'},{id:'bg-success',name:'Success'},{id:'bg-danger',name:'Danger'},{id:'bg-warning',name:'Warning'},{id:'bg-info',name:'Info'}],changeProp:!0}],'script-props':['navColor','bgColor'],script:function(){$(document).ready((function(){let e=window.location.pathname;$(this).find('.nav-link').each((function(){let t=$(this).closest('.nav-item');t.removeClass('active'),$(this).attr('href')===e&&$(t).addClass('active')}))}))}},init(){this.on('change:navColor',this.handleNavColorTypeChange),this.on('change:bgColor',this.handleBackgroundColorTypeChange);let e=this.components().models[2].getAttributes().id;this.components().models[1].setAttributes({"data-target":`#${e}`,"aria-controls":e})},handleNavColorTypeChange(){let e=this.get('navColor'),t=this.traits.get('navColor').attributes.options.map((e=>e.id));this.setAttributes({class:this.resetClass(this.getAttributes().class,t,e)})},handleBackgroundColorTypeChange(){let e=this.get('bgColor'),t=this.traits.get('bgColor').attributes.options.map((e=>e.id));this.setAttributes({class:this.resetClass(this.getAttributes().class,t,e)})},resetClass(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'';return t.map((t=>{e=e.replaceAll(t,'')})),e+=` ${a}`}}})},s={'grapejs-plugin-bootstrap-navbar':{onPageMenu:'On-page menu',fragId:'Fragment Identifier',offSite:'Off-site links',typeOfLink:'Type of link',homeTxt:"Home",linkMenu:"Menu Link",linkAdvance:"Link Advance",linkTxt:"Link"}},l={'grapejs-plugin-bootstrap-navbar':{onPageMenu:'Liên kết nội bộ',fragId:'Nhận dạng ID',offSite:'Liên kết ngoài',typeOfLink:'Kiểu liên kết',homeTxt:"Trang chủ",linkMenu:"Liên kết Menu",linkAdvance:"Liên kết nâng cao",linkTxt:"Liên kết"}},g=function(e){const t={i18n:{},id:'bootstrap-navbar',label:'Navbar',classPrefix:'navbar',menus:[{id:'/',name:'Trang Chủ'},{id:'/about-us',name:'Về chúng tôi'}],prefixPath:'',...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};e.I18n&&e.I18n.addMessages({en:s,vi:l,...t.i18n}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{block:a,label:r,id:s}=t;e.BlockManager.add(s,{label:r,content:{type:s},media:i,category:'Navigations',select:!0,...a}),e.BlockManager.add(`${s}-navbar-item`,{label:`Navbar Item`,content:{type:`${s}-navbar-item`},media:n,category:'Navigations',select:!0}),e.BlockManager.add(`link-advance`,{label:e.I18n.t("grapejs-plugin-bootstrap-navbar.linkAdvance"),content:{type:`link-advance`},media:o,category:'Navigations',select:!0})}(e,t),r(e,t)};return t})()));
//# sourceMappingURL=index.js.map