{% extends 'base.html' %}
{% load i18n %}
{% load static %}
{% block title %}{% trans 'Master data Price' %}{% endblock %}
{% block cssHeader %}
    <!-- Select2 -->
    <link href="{% static 'vendors/select2/dist/css/select2.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'vendors/sweetalert2/sweetalert2.css' %}" rel="stylesheet">
{% endblock %}
{% block jsHeader %}
{% endblock %}
{% block pageAction %}
    <div class="hidden payment-terms-tabs">
        <button class="btn btn-outline-primary mr-2" type="submit" form="form-create-payment-term">
            <span>
                <span>{% trans 'Save' %}</span>
                <span class="icon">
                    <i class="fa-regular fa-floppy-disk"></i>
                </span>
            </span>
        </button>
        <button class="btn btn-outline-danger btn-terms-close">
            <span>
                <span>{% trans 'Close' %}</span>
                <span class="icon">
                    <i class="fa-regular fa-floppy-disk"></i>
                </span>
            </span>
        </button>
    </div>
{% endblock %}
{% block pageContent %}
     <script id="trans-script"
            data-trans-confirm-delete="{% trans 'Confirm delete ?' %}"
            data-trans-notify="{% trans 'This action can not be undo!' %}"
            data-trans-delete="{% trans 'Delete' %}"
            data-trans-cancel="{% trans 'Cancel' %}"
    ></script>
    <div class="row">
        <div class="col-12 col-lg-2 col-md-2">
            <ul class="nav nav-pills nav-light flex-column">
                <li class="nav-item">
                    <a class="nav-link active" data-bs-toggle="tab" href="#section-currency">
                        <span class="nav-link-text">{% trans 'Currencies' %}</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#section-tax-category">
                        <span class="nav-link-text">{% trans 'Tax Categories' %}</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#section-tax">
                        <span class="nav-link-text">{% trans 'Taxes' %}</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#section-payment-terms">
                        <span class="nav-link-text">{% trans 'Payment Terms' %}</span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="col-12 col-md-10 col-lg-10">
            <div class="tab-content">
                <div class="tab-pane fade show active lookup-data" id="section-currency">
                    <div class="row">
                        <div class="col-6">
                            <a href="#" data-bs-toggle="modal" data-bs-target="#modal-new-currency">
                                <button class="btn btn-sm btn-outline-primary btn-modal">
                                    <span>
                                        <span>{% trans 'Add' %}</span>
                                        <span class="icon">
                                            <i class="fa-solid fa-plus"></i>
                                        </span>
                                    </span>
                                </button>
                            </a>
                        </div>
                        <div class="col-6 text-right">
                            <img style="height: 30px;" data-bs-toggle="tooltip" title="{% trans 'Sync with Vietcombank' %}"
                                 id="sync-from-VCB-button" data-method="PUT" data-url="{% url "SyncSellingRateWithVCB" pk=0 %}"
                                 src="https://www.vietcombank.com.vn/-/media/Project/VCB-Sites/VCB/Home-page/VCB-Logo/Logo-VCB-no-60.png?ts=20240605031450"
                                 alt="VCB Logo">
                        </div>
                    </div>
                    <table id="datatable-currency"
                           class="table nowrap w-100"
                           data-url="{% url "CurrencyListAPI" %}"
                           data-url-detail="{% url "CurrencyDetailAPI" pk=0 %}"
                           data-method="GET">
                        <thead>
                        <tr>
                            <th></th>
                            <th>{% trans "Code" %} / {% trans "Abbreviation" %}</th>
                            <th>{% trans "Name" %}</th>
                            <th>{% trans "Selling rate" %}</th>
                            <th></th>
                        </tr>
                        </thead>
                    </table>
                </div>
                <div class="tab-pane fade lookup-data" id="section-tax-category">
                    <a href="#" data-bs-toggle="modal" data-bs-target="#modal-new-tax-category">
                        <button class="btn btn-sm btn-outline-primary btn-modal">
                            <span>
                                <span>{% trans 'Add' %}</span>
                                <span class="icon">
                                    <i class="fa-solid fa-plus"></i>
                                </span>
                            </span>
                        </button>
                    </a>
                    <table id="datatable-tax-category" class="table nowrap w-100"
                           data-url="{% url "TaxCategoryListAPI" %}"
                           data-url-detail="{% url "TaxCategoryDetailAPI" pk=0 %}"
                           data-method="GET">
                        <thead>
                        <tr>
                            <th></th>
                            <th>{% trans "Code" %}</th>
                            <th>{% trans "Name" %}</th>
                            <th>{% trans "Description" %}</th>
                            <th></th>
                        </tr>
                        </thead>
                    </table>
                </div>
                <div class="tab-pane fade lookup-data" id="section-tax">
                    <a href="#" data-bs-toggle="modal" data-bs-target="#modal-new-tax">
                        <button class="btn btn-sm btn-outline-primary btn-modal">
                            <span>
                                <span>{% trans 'Add' %}</span>
                                <span class="icon">
                                    <i class="fa-solid fa-plus"></i>
                                </span>
                            </span>
                        </button>
                    </a>
                    <table id="datatable-tax" class="table nowrap w-100"
                           data-url="{% url "TaxListAPI" %}"
                           data-url-detail="{% url "TaxDetailAPI" pk=0 %}"
                           data-method="GET">
                        <thead>
                        <tr>
                            <th></th>
                            <th>{% trans "Code" %}</th>
                            <th>{% trans "Name" %}</th>
                            <th>{% trans "Type" %}</th>
                            <th>{% trans "Category" %}</th>
                            <th>{% trans "Rate" %}</th>
                            <th></th>
                        </tr>
                        </thead>
                    </table>
                </div>
                <div class="tab-pane fade lookup-data" id="section-payment-terms">
                    <button class="btn btn-sm btn-outline-primary btn-add-terms">
                        <span>
                            <span>{% trans 'Add' %}</span>
                            <span class="icon">
                                <i class="fa-solid fa-plus"></i>
                            </span>
                        </span>
                    </button>
                    <table id="datatable-payment-terms" class="table nowrap w-100"
                           data-method="GET"
                           data-url="{% url "PaymentsTermsListAPI" %}"
                           data-redirect="{% url 'PriceMasterDataList' %}">
                        <thead>
                        <tr>
                            <th></th>
                            <th>{% trans 'Code' %}</th>
                            <th>{% trans "Name" %}</th>
                            <th>{% trans "Transaction Type" %}</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
                <div class="tab-pane fade lookup-data" id="section-create-payment-terms">
                    <form id="form-create-payment-term" data-method="POST" data-url="{% url 'PaymentsTermsListAPI' %}">
                        {% csrf_token %}
                        <input type="hidden" name="payment_terms_id">
                        <div class="row">
                            <div class="col-sm-12 col-md-6 col-lg-4">
                                <div class="form-group">
                                    <label class="form-label required" for="inp-name">{% trans "Name" %}</label>
                                    <input class="form-control" name="title" id="inp-name"
                                           placeholder="{% trans '30-30-40 Split Payment' %}" type="text" required>
                                </div>
                            </div>
                            <div class=" col-sm-12 col-md-6 col-lg-4">
                                <div class="form-group">
                                    <label class="form-label required" for="inp-code">{% trans "Code" %}</label>
                                    <input
                                            class="form-control"
                                            name="code"
                                            id="inp-code"
                                            placeholder="TT-30-30-40"
                                            type="text" required
                                            minlength="1" maxlength="100"
                                    />
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-12 col-lg-4">
                                <div class="form-group">
                                    <label class="form-label required"
                                           for="inp-apply-for">{% trans "Apply for" %}</label>
                                    <select class="form-select" name="apply_for" required id="inp-apply-for">
                                        <option value="0">{% trans "Sale" %}</option>
                                        <option value="1">{% trans "Purchase" %}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group">
                                    <label class="form-label" for="inp-remarks">{% trans "Description" %}</label>
                                    <textarea class="form-control" name="remark"
                                              placeholder="{% trans 'Payment in 3 installments' %}" rows="3"
                                              id="inp-remarks"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3 mt-3 mb-3">
                                <button type="button" class="btn btn-sm btn-outline-primary btn_add_terms" data-bs-toggle="modal"
                                        data-bs-target="#modal-add-table">
                                    <span>
                                        <span>{% trans 'Add' %}</span>
                                        <span class="icon">
                                            <i class="fa-solid fa-plus"></i>
                                        </span>
                                    </span>
                                </button>
                            </div>
                            <table id="table_terms" class="table nowrap w-100 mb-5">
                                <thead>
                                <tr>
                                    <th></th>
                                    <th>{% trans "Title" %}</th>
                                    <th>{% trans "Value" %}</th>
                                    <th>{% trans "Value type" %}</th>
                                    <th>{% trans "No of days" %}</th>
                                    <th>{% trans "day type" %}</th>
                                    <th>{% trans "after" %}</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block modalData %}
    <div class="modal fade" id="modal-new-currency" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans "Currency" %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="form-create-currency" data-method="POST"
                          data-url-delete="{% url 'CurrencyDetailAPI' '0' %}" data-url="{% url "CurrencyListAPI" %}">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-12">
                                <div class="form-group">
                                    <label for="currency_name" class="form-label required">{% trans "Name" %}</label>
                                    <select class="form-select" id="currency_name" name="currency"
                                            data-url="{% url "BaseCurrencyListAPI" %}" data-method="GET"
                                            data-keyResp="base_currencies">
                                    </select>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group">
                                    <label for="abbreviation-id"
                                           class="form-label required">{% trans "Abbreviation" %}</label>
                                    <input class="form-control" type="text" id="abbreviation-id" name="abbreviation"
                                           readonly
                                           oninput="this.value=this.value.toUpperCase()">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{% trans 'Close' %}</button>
                    <button type="submit" form="form-create-currency"
                            class="btn btn-primary">{% trans 'Save' %}</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="modal-update-currency" tabindex="-1" role="dialog"
         aria-labelledby="exampleModalCenter" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans "Currency Detail" %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="form-update-currency" data-method="PUT"
                          data-url-raw="{% url "CurrencyDetailAPI" pk=0 %}"
                          data-url="{% url "CurrencyDetailAPI" pk=0 %}">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="currency-code"
                                           class="form-label required">{% trans "Code" %}</label>
                                    <input readonly disabled class="form-control form-control-line" type="text"
                                           id="currency-code" oninput="this.value=this.value.toUpperCase()">
                                </div>
                            </div>
                            <div class="col-8">
                                <div class="form-group">
                                    <label for="currency-title"
                                           class="form-label required">{% trans "Name" %}</label>
                                    <input readonly disabled class="form-control form-control-line" required type="text"
                                           id="currency-title">
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group">
                                    <label for="currency-selling-rate"
                                           class="form-label">{% trans "Selling Rate" %}</label>
                                    <input class="form-control" name="rate" type="number"
                                              id="currency-selling-rate">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{% trans 'Close' %}</button>
                    <button type="submit" form="form-update-currency"
                            class="btn btn-primary">{% trans 'Save' %}</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-new-tax-category" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans "Tax Category" %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="form-create-tax-category" data-method="POST" data-url="{% url "TaxCategoryListAPI" %}">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="new-tax-cate-code"
                                           class="form-label required">{% trans "Code" %}</label>
                                    <input id="new-tax-cate-code" required class="form-control" type="text" name="code"
                                           oninput="this.value=this.value.toUpperCase()">
                                </div>
                            </div>
                            <div class="col-8">
                                <div class="form-group">
                                    <label for="new-tax-cate-name"
                                           class="form-label required">{% trans "Name" %}</label>
                                    <input id="new-tax-cate-name" class="form-control" type="text" name="title"
                                           required>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group">
                                    <label for="new-tax-cate-des" class="form-label">{% trans "Description" %}</label>
                                    <textarea id="new-tax-cate-des" class="form-control" name="description"></textarea>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{% trans 'Close' %}</button>
                    <button type="submit" form="form-create-tax-category"
                            class="btn btn-primary">{% trans 'Save' %}</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-update-tax-category" tabindex="-1" role="dialog"
         aria-labelledby="exampleModalCenter" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans "Tax Category Detail" %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="form-update-tax-category" data-method="PUT"
                          data-url-raw="{% url "TaxCategoryDetailAPI" pk=0 %}"
                          data-url="{% url "TaxCategoryDetailAPI" pk=0 %}">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="tax-category-code"
                                           class="form-label required">{% trans "Code" %}</label>
                                    <input class="form-control form-control-line" type="text" name="code"
                                           id="tax-category-code" oninput="this.value=this.value.toUpperCase()">
                                </div>
                            </div>
                            <div class="col-8">
                                <div class="form-group">
                                    <label for="tax-category-title"
                                           class="form-label required">{% trans "Name" %}</label>
                                    <input class="form-control" required type="text" name="title"
                                           id="tax-category-title">
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group">
                                    <label for="tax-category-description"
                                           class="form-label">{% trans "Description" %}</label>
                                    <textarea class="form-control" name="description"
                                              id="tax-category-description"></textarea>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{% trans 'Close' %}</button>
                    <button type="submit" form="form-update-tax-category"
                            class="btn btn-primary">{% trans 'Save' %}</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-new-tax" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans "Tax" %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="form-create-tax" data-method="POST" data-url="{% url "TaxListAPI" %}">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="new-tax-code" class="form-label required">{% trans "Code" %}</label>
                                    <input id="new-tax-code" class="form-control" type="text" name="code"
                                           oninput="this.value=this.value.toUpperCase()">
                                </div>
                            </div>
                            <div class="col-8">
                                <div class="form-group">
                                    <label for="new-tax-title" class="form-label required">{% trans "Name" %}</label>
                                    <input id="new-tax-title" class="form-control" type="text" name="title">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="new-tax-rate" class="form-label required">{% trans "Rate" %}</label>
                                    <div class="input-group">
                                        <input id="new-tax-rate" class="form-control" type="number" name="rate" min="0"
                                               step="0.1">
                                        <span class="input-group-text">%</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-8">
                                <div class="form-group">
                                    <label for="select-box-category-create"
                                           class="form-label required">{% trans "Category" %}</label>
                                    <select class="select2 form-select" id="select-box-category-create" name="category"
                                            data-method="GET"
                                            data-url="{% url 'TaxCategoryListAPI' %}"
                                            data-keyResp="tax_category_list">
                                    </select>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group">
                                    <label for="select-box-type" class="form-label required">{% trans "Type" %}</label>
                                    <select class="form-control select2 select2-multiple" multiple
                                            data-placeholder="{% trans 'Choose' %}" id="select-box-type"
                                            name="tax_type"></select>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{% trans 'Close' %}</button>
                    <button type="submit" form="form-create-tax" class="btn btn-primary">{% trans 'Save' %}</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-update-tax" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans "Tax Detail" %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="form-update-tax" data-method="PUT" data-url-raw="{% url 'TaxDetailAPI' pk=0 %}"
                          data-url="{% url 'TaxDetailAPI' pk=0 %}">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="tax-code" class="form-label required">{% trans "Code" %}</label>
                                    <input class="form-control form-control-line" type="text" name="code"
                                           oninput="this.value=this.value.toUpperCase()" id="tax-code" readonly>
                                </div>
                            </div>
                            <div class="col-8">
                                <div class="form-group">
                                    <label for="tax-title" class="form-label required">{% trans "Name" %}</label>
                                    <input class="form-control" type="text" name="title" id="tax-title">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="tax-rate" class="form-label required">{% trans "Rate" %}</label>
                                    <div class="input-group">
                                        <input id="tax-rate" class="form-control" type="number" name="rate" min="0"
                                               step="0.1">
                                        <span class="input-group-text">%</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-8">
                                <div class="form-group">
                                    <label for="select-box-category-update"
                                           class="form-label required">{% trans "Category" %}</label>
                                    <select class="form-select"
                                            id="select-box-category-update"
                                            name="category"
                                            data-method="GET"
                                            data-url="{% url 'TaxCategoryListAPI' %}"
                                            data-keyResp="tax_category_list"
                                    ></select>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group">
                                    <label for="tax-type" class="form-label required">{% trans "Type" %}</label>
                                    <select class="form-select" multiple id="tax-type" name="tax_type"></select>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{% trans 'Close' %}</button>
                    <button type="submit" form="form-update-tax" class="btn btn-primary">{% trans 'Save' %}</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-add-table" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans "Terms" %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form method="get">
                        <div class="invalid-feedback text-danger mb-2"></div>
                        <div class="row">
                            <div class="form-group col-6">
                                <label class="form-label" for="term_title">{% trans "Title" %}</label>
                                <input class="form-control" type="text" id="term_title" name="title">
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-6">
                                <label for="select-box-unit-type" class="form-label">{% trans "Unit Type" %}</label>
                                <select class="form-select" id="select-box-unit-type" name="unit_type" required>
                                    <option value="" disabled selected hidden>{% trans 'Select option' %}...</option>
                                    {% for u in data.pay_terms_unit %}
                                        <option value="{{ u.value }}">{{ u.text }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="form-group col-6">
                                <label class="form-label">{% trans "Value" %}</label>
                                <input class="form-control" type="text" name="value" placeholder="40">
                                <input name="value_amount" placeholder="40,000" type="text"
                                       class="form-control mask-money hidden" data-return-type="text">
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-6">
                                <label for="select-box-day-type" class="form-label">{% trans "Day Type" %}</label>
                                <select class="form-select" id="select-box-day-type" name="day_type" required>
                                    <option value="" disabled selected hidden>{% trans 'Select option' %}...</option>
                                    {% for t in data.pay_teams_type %}
                                        <option value="{{ t.value }}">{{ t.text }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="form-group col-6">
                                <label class="form-label">{% trans "No of days" %}</label>
                                <input class="form-control" type="number" min="0" max="365" name="no_of_days"
                                       placeholder="0"
                                       oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ?
                                        Math.abs(this.value) : null"
                                >
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="select-box-after" class="form-label">{% trans "After" %}</label>
                            <select id="select-box-after" class="form-select" name="after" required>
                                <option value="" disabled selected hidden>{% trans 'Select option' %}...</option>
                                {% for a in data.pay_teams_after %}
                                    <option value="{{ a.value }}">{{ a.text }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <input type="hidden" id="is_edited">
                    </form>
                    <div class="modal-footer">
                        <button type="reset" class="btn btn-secondary"
                                data-bs-dismiss="modal">{% trans 'Close' %}</button>
                        <button type="submit" class="btn btn-primary">{% trans 'Save' %}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <input type="hidden" id="trans-factory"
           data-terms-value="{% trans 'Value is required!' %}"
           data-terms-day_type="{% trans 'Day type is required!' %}"
           data-terms-unit_type="{% trans 'Unit type is required!' %}"
           data-terms-no_of_days="{% trans 'No of days is required!' %}"
           data-terms-after="{% trans 'After is required!' %}"
           data-terms-mess-1="{% trans 'The percentage is not calculated before setup.' %}"
           data-terms-mess-2="{% trans 'Amount do not math with before setup' %}"
           data-terms-mess-3="{% trans 'Balance only selected one time per setup' %}"
           data-valid-percent="{% trans 'Total Percent setup is large than 100% please verify again!' %}"
           data-trans-sale="{% trans 'Sale' %}"
           data-trans-purchase="{% trans 'Purchase' %}"
    >
    <input type="hidden" id="url-factory" data-detail="{% url 'PaymentsTermsDetailAPI' 1 %}">
{% endblock %}
{% block jsFooter %}
    <!-- Select2 -->
    <script src="{% static 'vendors/select2/dist/js/select2.full.min.js' %}"></script>
    <script src="{% static 'assets/js/masterdata/saledata/masterdata/saledata_price.js' %}"></script>
    <script src="{% static 'vendors/sweetalert2/sweetalert2.js' %}"></script>
{% endblock %}

