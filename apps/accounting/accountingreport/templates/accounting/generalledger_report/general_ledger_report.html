{% extends 'base.html' %}
{% load static i18n %}
{% block title %}{% trans 'General ledger report' %}{% endblock %}
{% block cssHeader %}
    <link href="{% static 'vendors/daterangepicker/daterangepicker.css' %}" rel="stylesheet" type="text/css"/>
{% endblock %}
{% block pageAction %}
{% endblock %}
{% block pageContent %}
    <div class="row align-items-end">
        <div class="col-12 col-md-4 col-lg-3">
            <div class="form-group mb-3 mb-md-0">
                <label class="form-label" for="account_filter">{% trans 'Account' %}</label>
                <div class="input-group">
                    <select class="form-select select2" id="account_filter"
                            data-url="{% url 'ChartOfAccountsListAPI' %}" multiple></select>
                    <button type="button" class="btn btn-outline-secondary account-info-btn" id="account_info_btn"
                            style="display: none;">
                        <i class="fas fa-info-circle"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-3 col-lg-2">
            <div class="form-group mb-3 mb-md-0">
                <label class="form-label required" for="start_date_filter">{% trans 'Start Date' %}</label>
                <div class="input-group">
                <span class="input-affix-wrapper">
                    <span class="input-prefix">ðŸ“…</span>
                    <input required type="text" name="start_date" class="form-control"
                           autocomplete="off" id="start_date_filter" placeholder="DD/MM/YYYY">
                </span>
                </div>
            </div>
        </div>

        <div class="col-12 col-md-3 col-lg-2">
            <div class="form-group mb-3 mb-md-0">
                <label class="form-label required" for="end_date_filter">{% trans 'End Date' %}</label>
                <div class="input-group">
                <span class="input-affix-wrapper">
                    <span class="input-prefix">ðŸ“…</span>
                    <input required type="text" name="end_date" class="form-control"
                           autocomplete="off" id="end_date_filter" placeholder="DD/MM/YYYY">
                </span>
                </div>
            </div>
        </div>

        <div class="col-12 col-md-4 col-lg-2">
            <button type="button" class="btn btn-gradient-primary" id="apply_filter">
                <i class="fas fa-check-circle"></i> {% trans 'Apply' %}
            </button>
            <button type="button" class="btn btn-gradient-light" id="reset_filter">
                <i class="fas fa-redo"></i> {% trans 'Reset' %}
            </button>
        </div>
    </div>

    {#    <div class="row mt-5">#}
    {#        <div class="col-12 col-md-3 col-lg-3">#}
    {#            <div class="bflow-mirrow-card">#}
    {#                <div class="text-center">#}
    {#                    <h5 class="text-muted mt-3">{% trans 'Opening Balance' %}</h5>#}
    {#                    <span id="total_opening_balance" class="text-blue mask-money fw-bold h3"></span><br>#}
    {#                </div>#}
    {#            </div>#}
    {#        </div>#}
    {#        <div class="col-12 col-md-3 col-lg-3">#}
    {#            <div class="bflow-mirrow-card">#}
    {#                <div class="text-center">#}
    {#                    <h5 class="text-muted mt-3">{% trans 'Period Debit' %}</h5>#}
    {#                    <span id="total_period_debit" class="text-blue mask-money fw-bold h3"></span><br>#}
    {#                </div>#}
    {#            </div>#}
    {#        </div>#}
    {#        <div class="col-12 col-md-3 col-lg-3">#}
    {#            <div class="bflow-mirrow-card">#}
    {#                <div class="text-center">#}
    {#                    <h5 class="text-muted mt-3">{% trans 'Period Credit' %}</h5>#}
    {#                    <span id="total_period_credit" class="text-blue mask-money fw-bold h3"></span><br>#}
    {#                </div>#}
    {#            </div>#}
    {#        </div>#}
    {#        <div class="col-12 col-md-3 col-lg-3">#}
    {#            <div class="bflow-mirrow-card">#}
    {#                <div class="text-center">#}
    {#                    <h5 class="text-muted mt-3">{% trans 'Closing Balance' %}</h5>#}
    {#                    <span id="total_closing_balance" class="text-blue mask-money fw-bold h3"></span><br>#}
    {#                </div>#}
    {#            </div>#}
    {#        </div>#}
    {#    </div>#}

    <div class="row mt-5">
        <div class="col-12">
            <table class="table nowrap w-100" id="gl_table_report" data-method="GET"
                   data-url="{% url 'ReportJournalEntryListAPI' %}"
                   data-url-detail="{% url 'JournalEntryDetail' '0' %}"
                   data-url-summarize="{% url 'GetChartOfAccountSummaryAPI' %}">
                <thead class="p-5">
                <tr class="bg-light">
                    <th style="min-width: 50px"></th>
                    <th style="min-width: 150px">{% trans 'Date' %}</th>
                    <th style="min-width: 150px">{% trans 'JE code' %}</th>
                    <th style="min-width: 150px">{% trans 'Original transaction' %}</th>
                    <th style="min-width: 200px">{% trans 'Employee created' %}</th>
                    <th style="min-width: 150px">{% trans 'Account code' %}</th>
                    <th style="min-width: 150px">{% trans 'Debit' %}</th>
                    <th style="min-width: 150px">{% trans 'Credit' %}</th>
                </tr>
                </thead>
                <tfoot class="bg-secondary-light-5 p-5">
                <tr>
                    <th style="min-width: 50px"></th>
                    <th style="min-width: 150px" class="fw-bold text-muted">{% trans "Total" %}</th>
                    <th style="min-width: 150px"></th>
                    <th style="min-width: 150px"></th>
                    <th style="min-width: 200px"></th>
                    <th style="min-width: 150px"></th>
                    <th style="min-width: 150px" class="text-end fw-bold text-danger total-debit">0</th>
                    <th style="min-width: 150px" class="text-end fw-bold text-primary total-credit">0</th>
                </tr>
                </tfoot>
            </table>
        </div>
    </div>
{% endblock %}
{% block jsFooter %}
    <script src="{% static 'vendors/daterangepicker/daterangepicker.js' %}"></script>
    <script src="{% static 'assets/js/xlsx-0.18.5.full.min.js' %}"></script>
    <script src="{% static "assets/js/shared/usual_load_page.js" %}"></script>
    <script src="{% static 'assets/accounting/generalledger_report/js/general_ledger_report.js' %}"></script>
{% endblock %}
