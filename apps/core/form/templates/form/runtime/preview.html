{% extends 'form/runtime/base.html' %}
{% load i18n static form_runtime %}

{% block CSP %}
    <meta
            http-equiv="Content-Security-Policy"
            content="
                default-src 'none';
                script-src 'self' 'unsafe-inline';
                style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
                font-src 'self' https://fonts.gstatic.com;
                img-src 'self' https: data:;
                frame-src 'self' https:;
                connect-src 'self' https://api.ipify.org;
            "
    >
{% endblock %}

{% block Contents %}
    {% random_idx as formIdx %}
    <form
            id="{{ formIdx }}"
            data-user-current-name="{{ user_current.full_name }}"
    >
        {{ html_text | safe }}
        {{ submitted_data|json_script:"submitted_data_idx" }}
    </form>
{% endblock %}

{% block jsContent %}
    <script src="{% static 'form/runtime/js/preview.js' %}"></script>
{% endblock %}