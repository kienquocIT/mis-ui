{% load i18n %}
<div
        data-simplebar
        class="ntt-drawer ntt-drawer-right nicescroll-bar"
        data-drawer-width="500"
        data-drawer-push="true"
        id="drawer_task_create"
        {#        data-url="{% url 'FlowRuntimeDiagramDetailAPI' pk=1 %}"#}
>
    <style>
        .label-mark .item-tag {
            color: #ffffff;
            background: var(--bs-info);
            border-radius: 0.375rem;
            padding: 1px 4px 2px;
            font-size: .8rem;
        }

        .label-mark .item-tag > .tag-delete {
            margin-left: 4px;
            color: #555555;
            cursor: pointer;
        }
        .label-mark .item-tag + .item-tag{
            margin-left: 4px;
        }
    </style>
    <div class="ntt-drawer-header">
        <div>
            <span class="ntt-drawer-header-text">{% trans 'Create Task' %}</span>
            <span class="ntt-drawer-header-text hidden title-detail">{% trans 'Detail Task' %}</span>
        </div>
        <button class="btn btn-icon btn-xs btn-rounded bg-dark-hover ntt-drawer-close">
            <span class="icon">
                <span aria-hidden="true"><i class="fas fa-times"></i></span>
            </span>
        </button>
    </div>
    <div class="ntt-drawer-body" style="padding: 0">
        <div class="ntt-drawer-content-wrap" style="padding: 0">
            <form class="container-fluid mt-4" data-url="{% url 'OpportunityTaskListAPI' %}" id="formOpportunityTask"
                  method="post" autocomplete="off">
                {% csrf_token %}
                <div class="row">
                    <div class="col-md-12 col-xs-12">
                        <div class="form-group">
                            <label for="inputTextTitle" class="form-label required">{% trans 'Name' %}</label>
                            <input type="text" class="form-control" name="title" id="inputTextTitle"/>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">
                        <div class="form-group">
                            <label for="inputTextCode" class="form-label">{% trans 'Code' %}</label>
                            <input type="text" class="form-control" name="code" id="inputTextCode" disabled/>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">
                        <div class="form-group">
                            <label for="selectStatus" class="form-label">{% trans 'Select' %}</label>
                            <select class="form-select dropdown-select_two" name="status" id="selectStatus"
                                    data-prefix="task_status"
                                    data-url="{% url 'OpportunityTaskStatusAPI' %}?task_kind=1"
                            >
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">
                        <div class="form-group">
                            <label for="inputTextStartDate" class="form-label">{% trans 'Start Date' %}</label>
                            <input type="text" class="form-control date-picker" name="start_date"
                                   id="inputTextStartDate"/>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">
                        <div class="form-group">
                            <label for="inputTextEndDate" class="form-label">{% trans 'End Date' %}</label>
                            <input type="text" class="form-control date-picker" name="end_date" id="inputTextEndDate"/>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">
                        <div class="form-group">
                            <label for="inputTextEstimate" class="form-label required">{% trans 'Estimate' %}</label>
                            <input type="text" class="form-control" name="estimate" id="inputTextEstimate"
                                   placeholder="eg. 3w 4d 12h"/>
                            <p class="form-text text-muted text-blue">
                                {% trans 'An estimate of how much time you have spent working.' %}</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">
                        <a href="#" data-bs-toggle="modal" class="text-bold mt-4 d-block">{% trans 'Log time' %}</a>
                    </div>
                    <div class="col-md-6 col-xs-12">
                        <div class="form-group">
                            <label for="selectOpportunity" class="form-label">{% trans 'Sale/Project code' %}</label>
                            <select class="form-select dropdown-select_two" name="opportunity" id="selectOpportunity"
                                    data-prefix="sale_order_list"
                                    data-url="{% url 'SaleOrderListAPI' %}"
                            >
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">
                        <div class="form-group">
                            <label for="selectPriority" class="form-label">{% trans 'Priority' %}</label>
                            <select class="form-select" name="priority" id="selectPriority">
                                <option value="0">{% trans 'Low' %}</option>
                                <option value="1">{% trans 'Medium' %}</option>
                                <option value="2">{% trans 'High' %}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-12 col-xs-12">
                        <div class="form-group">
                            <label for="inputLabel" class="form-label">{% trans 'Label' %}</label>
                            <input class="form-control hidden" name="label" id="inputLabel">
                            <div class="w-100 btn-group dropdown">
                                <div class="label-mark" aria-haspopup="true"
                                     data-bs-display="static">
{#                                    <span class="item-tag">#}
{#                                        <span>quannm</span><span class="tag-delete">x</span>#}
{#                                    </span>#}
                                </div>
                                <div class="dropdown-menu form-tags-input-wrap dropdown-menu-lg-end"
                                     data-bs-popper="static">
                                    <div class="d-flex justify-content-start align-items-center flex-gap-3">
                                        <input type="text" class="form-control" id="inputLabelName">
                                        <button type="button" class="btn btn-soft-success btn-add-tag">
                                            <i class="fa-solid fa-check"></i>
                                        </button>
                                        <button type="button" class="btn btn-soft-danger btn-close-tag">
                                            <i class="fa-solid fa-xmark"></i>
                                        </button>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">
                        <div class="form-group">
                            <label for="inputAssigner" class="form-label">{% trans 'Assigner' %}</label>
                            <input class="form-control" name="assigner" id="inputAssigner">
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12">
                        <div class="form-group">
                            <label for="selectAssignTo" class="form-label">{% trans 'Sale/Project code' %}</label>
                            <select class="form-control dropdown-select_two" name="assign_to" id="selectAssignTo"
                                    data-prefix="employee_list"
                                    data-url="{% url 'EmployeeListAPI' %}"
                            >
                            </select>
                        </div>
                    </div>
                    <div class="col-md-12 col-xs-12">
                        <div class="form-group">
                            <label for="textareaRemark" class="form-label">{% trans 'Description' %}</label>
                            <textarea class="form-control" name="remark" id="textareaRemark"></textarea>
                        </div>
                    </div>
                    <div class="col-xs-12 mt-2">
                        <ul class="nav nav-light nav-tabs">
                            <li class="nav-item">
                                <a class="nav-link active" data-bs-toggle="tab" href="#tab_checklist">
                                    <span class="nav-link-text">{% trans 'Checklist' %}</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-bs-toggle="tab" href="#tab_subtask">
                                    <span class="nav-link-text">{% trans 'Sub task' %}</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-bs-toggle="tab" href="#tab_attach">
                                    <span class="nav-link-text">{% trans 'Files' %}</span>
                                </a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade show active" id="tab_checklist">
                                <div class="wrap-checklist"></div>
                                <button type="button"
                                        class="btn btn-flush-primary flush-soft-hover create-checklist"
                                        data-bs-toggle="tooltip"
                                        data-bs-placement="top"
                                        data-bs-original-title="{% trans 'Add' %}">
                                    <span class="btn-icon-wrap d-flex justify-content-start align-items-center flex-gap-3">
                                        <i class="fa-solid fa-plus"></i>
                                        <span>{% trans 'Add' %}</span>
                                    </span>
                                </button>
                            </div>
                            <div class="tab-pane fade" id="tab_subtask">
                                <div class="wrap-subtask"></div>
                                <button type="button"
                                        class="btn btn-flush-primary flush-soft-hover create-subtask"
                                        data-bs-toggle="tooltip"
                                        data-bs-placement="top"
                                        data-bs-original-title="{% trans 'Add' %}"
                                >
                                    <span class="btn-icon-wrap d-flex justify-content-start align-items-center flex-gap-3">
                                        <i class="fa-solid fa-plus"></i>
                                        <span>{% trans 'Add' %}</span>
                                    </span>
                                </button>
                            </div>
                            <div class="tab-pane fade" id="tab_attach">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="d-flex justify-content-start align-items-center mt-3">
                    <button type="button"
                            class="btn btn-primary create-task"
                            data-bs-toggle="tooltip"
                            data-bs-placement="top"
                            data-bs-original-title="{% trans 'Save' %}"
                    >{% trans 'Save' %}
                    </button>
                    <button type="button"
                            class="btn btn-danger cancel-task ml-auto"
                            data-bs-toggle="tooltip"
                            data-bs-placement="top"
                            data-bs-original-title="{% trans 'Cancel' %}"
                    >{% trans 'Cancel' %}
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>