{% extends 'base.html' %}
{% load static i18n %}
{% block title %}{% trans 'Opportunity list' %}{% endblock %}
{% block cssHeader %}
    <link href="{% static 'vendors/select2/dist/css/select2.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'vendors/dropify/dist/css/dropify.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'vendors/sweetalert2/sweetalert2.css' %}" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" type="text/css" href="{% static 'vendors/daterangepicker/daterangepicker.css' %}"/>

    <link href="{% static 'assets/sales/task/css/create-form.css' %}" rel="stylesheet" type="text/css"/>
    <style>
        @media screen and (max-width: 991px) {
                #group-general-info-opp {
                    border-right: unset !important;
                }
            }
    </style>
{% endblock %}
{% block jsHeader %}
{% endblock %}
{% block pageAction %}
    <button class="btn btn-outline-primary" type="submit" form="frm-detail">
        <span>
            <span>{% trans 'Save' %}</span>
            <span class="icon">
                <i class="fa-regular fa-floppy-disk"></i>
            </span>
        </span>
    </button>
{% endblock %}
{% block pageContent %}
    <div id="json-data">
        <input id="emp-current-id" class="hidden" value="{{ request.user.employee_current_data.id }}">
    </div>
    <div id="text-notify" hidden>
        <span id="limit-rate">{% trans "rate must not be less than 0 or greater than 100" %}</span>
        <span id="limit-close-date">{% trans "The closing date must not be later than the opening date" %}</span>
        <span id="not-select-stage">{% trans "Configuration does not allow selecting stage" %}</span>
        <span id="deal-close-lost">{% trans "Can not select stage because this opportunity is close lost" %}</span>
        <span id="deal-closed">{% trans "Can not select stage because this opportunity has been closed" %}</span>
        <span id="opp-updated">{% trans "Stage has been updated, Please Save!" %}</span>
    </div>
    <div id="div-url" hidden>
        <input id="url-member" value="{% url "EmployeeDetail" pk=0 %}">
    </diV>
    <div class="page-content">
        <form
                id="frm-detail" data-method="PUT" data-url="{% url 'OpportunityDetailAPI' pk=pk %}"
                data-url-redirect="{% url "OpportunityList" %}"
        >
            {% csrf_token %}
            <div class="row">
                <div class="col-md-12 col-lg-4 col-xl-3 border-right" id="group-general-info-opp">
                    <div class="col-12">
                        {% include 'sales/opportunity/extends/general-info.html' %}
                    </div>
                </div>
                <div class="col-md-12 col-lg-8 col-xl-9">
                    <div class="col-12">
                        {% include 'sales/opportunity/extends/relate-info.html' %}
                    </div>
                </div>
            </div>
        </form>

        <form id="frm-add-member" data-method="POST" data-url="{% url 'MemberOfOpportunityDetailAddAPI' pk_opp='__pk_opp__' %}">
            <div
                    class="modal fade" id="modalAddMember" tabindex="-1" role="dialog"
                    aria-labelledby="exampleModalLarge01"
                    aria-hidden="true"
            >
                <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">{% trans "Add member to Sale team" %}</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="table-responsive">
                                <table
                                        class="table nowrap w-lg-750p" id="dtbMember" data-method="GET"
                                        data-url="{% url 'EmployeeListAPI' %}"
                                >
                                    <thead>
                                    <tr>
                                        <th></th>
                                        <th>{% trans "Employee Code" %}</th>
                                        <th>{% trans "Employee Name" %}</th>
                                        <th class="hidden">{% trans "Email" %}</th>
                                        <th>
                                        <span class="form-check">
                                            <input type="checkbox" class="form-check-input check-select-all">
                                        </span>
                                        </th>
                                    </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button
                                    type="button" class="btn btn-secondary"
                                    data-bs-dismiss="modal"
                            >{% trans "Close" %}</button>
                            <button
                                    type="submit" form="frm-add-member" class="btn btn-primary"
                            >{% trans "Add" %}</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>


    <div
            class="modal fade mt-10" id="create-new-call-log" tabindex="-1" role="dialog"
            aria-labelledby="createOpportunityModalForms" aria-hidden="true"
    >
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans 'Create New Call Log' %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"></span>
                    </button>
                </div>
                <div class="modal-body" style="overflow: auto; height: 62vh">
                    <form
                            data-url="{% url 'OpportunityCallLogListAPI' %}"
                            data-url-redirect="{% url 'OpportunityCallLogList' %}"
                            data-method="POST"
                            id="form-create-new-call-log"
                            method="post"
                    >
                        {% csrf_token %}
                        <div class="mb-3">
                            <label class="form-label required">
                                {% trans 'Subject' %}
                            </label>
                            <input id="subject-input" class="form-control">
                        </div>
                        <div class="mb-3">
                            <label class="form-label required">
                                {% trans 'Sale Code' %}
                            </label>
                            <select
                                    id="sale-code-select-box" class="form-select"
                                    data-url="{% url 'OpportunityListAPI' %}" data-method="GET"
                            ></select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label required">
                                {% trans 'Customer' %}
                            </label>
                            <select
                                    id="account-select-box" class="form-select" data-url="{% url 'AccountListAPI' %}"
                                    data-method="GET"
                            ></select>
                        </div>
                        <div class="row mb-3">
                            <div class="col-6">
                                <label class="form-label required">
                                    {% trans 'Contact' %}
                                </label>
                                <span class="input-affix-wrapper">
                                    <span class="input-prefix" id="call-log-contact-detail-span" hidden>
                                        <i
                                                class="fas fa-info-circle text-primary" aria-expanded="false"
                                                data-bs-toggle="dropdown"
                                        ></i>
                                        <span
                                                role="menu" class="dropdown-menu ml-4 pl-3 pr-3 pt-3 pb-3"
                                                style="width: 25rem;"
                                        >
                                            <div class="row">
                                                <span
                                                        class="col-7"
                                                        style="font-style: italic; font-weight: bold"
                                                >{% trans "More information" %}</span>
                                                <a
                                                        id="btn-detail-call-log-contact-tab" class="col-5 text-right"
                                                        data-url="{% url 'ContactDetail' '0' %}" target="_blank"
                                                >
                                                    <span class="badge btn-outline-primary">{% trans "More" %}&nbsp;<i
                                                            class="bi bi-arrow-right"
                                                    ></i></span>
                                                </a>
                                            </div>
                                            <div class="dropdown-divider"></div>
                                            <div class="row">
                                                <span
                                                        class="col-5"
                                                        style="font-style: italic"
                                                >{% trans "Contact name" %}</span>
                                                <span class="col-7 text-primary" id="call-log-contact-name"></span>
                                            </div>
                                            <div class="row">
                                                <span
                                                        class="col-5"
                                                        style="font-style: italic"
                                                >{% trans "Job title" %}</span>
                                                <span class="col-7 text-primary" id="call-log-contact-job-title"></span>
                                            </div>
                                            <div class="row">
                                                <span
                                                        class="col-5"
                                                        style="font-style: italic"
                                                >{% trans "Mobile" %}</span>
                                                <span class="col-7 text-primary" id="call-log-contact-mobile"></span>
                                            </div>
                                            <div class="row">
                                                <span
                                                        class="col-5"
                                                        style="font-style: italic"
                                                >{% trans "Email" %}</span>
                                                <span class="col-7 text-primary" id="call-log-contact-email"></span>
                                            </div>
                                            <div class="row">
                                                <span
                                                        class="col-5"
                                                        style="font-style: italic"
                                                >{% trans "Report to" %}</span>
                                                <span class="col-7 text-primary" id="call-log-contact-report-to"></span>
                                            </div>
                                        </span>
                                    </span>
                                    <select
                                            id="contact-select-box" class="form-select"
                                            data-url="{% url 'ContactListAPI' %}" data-method="GET"
                                    ></select>
                                </span>
                            </div>
                            <div class="col-6">
                                <label class="form-label required">
                                    {% trans 'Date' %}
                                </label>
                                <input id="date-input" class="form-control">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label required">
                                {% trans 'Input Result' %}
                            </label>
                            <textarea id="result-text-area" class="form-control" style="min-height: 100px"></textarea>
                        </div>
                        <div class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="call-log-repeat-activity">
                                <label
                                        class="form-check-label"
                                        for="call-log-repeat-activity"
                                >{% trans 'Need to repeat activity' %}</label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button
                            type="submit" class="btn btn-primary" form="form-create-new-call-log"
                            id="btn-create-new-call-log"
                    >{% trans 'Save' %}</button>
                </div>
            </div>
        </div>
    </div>

    <div
            class="modal fade mt-10" id="detail-call-log" tabindex="-1" role="dialog"
            aria-labelledby="detailOpportunityCallLogModalForms" aria-hidden="true"
    >
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans 'Detail Call Log' %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">Ã—</span>
                    </button>
                </div>
                <div class="modal-body" style="overflow: auto; height: 62vh">
                    <div class="mb-3">
                        <label class="form-label required">
                            {% trans 'Subject' %}
                        </label>
                        <input readonly id="detail-subject-input" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label class="form-label required">
                            {% trans 'Sale Code' %}
                        </label>
                        <select
                                disabled style="color: #6f6f6f" id="detail-sale-code-select-box" class="form-select"
                                data-url="{% url 'OpportunityListAPI' %}" data-method="GET"
                        ></select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label required">
                            {% trans 'Customer' %}
                        </label>
                        <select
                                disabled style="color: #6f6f6f" id="detail-account-select-box" class="form-select"
                                data-url="{% url 'AccountListAPI' %}" data-method="GET"
                        ></select>
                    </div>
                    <div class="row mb-3">
                        <div class="col-6">
                            <label class="form-label required">
                                {% trans 'Contact' %}
                            </label>
                            <span class="input-affix-wrapper">
                                <span class="input-prefix" id="detail-call-log-contact-detail-span">
                                    <i
                                            class="fas fa-info-circle text-primary" aria-expanded="false"
                                            data-bs-toggle="dropdown"
                                    ></i>
                                    <span
                                            role="menu" class="dropdown-menu ml-4 pl-3 pr-3 pt-3 pb-3"
                                            style="width: 25rem;"
                                    >
                                        <div class="row">
                                            <span
                                                    class="col-7"
                                                    style="font-style: italic; font-weight: bold"
                                            >{% trans "More information" %}</span>
                                            <a
                                                    id="detail-btn-detail-call-log-contact-tab" class="col-5 text-right"
                                                    data-url="{% url 'ContactDetail' '0' %}" target="_blank"
                                            >
                                                <span class="badge btn-outline-primary">{% trans "More" %}&nbsp;<i
                                                        class="bi bi-arrow-right"
                                                ></i></span>
                                            </a>
                                        </div>
                                        <div class="dropdown-divider"></div>
                                        <div class="row">
                                            <span
                                                    class="col-5"
                                                    style="font-style: italic"
                                            >{% trans "Contact name" %}</span>
                                            <span class="col-7 text-primary" id="detail-call-log-contact-name"></span>
                                        </div>
                                        <div class="row">
                                            <span
                                                    class="col-5"
                                                    style="font-style: italic"
                                            >{% trans "Job title" %}</span>
                                            <span
                                                    class="col-7 text-primary"
                                                    id="detail-call-log-contact-job-title"
                                            ></span>
                                        </div>
                                        <div class="row">
                                            <span class="col-5" style="font-style: italic">{% trans "Mobile" %}</span>
                                            <span class="col-7 text-primary" id="detail-call-log-contact-mobile"></span>
                                        </div>
                                        <div class="row">
                                            <span class="col-5" style="font-style: italic">{% trans "Email" %}</span>
                                            <span class="col-7 text-primary" id="detail-call-log-contact-email"></span>
                                        </div>
                                        <div class="row">
                                            <span
                                                    class="col-5"
                                                    style="font-style: italic"
                                            >{% trans "Report to" %}</span>
                                            <span
                                                    class="col-7 text-primary"
                                                    id="detail-call-log-contact-report-to"
                                            ></span>
                                        </div>
                                    </span>
                                </span>
                                <select
                                        disabled style="color: #6f6f6f" id="detail-contact-select-box"
                                        class="form-select" data-url="{% url 'ContactListAPI' %}"
                                        data-method="GET"
                                ></select>
                            </span>
                        </div>
                        <div class="col-6">
                            <label class="form-label required">
                                {% trans 'Date' %}
                            </label>
                            <input readonly id="detail-date-input" class="form-control">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label required">
                            {% trans 'Input Result' %}
                        </label>
                        <textarea
                                readonly id="detail-result-text-area" class="form-control"
                                style="min-height: 100px"
                        ></textarea>
                    </div>
                    <div class="mb-3">
                        <div class="form-check">
                            <input disabled class="form-check-input" type="checkbox" id="detail-repeat-activity">
                            <label for="detail-repeat-activity">{% trans 'Need to repeat activity' %}</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% include 'sales/task/extend/task-form.html' %}

    <div
            class="modal fade mt-10" id="send-email" tabindex="-1" role="dialog"
            aria-labelledby="createOpportunityModalForms" aria-hidden="true"
    >
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans 'Send Email' %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"></span>
                    </button>
                </div>
                <div class="modal-body" style="overflow: auto; height: 48vh">
                    <form
                            data-url="{% url 'OpportunityEmailListAPI' %}"
                            data-url-redirect="{% url 'OpportunityEmailList' %}"
                            data-method="POST"
                            id="form-new-email"
                            method="post"
                    >
                        {% csrf_token %}
                        <div class="row form-group mt-3 mb-3">
                            <label class="col-2 col-form-label required">{% trans 'To' %}</label>
                            <div class="col-10">
                                <select
                                        id="email-to-select-box" class="form-control" multiple="multiple"
                                        data-url="{% url 'ContactListAPI' %}" data-method="GET"
                                ></select>
                            </div>
                        </div>
                        <div class="row form-group mb-3">
                            <label class="col-2 col-form-label">{% trans 'Cc' %}</label>
                            <div class="col-10">
                                <select
                                        id="email-cc-select-box" class="form-control" multiple="multiple"
                                        data-url="{% url 'ContactListAPI' %}" data-method="GET"
                                ></select>
                            </div>
                        </div>
                        <div class="row form-group mb-3">
                            <label class="col-2 col-form-label required">{% trans 'Subject' %}</label>
                            <div class="col-10">
                                <input id="email-subject-input" class="form-control">
                            </div>
                        </div>
                        <div class="row form-group mb-3">
                            <label class="col-2 col-form-label required">{% trans 'Content' %}</label>
                            <div class="col-10">
                                <textarea
                                        id="email-content-area" class="form-control"
                                        style="min-height: 200px"
                                ></textarea>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button
                            type="submit" class="btn btn-primary" form="form-new-email"
                            id="btn-send-email"
                    >{% trans 'Send' %}</button>
                </div>
            </div>
        </div>
    </div>

    <div
            class="modal fade mt-10" id="detail-send-email" tabindex="-1" role="dialog"
            aria-labelledby="detailOpportunityEmailModalForms" aria-hidden="true"
    >
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans 'Detail Email' %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"></span>
                    </button>
                </div>
                <div class="modal-body" style="overflow: auto; height: 48vh">
                    <div class="row form-group mb-3">
                        <label class="col-2 col-form-label required">{% trans 'To' %}</label>
                        <div class="col-10">
                            <select
                                    disabled style="color: #6f6f6f" id="detail-email-to-select-box" class="form-control"
                                    multiple="multiple" data-url="{% url 'ContactListAPI' %}"
                                    data-method="GET"
                            ></select>
                        </div>
                    </div>
                    <div class="row form-group mb-3">
                        <label class="col-2 col-form-label">{% trans 'Cc' %}</label>
                        <div class="col-10">
                            <select
                                    disabled style="color: #6f6f6f" id="detail-email-cc-select-box" class="form-control"
                                    multiple="multiple" data-url="{% url 'ContactListAPI' %}"
                                    data-method="GET"
                            ></select>
                        </div>
                    </div>
                    <div class="row form-group mb-3">
                        <label class="col-2 col-form-label required">{% trans 'Subject' %}</label>
                        <div class="col-10">
                            <input readonly id="detail-email-subject-input" class="form-control">
                        </div>
                    </div>
                    <div class="row form-group mb-3">
                        <label class="col-2 col-form-label required">{% trans 'Content' %}</label>
                        <div class="col-10">
                            <textarea
                                    readonly id="detail-email-content-area" class="form-control"
                                    style="min-height: 200px"
                            ></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div
            class="modal fade mt-10" id="create-meeting" tabindex="-1" role="dialog"
            aria-labelledby="createOpportunityMeetingModalForms" aria-hidden="true"
    >
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans 'Create Meeting' %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"></span>
                    </button>
                </div>
                <div class="modal-body" style="overflow: auto; height: 58vh">
                    <form
                            data-url="{% url 'OpportunityMeetingListAPI' %}"
                            data-url-redirect="{% url 'OpportunityMeetingList' %}"
                            data-method="POST"
                            id="form-new-meeting"
                            method="post"
                    >
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-12">
                                <div class="mb-3">
                                    <label class="form-label required">{% trans 'Subject' %}</label>
                                    <input
                                            id="meeting-subject-input" placeholder="{% trans 'Input subject' %}"
                                            class="form-control"
                                    >
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <div class="mb-3">
                                    <label class="form-label required">{% trans 'Sale Code' %}</label>
                                    <select id="meeting-sale-code-select-box" class="form-select"></select>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label class="form-label required">{% trans 'Date' %}</label>
                                    <input
                                            id="meeting-date-input" placeholder="{% trans 'Input date' %}"
                                            class="form-control"
                                    >
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="mb-3">
                                    <label class="form-label required">{% trans 'Meeting address' %}</label>
                                    <select id="meeting-address-select-box" class="form-select"></select>
                                    <a
                                            id="meeting-address-input-btn"
                                            class="text-primary form-text text-muted text-right" href="#"
                                    >input address</a>
                                    <input
                                            hidden id="meeting-address-input" placeholder="Input meeting address"
                                            class="form-control"
                                    >
                                    <a
                                            hidden id="meeting-address-select-btn"
                                            class="text-primary form-text text-muted text-right" href="#"
                                    >select address</a>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="mb-3">
                                    <label class="form-label">{% trans 'Room location' %}</label>
                                    <input
                                            id="meeting-room-location-input" placeholder="{% trans 'Input location' %}"
                                            class="form-control"
                                    >
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="mb-3">
                                    <label class="form-label required">{% trans 'Employee attended' %}</label>
                                    <select
                                            id="meeting-employee-attended-select-box" multiple
                                            class="select2 select-multiple"
                                    ></select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="mb-3">
                                    <label class="form-label required">{% trans 'Customer member' %}</label>
                                    <select
                                            id="meeting-customer-member-select-box" multiple
                                            class="select2 select-multiple"
                                    ></select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="mb-3">
                                    <label class="form-label required">
                                        {% trans 'Input Result' %}
                                    </label>
                                    <textarea
                                            id="meeting-result-text-area" placeholder="{% trans 'Input result' %}"
                                            class="form-control" style="min-height: 100px"
                                    ></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="meeting-repeat-activity">
                                        <label
                                                class="form-check-label"
                                                for="meeting-repeat-activity"
                                        >{% trans 'Need to repeat activity' %}</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button
                            type="submit" class="btn btn-primary" form="form-new-meeting"
                            id="btn-create-meeting"
                    >{% trans 'Save' %}</button>
                </div>
            </div>
        </div>
    </div>

    <div
            class="modal fade mt-10" id="detail-meeting" tabindex="-1" role="dialog"
            aria-labelledby="detailOpportunityMeetingModalForms" aria-hidden="true"
    >
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans 'Detail Meeting' %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"></span>
                    </button>
                </div>
                <div class="modal-body" style="overflow: auto; height: 58vh">
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label class="form-label required">{% trans 'Subject' %}</label>
                                <input
                                        disabled style="color: #6f6f6f" id="detail-meeting-subject-input"
                                        placeholder="{% trans 'Input subject' %}" class="form-control"
                                >
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <div class="mb-3">
                                <label class="form-label required">{% trans 'Sale Code' %}</label>
                                <select
                                        disabled style="color: #6f6f6f" id="detail-meeting-sale-code-select-box"
                                        class="form-select"
                                ></select>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="mb-3">
                                <label class="form-label required">{% trans 'Date' %}</label>
                                <input
                                        disabled style="color: #6f6f6f" id="detail-meeting-date-input"
                                        placeholder="{% trans 'Input date' %}" class="form-control"
                                >
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label class="form-label required">{% trans 'Meeting address' %}</label>
                                <select
                                        disabled style="color: #6f6f6f" id="detail-meeting-address-select-box"
                                        class="form-select"
                                ></select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label class="form-label">{% trans 'Room location' %}</label>
                                <input
                                        disabled style="color: #6f6f6f" id="detail-meeting-room-location-input"
                                        placeholder="{% trans 'Input location' %}" class="form-control"
                                >
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label class="form-label required">{% trans 'Employee attended' %}</label>
                                <select
                                        disabled style="color: #6f6f6f" id="detail-meeting-employee-attended-select-box"
                                        multiple class="select2 select-multiple"
                                ></select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label class="form-label required">{% trans 'Customer member' %}</label>
                                <select
                                        disabled style="color: #6f6f6f" id="detail-meeting-customer-member-select-box"
                                        multiple class="select2 select-multiple"
                                ></select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label class="form-label required">
                                    {% trans 'Input Result' %}
                                </label>
                                <textarea
                                        disabled style="color: #6f6f6f" id="detail-meeting-result-text-area"
                                        placeholder="{% trans 'Input result' %}" class="form-control"
                                        style="min-height: 100px"
                                ></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <div class="form-check">
                                    <input
                                            disabled class="form-check-input" type="checkbox"
                                            id="detail-repeat-activity-2"
                                    >
                                    <label for="detail-repeat-activity-2">{% trans 'Need to repeat activity' %}</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {{ data.type_customer|json_script:'data_type_customer' }}
    {{ data.role_customer|json_script:'data_role_customer' }}

    <div
            class="modal fade" id="modalEditMember" tabindex="-1" role="dialog" aria-labelledby="modalEditMember"
            aria-hidden="true"
    >
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Modal title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary">{% trans 'Save' %}</button>
                    <button
                            type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                    >{% trans 'Cancel' %}</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block dataHiddenGroup %}
    <script
            type="text" id="url-factory"
            data-task_detail="{% url 'OpportunityTaskDetailAPI' 1 %}"
            data-task_list="{% url 'OpportunityTaskListAPI' %}"
            data-url-product="{% url 'ProductForSaleListAPI' %}"
            data-url-product-category="{% url 'ProductCategoryListAPI' %}"
            data-url-tax="{% url 'TaxListAPI' %}"
            data-url-uom="{% url 'UnitOfMeasureListAPI' %}"
            data-url-competitor="{% url 'AccountForSaleListAPI' %}"
            data-url-contact="{% url 'ContactListAPI' %}"
            data-url-emp-detail="{% url 'EmployeeDetail' pk=0 %}"
            data-url-config="{% url 'OpportunityConfigAPI' %}"
            data-url-related-quotation="{% url 'QuotationDetail' pk=0 %}"
            data-url-related-sale-order="{% url 'SaleOrderDetail' pk=0 %}"
            data-url-member-detail="{% url 'OpportunityMemberDetailAPI' pk=0 %}"
            data-url-delete-member="{% url 'OpportunityDeleteMemberAPI' pk=0 %}"
            data-url-member-list="{% url 'OpportunityMemberListAPI' pk=0 %}"

            data-url-account-list="{% url 'AccountListAPI' %}"
            data-url-contact-list="{% url 'ContactListAPI' %}"
            data-url-opp-list="{% url 'OpportunityListAPI' %}"
            data-url-employee-list="{% url 'EmployeeListAPI' %}"

            data-url-config-stage="{% url 'OpportunityConfigStageListAPI' %}"
    ></script>
    <script
            type="text" id="trans-factory"
            data-activity-type01="{% trans 'Call to customer' %}"
            data-activity-type02="{% trans 'Send email' %}"
            data-activity-type03="{% trans 'Meeting with customer' %}"
            data-trans-limit-quantity="{% trans 'quantity must not be less than zero' %}"
            data-trans-limit-money="{% trans 'money must not be less than zero' %}"
            data-trans-role-decision-maker="{% trans 'Only one decision maker can be selected' %}"
            data-trans-opp-win-deal="{% trans 'Opp has been Win Deal' %}"
            data-assignee_empty="{% trans 'Assignee is required' %}"
            data-trans-not-created="{% trans 'has not been created for Opportunity' %}"
    ></script>
{% endblock %}
{% block jsFooter %}

    <script src="{% static 'vendors/moment/min/moment.min.js' %}"></script>
    <script src="{% static 'vendors/daterangepicker/daterangepicker.js' %}"></script>
    <script src="{% static 'vendors/dropify/dist/js/dropify.min.js' %}"></script>
    <script src="{% static 'vendors/ckeditor/ckeditor.js' %}"></script>

    <script src="{% static 'assets/js/core/hr/permissions.js' %}"></script>
    <script src="{% static 'assets/js/core/hr/plan_app.js' %}"></script>
    <script src="{% static 'assets/js/core/hr/permission_group_tabs.js' %}"></script>
    <script>
        function loadPermitEmpty() {
            let cls = new HandlePermissions();
            cls.loadData([], [], {
                enableVisibleColumns : false,
                enableSortColumns : false,
                enableTools : false,
                searching : false,
                ordering : false,
                visibleSearchField : false,
                visibleOrder : false,
            });
        }

        $('#btnResetData').on('click', function (){
            $('#member-current-edit').trigger('change');
        })
    </script>

    <script src="{% static 'assets/sales/opportunity/js/opportunity_common.js' %}"></script>
    <script src="{% static 'assets/sales/opportunity/js/opportunity_update.js' %}"></script>

{% endblock %}
