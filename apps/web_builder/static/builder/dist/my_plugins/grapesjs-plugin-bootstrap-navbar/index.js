/*! grapesjs-plugin-bootstrap-navbar - 1.0.50 */
!function(t,e){'object'==typeof exports&&'object'==typeof module?module.exports=e():'function'==typeof define&&define.amd?define([],e):'object'==typeof exports?exports["grapesjs-plugin-bootstrap-navbar"]=e():t["grapesjs-plugin-bootstrap-navbar"]=e()}('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:this,(()=>(()=>{"use strict";var t={d:(e,a)=>{for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})}},e={};t.r(e),t.d(e,{default:()=>g});const a='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImZpbGw6IHJnYmEoMCwwLDAsMC4xNSk7IHRyYW5zZm9ybTogc2NhbGUoMC43NSkiPgogICAgICAgIDxwYXRoIGQ9Ik04LjUgMTMuNWwyLjUgMyAzLjUtNC41IDQuNSA2SDVtMTYgMVY1YTIgMiAwIDAgMC0yLTJINWMtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMnoiPjwvcGF0aD4KICAgICAgPC9zdmc+',n='<svg fill="#000000" width="35px" height="35px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 330 330" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M315,0H15C6.716,0,0,6.716,0,15v300c0,8.284,6.716,15,15,15h300c8.284,0,15-6.716,15-15V15C330,6.716,323.284,0,315,0z M300,300H30V30h270V300z"></path> <path d="M90.001,109.999h150c8.284,0,15-6.716,15-15s-6.716-15-15-15h-150c-8.284,0-15,6.716-15,15S81.717,109.999,90.001,109.999z "></path> <path d="M90.001,179.999h150c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-150c-8.284,0-15,6.716-15,15 C75.001,173.283,81.717,179.999,90.001,179.999z"></path> <path d="M90.001,249.999h150c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-150c-8.284,0-15,6.716-15,15 C75.001,243.283,81.717,249.999,90.001,249.999z"></path> </g> </g></svg>',i='<svg fill="#000000" width="35px" height="35px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g transform="translate(1 1)"> <g> <g> <path d="M502.467,118.467H7.533C2.413,118.467-1,121.88-1,127v85.333c0,5.12,3.413,8.533,8.533,8.533h238.933V383 c0,5.12,3.413,8.533,8.533,8.533h213.333c5.12,0,8.533-3.413,8.533-8.533V220.867h25.6c5.12,0,8.533-3.413,8.533-8.533V127 C511,121.88,507.587,118.467,502.467,118.467z M459.8,374.467H263.533v-153.6H459.8V374.467z M493.933,203.8h-25.6H255H16.067 v-68.267h477.867V203.8z"></path> <path d="M266.093,184.173c1.707,1.707,3.413,2.56,5.973,2.56c2.56,0,4.267-0.853,5.973-2.56l17.067-17.067 c3.413-3.413,3.413-8.533,0-11.947s-8.533-3.413-11.947,0l-11.093,11.093l-11.093-11.093c-3.413-3.413-8.533-3.413-11.947,0 s-3.413,8.533,0,11.947L266.093,184.173z"></path> <path d="M323.267,178.2h145.067c5.12,0,8.533-3.413,8.533-8.533s-3.413-8.533-8.533-8.533H323.267 c-5.12,0-8.533,3.413-8.533,8.533S318.147,178.2,323.267,178.2z"></path> <path d="M374.467,255H434.2c5.12,0,8.533-3.413,8.533-8.533s-3.413-8.533-8.533-8.533h-59.733c-5.12,0-8.533,3.413-8.533,8.533 S369.347,255,374.467,255z"></path> <path d="M323.267,255h17.067c5.12,0,8.533-3.413,8.533-8.533s-3.413-8.533-8.533-8.533h-17.067c-5.12,0-8.533,3.413-8.533,8.533 S318.147,255,323.267,255z"></path> <path d="M323.267,323.267H357.4c5.12,0,8.533-3.413,8.533-8.533s-3.413-8.533-8.533-8.533h-34.133 c-5.12,0-8.533,3.413-8.533,8.533S318.147,323.267,323.267,323.267z"></path> <path d="M434.2,306.2h-42.667c-5.12,0-8.533,3.413-8.533,8.533s3.413,8.533,8.533,8.533H434.2c5.12,0,8.533-3.413,8.533-8.533 S439.32,306.2,434.2,306.2z"></path> <path d="M41.667,178.2H75.8c5.12,0,8.533-3.413,8.533-8.533s-3.413-8.533-8.533-8.533H41.667c-5.12,0-8.533,3.413-8.533,8.533 S36.547,178.2,41.667,178.2z"></path> <path d="M109.933,178.2H178.2c5.12,0,8.533-3.413,8.533-8.533s-3.413-8.533-8.533-8.533h-68.267c-5.12,0-8.533,3.413-8.533,8.533 S104.813,178.2,109.933,178.2z"></path> <path d="M289.133,255c5.12,0,8.533-3.413,8.533-8.533s-3.413-8.533-8.533-8.533s-8.533,3.413-8.533,8.533 S284.013,255,289.133,255z"></path> <path d="M289.133,289.133c5.12,0,8.533-3.413,8.533-8.533c0-5.12-3.413-8.533-8.533-8.533s-8.533,3.413-8.533,8.533 C280.6,285.72,284.013,289.133,289.133,289.133z"></path> <path d="M323.267,289.133H434.2c5.12,0,8.533-3.413,8.533-8.533c0-5.12-3.413-8.533-8.533-8.533H323.267 c-5.12,0-8.533,3.413-8.533,8.533C314.733,285.72,318.147,289.133,323.267,289.133z"></path> <path d="M289.133,323.267c5.12,0,8.533-3.413,8.533-8.533s-3.413-8.533-8.533-8.533s-8.533,3.413-8.533,8.533 S284.013,323.267,289.133,323.267z"></path> <path d="M323.267,357.4H434.2c5.12,0,8.533-3.413,8.533-8.533c0-5.12-3.413-8.533-8.533-8.533H323.267 c-5.12,0-8.533,3.413-8.533,8.533C314.733,353.987,318.147,357.4,323.267,357.4z"></path> <path d="M289.133,357.4c5.12,0,8.533-3.413,8.533-8.533c0-5.12-3.413-8.533-8.533-8.533s-8.533,3.413-8.533,8.533 C280.6,353.987,284.013,357.4,289.133,357.4z"></path> </g> </g> </g> </g></svg>',o='<svg fill="#000000" width="35px" height="35px" viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg" stroke="#f1f1f1"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M1866.003 351.563 1565.128 50.575c-69.46-67.652-180.932-67.426-248.923.565L906.23 461.116c-68.33 68.443-68.33 179.69.113 248.132l31.623 31.624 79.737-79.963-31.624-31.51c-24.282-24.396-24.282-64.038 0-88.433l409.977-409.977c24.508-24.395 64.828-24.17 89.675 0l299.859 299.972c24.734 25.186 24.847 65.619.564 90.014l-409.976 409.977c-24.508 24.282-64.15 24.282-88.546 0l-110.795-110.909 159.473-159.36-79.85-79.85-435.614 435.502-109.779-109.779c-32.866-33.656-76.8-52.292-123.67-52.63-43.596 1.694-92.273 18.296-126.156 52.178L51.377 1316.081c-68.442 68.442-68.442 179.69 0 248.132l301.553 301.553c34.108 34.108 79.059 51.275 124.01 51.275 44.95 0 89.9-17.167 124.122-51.275l409.976-409.977c33.77-33.882 52.405-78.607 52.066-126.042-.226-46.984-18.974-90.918-52.066-123.219l-30.494-30.494-79.85 79.85 30.946 30.945c11.86 11.633 18.41 27.106 18.523 43.595.113 16.942-6.664 33.092-18.974 45.516l-409.977 409.976c-23.492 23.492-64.94 23.492-88.433 0l-301.553-301.553c-11.746-11.746-18.183-27.444-18.183-44.273 0-16.715 6.437-32.414 18.183-44.16l409.977-409.976c12.197-12.31 28.235-19.087 45.063-19.087h.452c16.49.113 31.962 6.663 43.934 19.087l110.344 110.23-162.184 162.297 79.85 79.85 438.324-438.438 110.796 110.908c34.334 34.221 79.171 51.275 124.122 51.275 44.95 0 89.901-17.054 124.122-51.275l409.977-409.977c67.877-67.99 67.99-179.463 0-249.26" fill-rule="evenodd"></path> </g></svg>';const r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:n,label:i,classPrefix:o,menus:r,prefixPath:s}=e,l=`${n}-${function(t){let e='';const a='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',n=a.length;let i=0;for(;i<t;)e+=a.charAt(Math.floor(Math.random()*n)),i+=1;return e}(10)}`,g=`${n}-logo`;t.DomComponents.addType(g,{model:{defaults:{tagName:'a',attributes:{class:`${o}-brand d-flex align-items-center`,"data-x-cls":"navbar-logo",href:'#'},components:[{type:'image',tagName:'img',attributes:{width:60,height:60,src:a,class:'d-inline-block align-top',alt:'Logo'},traits:['alt','width','height']},{type:'text',tagName:'span',attributes:{class:"ml-1"},components:`Brand`}],traits:['href','alt']}},isComponent:function(t){return'navbar-logo'===$(t).attr('data-x-cls')}});const p=`${n}-button-expand`;t.DomComponents.addType(p,{model:{defaults:{tagName:'button',editable:!1,attributes:{class:`${o}-toggler`,type:"button",'data-toggle':'collapse','data-target':`#${l}`,'aria-controls':`${l}`,'aria-expanded':"false",'aria-label':"Toggle navigation"},components:{tagName:'span',attributes:{class:'navbar-toggler-icon'}}}}});const d=`${n}-navbar-collapse`,c=`${n}-navbar-nav`;t.DomComponents.addType(d,{model:{defaults:{name:`${n}-navbar-collapse`,tagName:'div',attributes:{id:l,class:`collapse ${o}-collapse`},components:[{type:c}]}}});const h=`${n}-navbar-item`;t.DomComponents.addType(c,{model:{defaults:{name:`${n}-navbar-nav`,tagName:'ul',attributes:{class:`${o}-nav mr-auto`},components:[{type:h}],droppable:(t,e)=>t.get('type')===h}}});const m=`${n}-navbar-item-link`;t.DomComponents.addType(h,{model:{defaults:{name:`${n}-navbar-nav-item`,tagName:'li',attributes:{class:`nav-item`},components:[{type:m}],draggable:(t,e)=>e.get('type')===c,droppable:(t,e)=>t.get('type')===m}}});const b=`link-advance`,f='on-page-href',u={name:f,label:t.I18n.t('grapejs-plugin-bootstrap-navbar.onPageMenu'),type:'select',options:[{id:'#',name:'-'},...r.map((t=>(s&&!t.id.startsWith(s)&&(t.id=s+t.id),t)))],changeProp:!0},v='fragment-identifier',y={name:v,label:t.I18n.t('grapejs-plugin-bootstrap-navbar.fragId'),type:'text',placeholder:'idx-block-about-us',changeProp:!0},C='off-site-link',k={name:C,label:t.I18n.t('grapejs-plugin-bootstrap-navbar.offSite'),type:'text',placeholder:'https://bflow.vn',changeProp:!0};t.DomComponents.addType(b,{extend:'link',model:{defaults:{name:'Link Advance',tagName:'a',draggable:!0,droppable:!1,href:s+'/',"type-link":"on-page-href","on-page-href":s+'/',"fragment-identifier":"","off-site-link":"",traits:['target',{name:'type-link',label:t.I18n.t('grapejs-plugin-bootstrap-navbar.typeOfLink'),type:'select',options:[{id:'on-page-href',name:t.I18n.t('grapejs-plugin-bootstrap-navbar.onPageMenu')},{id:'fragment-identifier',name:t.I18n.t('grapejs-plugin-bootstrap-navbar.fragId')},{id:'off-site-link',name:t.I18n.t('grapejs-plugin-bootstrap-navbar.offSite')}],changeProp:!0},u],'script-props':['href','type-link','fragment-identifier','off-site-link'],content:t.I18n.t("grapejs-plugin-bootstrap-navbar.linkTxt")},init(){this.on('change:type-link',this.handleChangeTypeLink),this.on('change:on-page-href',this.handleChangeOnPageLink),this.on('change:fragment-identifier',this.handleChangeFragmentLink),this.on('change:off-site-link',this.handleChangeOffSiteLink)},handleNavLinkHrefTypeChange(){this.setAttributes({href:this.get('href')})},resetTraintAdvance(){this.removeTrait(f),this.removeTrait(v),this.removeTrait(C)},handleChangeTypeLink(){this.resetTraintAdvance();let t=this.get('type-link');'on-page-href'===t&&this.addTrait(u),"fragment-identifier"===t&&this.addTrait(y),'off-site-link'===t&&this.addTrait(k)},handleChangeOnPageLink(){this.setAttributes({href:this.attributes?.["on-page-href"]})},handleChangeFragmentLink(){this.setAttributes({href:'#'+this.attributes?.['fragment-identifier']})},handleChangeOffSiteLink(){let t=this.attributes?.['off-site-link']||null;t&&(t.startsWith('http://')||t.startsWith('https://'))&&this.setAttributes({href:t})}}}),t.DomComponents.addType(m,{extend:b,model:{defaults:{name:`${n}-navbar-item-link`,attributes:{class:'nav-link',href:s+'/'},draggable:(t,e)=>e.get('type')===h,components:[{type:'text',content:`${t.I18n.t("grapejs-plugin-bootstrap-navbar.homeTxt")} <span class="sr-only">(current)</span>`}]}}}),t.DomComponents.addType(n,{model:{defaults:{name:i,tagName:'nav',droppable:!1,attributes:{class:`${o} ${o}-expand-lg ${o}-light bg-light`},components:[{type:g},{tagName:'div',components:{type:p}},{type:d}],navColor:'navbar-light',bgColor:'bg-light',traits:[{name:'navColor',label:'Navbar Color',type:'select',options:[{id:'navbar-light',name:'Light',selected:!0},{id:'navbar-dark',name:'Dark'}],changeProp:!0},{name:'bgColor',label:'Background Color',type:'select',options:[{id:'bg-light',name:'Light',selected:!0},{id:'bg-dark',name:'Dark'},{id:'bg-primary',name:'Primary'},{id:'bg-secondary',name:'Secondary'},{id:'bg-success',name:'Success'},{id:'bg-danger',name:'Danger'},{id:'bg-warning',name:'Warning'},{id:'bg-info',name:'Info'}],changeProp:!0}],'script-props':['navColor','bgColor'],script:function(){$(document).ready((function(){let t=window.location.pathname;$(this).find('.nav-link').each((function(){let e=$(this).closest('.nav-item');e.removeClass('active'),$(this).attr('href')===t&&$(e).addClass('active')}))}))}},init(){this.on('change:navColor',this.handleNavColorTypeChange),this.on('change:bgColor',this.handleBackgroundColorTypeChange);let t=this.components().models[2].getAttributes().id;this.components().models[1].setAttributes({"data-target":`#${t}`,"aria-controls":t})},handleNavColorTypeChange(){let t=this.get('navColor'),e=this.traits.get('navColor').attributes.options.map((t=>t.id));this.setAttributes({class:this.resetClass(this.getAttributes().class,e,t)})},handleBackgroundColorTypeChange(){let t=this.get('bgColor'),e=this.traits.get('bgColor').attributes.options.map((t=>t.id));this.setAttributes({class:this.resetClass(this.getAttributes().class,e,t)})},resetClass(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'';return e.map((e=>{t=t.replaceAll(e,'')})),t+=` ${a}`}}})},s={'grapejs-plugin-bootstrap-navbar':{onPageMenu:'On-page menu',fragId:'Fragment Identifier',offSite:'Off-site links',typeOfLink:'Type of link',homeTxt:"Home",linkMenu:"Menu Link",linkAdvance:"Link Advance",linkTxt:"Link"}},l={'grapejs-plugin-bootstrap-navbar':{onPageMenu:'Liên kết nội bộ',fragId:'Nhận dạng ID',offSite:'Liên kết ngoài',typeOfLink:'Kiểu liên kết',homeTxt:"Trang chủ",linkMenu:"Liên kết Menu",linkAdvance:"Liên kết nâng cao",linkTxt:"Liên kết"}},g=function(t){const e={id:'bootstrap-navbar',label:'Full Navbar',classPrefix:'navbar',menus:[{id:'/',name:'Trang Chủ'},{id:'/about-us',name:'Về chúng tôi'}],prefixPath:'',i18n:{locale:'vi',detectLocale:!1,messages:{en:s,vi:l}},...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};t.I18n&&t.I18n.addMessages({en:s,vi:l,...e.i18n}),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{block:a,label:r,id:s}=e;t.BlockManager.add(s,{label:r,content:{type:s},media:i,category:'Navigations',select:!0,...a}),t.BlockManager.add(`${s}-navbar-item`,{label:`Navbar Item`,content:{type:`${s}-navbar-item`},media:n,category:'Navigations',select:!0}),t.BlockManager.add(`link-advance`,{label:t.I18n.t("grapejs-plugin-bootstrap-navbar.linkAdvance"),content:{type:`link-advance`},media:o,category:'Navigations',select:!0})}(t,e),r(t,e)};return e})()));
//# sourceMappingURL=index.js.map