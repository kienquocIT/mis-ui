{% load static compress form_runtime i18n %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta
            name="viewport"
            content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    >
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    {#    <meta#}
    {#            http-equiv="Content-Security-Policy"#}
    {#            content="#}
    {#                default-src 'none';#}
    {#                script-src 'self' https://accounts.google.com;#}
    {#                style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;#}
    {#                font-src 'self' https://fonts.gstatic.com;#}
    {#                img-src 'self' https: data:;#}
    {#                frame-src 'self' https:;#}
    {#                connect-src 'self' https://api.ipify.org;#}
    {#            "#}
    {#    >#}
    <meta property="og:url" content="{{ url }}"/>
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="{{ title }}"/>
    <meta property="og:description" content="{{ remark }}"/>
    <meta property="og:image" content="{{ logo_resolve }}"/>

    {% get_logo logo as logo_resolve %}

    <link rel="icon" type="image/x-icon" href="{{ logo_resolve }}"/>

    <title>{{ title }}</title>

    <style>
        /* vietnamese */
        @font-face {
            font-family: 'Merienda';
            font-style: normal;
            font-weight: 300 900;
            font-display: swap;
            src: url("{% static 'form/runtime/vendors/fonts/Merienda/Merienda-VariableFont_wght.ttf' %}") format('truetype');
            unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;
        }

        /* latin-ext */
        @font-face {
            font-family: 'Merienda';
            font-style: normal;
            font-weight: 300 900;
            font-display: swap;
            src: url("{% static 'form/runtime/vendors/fonts/Merienda/Merienda-VariableFont_wght.ttf' %}") format('truetype');
            unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
        }

        /* latin */
        @font-face {
            font-family: 'Merienda';
            font-style: normal;
            font-weight: 300 900;
            font-display: swap;
            src: url("{% static 'form/runtime/vendors/fonts/Merienda/Merienda-VariableFont_wght.ttf' %}") format('truetype');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        }
    </style>
    <link rel="stylesheet" href="{% static 'vendors/font-awesome/6.4.0/css/all.min.css' %}">
    <link rel="stylesheet" href="{% static 'form/runtime/css/base.css' %}">
    <link rel="stylesheet" href="{% static 'form/runtime/css/email-auth.css' %}">
    <style>
        input.is-invalid {
            border-color: red;
        }
        div.is-invalid {
            color: red;
        }

        .break-line-or {
            position: relative;
            box-sizing: border-box;
            width: 100%;
            height: 1px;
            background-color: #faa31a;
            margin-top: 10px;
            margin-bottom: 10px;
        }

        .break-line-or:after {
            content: "{% trans 'Or' %}";
            padding-left: 1rem;
            padding-right: 1rem;
            text-align: center;
            background-color: #fff;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translateX(-50%) translateY(-50%);
        }

        .btn-loading .loading {
            display: none;
        }
        .btn-loading.active .loading {
            display: inline-block;
        }
    </style>

    <script src="{% static 'vendors/jquery/dist/jquery.min.js' %}"></script>
</head>
<body>
<div id="email-authenticate">
    <div class="email-authenticate-group">
        <div class="email-login">
            <div style="display: block;width: 100%;padding-bottom: 30px;padding-top: 10px;">
                <div style="width: 100%;display: flex;justify-content: center;padding-bottom: 30px;padding-top: 20px;">
                    <img src="{{ logo_resolve }}" alt="Original Company" style="max-width: 100px;object-fit: initial;">
                </div>
                <p style="width: 100%;text-align: center;font-size: large;margin: 0;">{% trans 'Sender identity verification' %}</p>
            </div>
            <div style="box-sizing: border-box;width: 100%;padding: 10px;">
                <p style="margin: 0 0 5px;">
                    {% trans 'Fast authentication' %}
                </p>
                <small style="margin: 0 0 5px;color: #9e9e9e;">{% trans "Some fast authenticate service isn't available. It will come back soon." %}</small>
            </div>
            <div class="break-line-or"></div>
            <div style="box-sizing: border-box;width: 100%; padding: 10px;">
                <p style="margin: 0 0 10px;">
                    {% trans 'OTP validation' %}
                </p>
                <form id="form-email-get-otp" data-url="{% url 'FormAuthenticateFormAPI' form_code=form_code %}">
                    {% csrf_token %}
                    <div style="width: 100%; display: flex;">
                        <div style="flex-basis: auto;margin-right: 5px;">
                            <div class="form-group">
                                <label for="email-auth-email" style="display: none;">Email</label>
                                <input type="email" id="email-auth-email" name="email" placeholder="Email"/>
                            </div>
                        </div>
                        <div style="flex-basis: 100px">
                            <button type="submit" class="btn-loading">
                                <span class="loading">
                                    <i class="fa-solid fa-spinner fa-spin"></i>
                                </span>
                                <span class="text">{% trans 'Send OTP' %}</span>
                            </button>
                        </div>
                    </div>
                </form>
                <p style="display: block;margin: 10px 0 10px;font-style: italic;font-size: 0.9rem;">
                    {% trans 'You will receive an OTP via email from Bflow (*@bflow.vn) to verify your account.' %}
                </p>
                <form id="form-email-verify-otp" style="display: none;" data-url="{% url 'FormAuthenticateFormAPI' form_code=form_code %}">
                    <hr/>
                    {% csrf_token %}
                    <div style="margin-bottom: 10px;width: 100%;">
                        <input type="text" name="id" placeholder=" " required readonly style="display: none;"  />
                        <input type="text" name="email" placeholder=" " required readonly style=""/>
                    </div>
                    <div style="margin-bottom: 10px;width: 100%;">
                        <span style="margin-right: 3px;">{% trans 'Expired in' %}</span>
                        <span style="margin-right: 3px;color: blue;" id="idx-count-down">0</span>
                        <span style="margin-right: 3px;">{% trans 'seconds' %}</span>
                    </div>
                    <div style="width: 100%; display: flex;">
                        <div style="flex-basis: auto;margin-right: 5px;">
                            <div class="form-group">
                                <label for="email-ath-password" style="display: none;">OTP</label>
                                <input type="text" id="email-ath-password" name="otp" placeholder="OTP" required />
                            </div>
                        </div>
                        <div style="flex-basis: 100px">
                            <button type="submit" class="btn-loading">
                                <span class="loading">
                                    <i class="fa-solid fa-spinner fa-spin"></i>
                                </span>
                                <span class="text">
                                    {% trans 'Verify' %}
                                </span>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script src="{% static 'vendors/jquery/dist/jquery.min.js' %}"></script>
<script src="{% static 'form/runtime/vendors/moment/min/moment.min.js' %}"></script>
<script src="{% static 'form/runtime/vendors/moment/moment-timezone-with-data.js' %}"></script>
<script src="{% static 'form/runtime/vendors/moment-upgrade/moment-locales-upgrade-vi-en.js' %}"></script>
<script src="{% static 'form/runtime/vendors/jquery-validation-1.19.5/dist/jquery.validate.min.js' %}"></script>
<script src="{% static 'form/runtime/vendors/jquery-validation-1.19.5/dist/additional-methods.min.js' %}"></script>
{% if language == 'vi' %}
    <script src="{% static 'form/runtime/vendors/validation_message_vi.js' %}"></script>
{% endif %}
<script src="{% static 'form/runtime/vendors/validation_add_method.js' %}"></script>
{% if jsi18n %}
        <script src="{% url 'javascript-catalog' packages=jsi18n %}"></script>
{% else %}
    <script src="{% url 'javascript-catalog' packages='null' %}"></script>
{% endif %}
<script src="{% static 'form/runtime/vendors/notify.min.js' %}"></script>


<script src="{% static 'form/runtime/vendors/setup.js' %}"></script>
<script src="{% static 'form/runtime/js/authenticate.js' %}"></script>
</body>
</html>