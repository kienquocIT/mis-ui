{% extends 'base.html' %}
{% load static i18n %}
{% block title %}{% trans 'Opportunity list' %}{% endblock %}
{% block cssHeader %}
    <link href="{% static 'vendors/select2/dist/css/select2.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'vendors/dropify/dist/css/dropify.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'vendors/sweetalert2/sweetalert2.css' %}" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" type="text/css" href="{% static 'vendors/daterangepicker/daterangepicker.css' %}"/>

    <link href="{% static 'assets/sales/task/css/create-form.css' %}" rel="stylesheet" type="text/css"/>
    <style>
        .sub-stage {
            display: flex;

            justify-content: center;
        }

        .view_task_log {
            cursor: pointer
        }
    </style>
{% endblock %}
{% block jsHeader %}
{% endblock %}
{% block pageAction %}
    <a href="#" id="btn-opp-edit">
        <button class="btn btn-outline-primary">
        <span>
            <span>{% trans 'Edit' %}</span>
            <span class="icon">
                <i class="fa-regular fa-pen-to-square"></i>
            </span>
        </span>
        </button>
    </a>
{% endblock %}
{% block pageContent %}
    <div class="page-content">
        <form id="frm-detail" data-method="PUT" data-url="{% url 'OpportunityDetailAPI' pk=0 %}"
              data-url-redirect="{% url "OpportunityList" %}">
            {% csrf_token %}
            <div class="row">
                <div class="col-3" style="height: 83vh; overflow: auto">
                    <div class="col-12" style="padding-right: 6%">
                        <div class="form-group">
                            <label for="rangeInput">{% trans "Win Rate" %}</label>
                            <input type="range" class="form-control-range" id="rangeInput" min="0" max="100" step="1">
                        </div>
                        <div class="row ml-2">
                            <div class="form-group col-6 mt-2">
                                <input class="form-check-input" type="checkbox" value="0" id="check-input-rate"
                                       name="is_input_rate" disabled>
                                <label class="form-check-label"
                                       for="check-input-rate">{% trans "Manually input rate" %}</label>
                            </div>
                            <div class="col-6">
                                <span class="input-affix-wrapper affix-wth-text">
                                    <input class="form-control" type="number" step="0.1" id="input-rate" name="win_rate"
                                           disabled>
                                    <span class="input-suffix">%</span>
                                </span>
                            </div>
                        </div>
                        <div class="form-group mt-2">
                            <div class="row">
                                <label class="form-label col-7 required">{% trans "Customer" %}</label>
                                <div class="form-group col-5 text-right pr-4">
                                    <input class="form-check-input" type="checkbox" value="0" id="check-agency-role" disabled>
                                    <label class="form-check-label"
                                           for="check-agency-role">{% trans "agency role" %}</label>
                                </div>
                            </div>
                            <select class="form-select2" id="select-box-customer"
                                    data-url="{% url 'AccountListAPI' %}"
                                    data-method="GET" data-close-on-select="true"
                                    data-keyResp="account_list"
                                    data-keyText="name"
                                    disabled
                            >
                            </select>
                        </div>
                        <div class="form-group mt-2">
                            <label class="form-label">{% trans "End Customer" %}</label>
                            <select class="form-select" id="select-box-end-customer"
                                    data-close-on-select="true"
                                    data-url="{% url 'AccountListAPI' %}" disabled
                                    data-method="GET"
                                    data-keyResp="account_list"
                                    data-keyText="name"
                            >
                            </select>
                        </div>
                        <div class="form-group mt-2">
                            <label class="form-label required">{% trans "Product Category" %}</label>
                            <select class="form-select" multiple id="select-box-product-category"
                                    data-close-on-select="true" data-method="GET"
                                    data-url="{% url 'ProductCategoryListAPI' %}"
                                    data-keyResp="product_category_list"
                                    disabled
                            >
                            </select>
                        </div>
                        <div class="form-group mt-2">
                            <label class="form-label required">{% trans "Sale Person" %}</label>
                            <select class="form-select" id="select-box-sale-person" data-method="GET"
                                    data-close-on-select="true"
                                    data-url="{% url 'EmployeeListAPI' %}"
                                    name="sale_person"
                                    data-keyResp="employee_list"
                                    data-keyText="full_name"
                                    disabled
                            >
                            </select>
                        </div>
                        <div class="form-group mt-2">
                            <label class="form-label">{% trans "Budget" %}</label>
                            <input class="form-control mask-money" type="text" data-return-type="number"
                                   id="input-budget" disabled/>
                        </div>
                        <div class="form-group mt-2">
                            <label class="form-label">{% trans "Open Date" %}</label>
                            <input class="form-control" type="text" id="input-open-date" name="open_date" disabled/>
                        </div>
                        <div class="form-group mt-2">
                            <label class="form-label required">{% trans "Close Date" %}</label>
                            <input class="form-control" type="text" id="input-close-date" name="close_date" disabled/>
                        </div>
                        <div class="form-group mt-2 readonly">
                            <label class="form-label">{% trans "Decision Maker" %}</label>
                            <input class="form-control" type="text" id="input-decision-maker" readonly data-id="" disabled/>
                        </div>
                    </div>
                </div>
                <div class="col-9" style="height: 83vh; overflow: auto; overflow-x: hidden">
                    <div class="col-12" style="padding-right: 2%">
                        <div class="form-group text-center">
                            <h4 id="header-title" class="text-primary" style="font-weight: bolder"></h4>
                        </div>
                        <div class="row text-right">
                            <div class="col-6 text-left"></div>
                            <div class="col-6 text-right"></div>
                        </div>
                        <!-- Status -->
                        <div class="d-flex" id="div-stage" data-method="GET" data-url="{% url "OpportunityConfigStageListAPI" %}"></div>
                        <div id="stage-hidden" class="hidden">
                            <div class="border rounded pr-2 pl-2 pb-2 pt-2 sub-stage w-100 text-center d-flex justify-content-center"
                                 style="flex-direction: column;">
                                <p class="stage-indicator" style="margin-bottom: auto;"></p>
                            </div>
                        </div>
                        <div class="mt-3 row">
                            <div class="row bg-light-5 pr-2 pl-2 pb-2 pt-2 mt-5">
                                <div class="col-12 w-100">
                                    <div class="row div-action">
                                        <div class="col-11">
                                            <h4 class="text-primary">{% trans 'Current action' %}</h4>
                                        </div>
                                        <div class="col-1 text-right">
                                            <a href="#" id="btn-show-activity">
                                                <span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-original-title="{% trans 'Show activity logs' %}">
                                                    <i class="bi bi-clock-history text-primary"></i>
                                                </span>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="row div-activity hidden">
                                        <div class="col-11 d-flex">
                                            <h4 class="text-primary">{% trans "Activity logs" %}</h4><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                            <div class="dropdown">
                                                <button type="button" class="btn btn-soft-primary btn-xs dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <i class="bi bi-ui-checks-grid"></i> {% trans 'New Log' %}
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a data-bs-toggle="modal" data-bs-target="#create-new-call-log" class="dropdown-item create-new-call-log-button" href="#">
                                                        {% trans 'Log a call' %}
                                                    </a>
                                                    <a data-bs-toggle="modal" data-bs-target="#send-email" class="dropdown-item send-email-button" href="#">
                                                        {% trans 'Email' %}
                                                    </a>
                                                    <a data-bs-toggle="modal" data-bs-target="#create-meeting" class="dropdown-item new-meeting-button" href="#">
                                                        {% trans 'Meeting' %}
                                                    </a>
                                                    <a data-drawer-target="#drawer_task_create" data-drawer-active="false" class="dropdown-item ntt-drawer-toggle-link current-create-task" href="#">
                                                        {% trans 'Task' %}
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="dropdown">
                                                <button type="button" class="btn btn-soft-primary btn-xs dropdown-toggle ml-2" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-bs-toggle="dropdown">
                                                    <i class="fa-solid fa-arrows-spin"></i> {% trans 'Create Related Feature' %}
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item btn-create-related-feature" data-url="{% url 'QuotationCreate' %}" href="#">{% trans 'Quotation' %}</a>
                                                    <a class="dropdown-item btn-create-related-feature" data-url="{% url 'SaleOrderCreate' %}" href="#">{% trans 'Sale Order' %}</a>
                                                    <a class="dropdown-item btn-create-related-feature" data-url="{% url 'AdvancePaymentCreate' %}" href="#">{% trans 'Advance Payment' %}</a>
                                                    <a class="dropdown-item btn-create-related-feature" data-url="{% url 'PaymentCreate' %}" href="#">{% trans 'Payment' %}</a>
                                                    <a class="dropdown-item btn-create-related-feature" data-url="{% url 'ReturnAdvanceCreate' %}" href="#">{% trans 'Return advance' %}</a>
                                                </div>
                                            </div>
                                            <div class="dropdown">
                                                <button type="button" class="btn btn-soft-primary btn-xs dropdown-toggle ml-2" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-bs-toggle="dropdown">
                                                    <i class="bi bi-box-arrow-up-right"></i> {% trans 'View Related Feature' %}
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item item-detail-related-feature" id="item-related-quotation" href="#" target="_blank">{% trans 'Quotation' %}</a>
                                                    <a class="dropdown-item item-detail-related-feature" id="item-related-sale-order" href="#" target="_blank">{% trans 'Sale Order' %}</a>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-1 text-right">
                                            <a href="#" id="btn-show-action">
                                                <span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-original-title="{% trans 'Show actions' %}">
                                                    <i class="bi bi-pip text-primary"></i>
                                                </span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="w-100 div-action">
                                    <div class="row">
                                        <div class="h-150p">
                                            <div class="bg-blue-light-4 border rounded-5 mt-1 mb-1 h-90">
                                                <div class="row mt-2 ml-2 mr-2">
                                                    <div class="col-10">
                                                        <span class="text-black">{% trans "(Current action title)" %}</span>
                                                    </div>
                                                    <div class="col-2 text-right">
                                                        <a href="#" class="badge badge-primary w-50">{% trans 'Do' %}</a>
                                                    </div>
                                                </div>
                                                <div class="row mt-2 mr-2">
                                                    <div class="col-10"></div>
                                                    <div class="col-2 text-right">
                                                        <a href="#" class="badge badge-orange w-50">{% trans 'Skip' %}</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="row div-action">
                                        <div class="col-6">
                                            <h5 class="text-primary">{% trans 'Next action' %}</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="w-100 div-action">
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="h-150p">
                                                <div class="bg-green-light-5 border rounded-5 mt-1 mb-1 h-90">
                                                    <div class="row mt-2 ml-2 mr-2">
                                                        <div class="col-10">
                                                            <span class="text-black">{% trans "(Next action title 1)" %}</span>
                                                        </div>
                                                        <div class="col-2 text-right">
                                                            <a href="#" class="badge badge-secondary w-100">{% trans 'Do' %}</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="h-150p">
                                                <div class="bg-green-light-5 border rounded-5 mt-1 mb-1 h-90">
                                                    <div class="row mt-2 ml-2 mr-2">
                                                        <div class="col-10">
                                                            <span class="text-black">{% trans "(Next action title 2)" %}</span>
                                                        </div>
                                                        <div class="col-2 text-right">
                                                            <a href="#" class="badge badge-secondary w-100">{% trans 'Do' %}</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 w-100 hidden div-activity border rounded pr-2 pl-2 pb-2 pt-2">
                                    <div class="row mb-2">
                                        <div class="col-12">
                                            <table class="table nowrap w-100" id="table-timeline"
                                                   data-url-logs_list="{% url 'OpportunityActivityLogListAPI' %}"
                                                   data-url-delete-call-log="{% url 'OpportunityCallLogDeleteAPI' '0' %}"
                                                   data-url-delete-email="{% url 'OpportunityEmailDeleteAPI' '0' %}"
                                                   data-url-delete-meeting="{% url 'OpportunityMeetingDeleteAPI' '0' %}"
                                                   data-method="GET">
                                                <thead>
                                                <tr>
                                                    <th>{% trans "Activity" %}</th>
                                                    <th>{% trans 'Subject' %}
                                                        <i class="fas fa-info-circle icon-info"
                                                           data-bs-toggle="tooltip"
                                                           data-bs-placement="bottom"
                                                           title="{% trans 'Press row here to see detail.' %}">
                                                        </i>
                                                    </th>
                                                    <th>{% trans "Date" %}</th>
                                                    <th></th>
                                                </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row bg-light-5 pr-2 pl-2 pb-2 pt-2 mt-5">
                                <div class="col-12 mt-2">
                                    <ul class="nav nav-light nav-tabs col-12" id="tab-select">
                                        <li class="nav-item">
                                            <a class="nav-link active" data-bs-toggle="tab" href="#tab_product">
                                                <span class="nav-link-text">{% trans 'Product' %}</span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" data-bs-toggle="tab" href="#tab_competitors">
                                                <span class="nav-link-text">{% trans 'Competitors' %}</span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" data-bs-toggle="tab" href="#tab_contact_role">
                                                <span class="nav-link-text">{% trans 'Contact Role' %}</span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" data-bs-toggle="tab" href="#tab_account_history">
                                                <span class="nav-link-text">{% trans 'Account History' %}</span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" data-bs-toggle="tab" href="#tab_team">
                                                <span class="nav-link-text">{% trans 'Team' %}</span>
                                            </a>
                                        </li>
                                    </ul>
                                    <div class="tab-content">
                                        <div class="tab-pane fade show active" id="tab_product">
                                            <div class="row">
                                                <div class="col-12">
                                                    <div class="overflow-auto">
                                                        <table class="table nowrap w-100" id="table-products">
                                                            <thead>
                                                            <tr>
                                                                <th class="">#</th>
                                                                <th>{% trans "Product" %}</th>
                                                                <th>{% trans 'Product Category' %}</th>
                                                                <th>{% trans 'UoM' %}</th>
                                                                <th>{% trans "Quantity" %}</th>
                                                                <th>{% trans "Unit Price" %}</th>
                                                                <th>{% trans "Tax" %}</th>
                                                                <th>{% trans "Subtotal Price" %}</th>
                                                            </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-6 dropdown"></div>
                                                <div class="col-6 mt-5 border rounded pr-2 pl-2 pb-2 pt-2">
                                                    <div class="row mb-2">
                                                        <div class="col-6"><p>{% trans 'Pretax Amount' %}</p></div>
                                                        <div class="col-6 readonly">
                                                            <input id="input-product-pretax-amount" type="text" class="form-control mask-money" data-return-type="number" readonly>
                                                        </div>
                                                    </div>
                                                    <div class="row mb-2">
                                                        <div class="col-6"><p>{% trans 'Taxes' %}</p></div>
                                                        <div class="col-6 readonly">
                                                            <input id="input-product-taxes" type="text" class="form-control mask-money" data-return-type="number" readonly>
                                                        </div>
                                                    </div>
                                                    <div class="dropdown-divider"></div>
                                                    <div class="row mb-2">
                                                        <div class="col-6"><b>{% trans 'Total' %}</b></div>
                                                        <div class="col-6 readonly">
                                                            <input id="input-product-total" type="text" class="form-control mask-money" data-return-type="number" readonly>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade mb-25" id="tab_competitors">
                                            <table class="table nowrap w-100" id="table-competitors">
                                                <thead>
                                                <tr>
                                                    <th>{% trans "Name" %}</th>
                                                    <th>{% trans 'Strength' %}</th>
                                                    <th>{% trans 'Weakness' %}</th>
                                                    <th>{% trans "Win deal" %}</th>
                                                </tr>
                                                </thead>
                                            </table>
                                        </div>
                                        <div class="tab-pane fade mb-25" id="tab_contact_role">
                                            <input class="hidden" data-method="GET"
                                                   data-url="{% url 'ContactListAPI' %}"
                                                   id="input-data-contact"/>
                                            <table class="table nowrap w-100" id="table-contact-role">
                                                <thead>
                                                <tr>
                                                    <th>{% trans "Which Customer" %}</th>
                                                    <th>{% trans 'Name' %}</th>
                                                    <th>{% trans 'Job title' %}</th>
                                                    <th>{% trans "Role" %}</th>
                                                </tr>
                                                </thead>
                                            </table>
                                            <div class="form-group mt-5">
                                                <label class="form-label" for="box-select-factor">{% trans "Select Reason why customer buy your product" %}</label>
                                                <select class="form-select" multiple id="box-select-factor" data-method="GET" data-url="{% url 'OpportunityCustomerDecisionFactorListAPI' %}" data-keyResp="opportunity_decision_factor"></select>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade mb-25" id="tab_account_history">
                                            <div class="d-flex overflow-auto"></div>
                                        </div>
                                        <div class="tab-pane fade mb-25" id="tab_team">
                                            <div class="row mb-3">
                                            <div class="col-12 shadow shadow-bottom shadow-left border rounded p-5">
                                                <div class="row" id="member-item-list"></div>
                                            </div>
                                        </div>
                                            <div class="row mb-2 hidden">
                                                {% include 'core/hr/extends/permission_group_tabs.html' with plan_app_enabled=True permit_enabled=True actions_enabled=True add_new_enabled="true" warning_enabled="true" extend_action="sales/opportunity/extends/ext_actions.html" range_allowed="5,6" %}
                                            </div>
                                            <div class="card-member-hidden hidden">
                                                <div class="card col-6 col-xl-4">
                                                    <div class="card-header card-header-action">
                                                        <h6>{% trans "Member" %}</h6>
                                                        <div class="card-action-wrap">
                                                            <div class="dropdown">
                                                                <button class="btn btn-outline-primary btn-animated btn-xs"
                                                                        data-bs-toggle="dropdown">
                                                            <span class="icon">
                                                                <span class="feather-icon">
                                                                    <i
                                                                            data-feather="more-horizontal">
                                                                    </i>
                                                                </span>
                                                            </span>
                                                                </button>
                                                                <div role="menu" class="dropdown-menu">
                                                                    <a class="dropdown-item btn-detail-member"
                                                                       target="_blank"
                                                                       href="#">{% trans "View Detail" %}</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="card-body row g-0">
                                                        <div class="col-3 avatar avatar-rounded mt-3">
                                                            <img class="avatar-img"
                                                                 src="{% static "assets/images/avatar/avatar.jpg" %}"
                                                                 alt="Card image">
                                                        </div>
                                                        <div class="col-9">
                                                            <div class="card-body">
                                                                <h5 class="card-title"></h5>
                                                                <p class="card-text text-primary"></p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row" id="card-member"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row bg-light-5 pr-2 pl-2 pb-2 pt-2 mt-10 mb-20">
                                <div class="col-2 bg-danger-light-4 border rounded justify-content-end">
                                    <div class="form-check">
                                        <input disabled type="checkbox" class="form-check-input" id="check-lost-reason">
                                        <label class="form-check-label" for="check-lost-reason">{% trans "Lost by other reason" %}</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div class="modal fade mt-10" id="detail-call-log" data-url="{% url 'OpportunityCallLogDetailAPI' '0' %}" tabindex="-1" role="dialog"
         aria-labelledby="detailOpportunityCallLogModalForms" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans 'Detail Call Log' %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">Ã—</span>
                    </button>
                </div>
                <div class="modal-body" style="overflow: auto; height: 58vh">
                    <div class="mb-3">
                        <label class="form-label required">
                            {% trans 'Subject' %}
                        </label>
                        <input readonly id="detail-subject-input" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label class="form-label required">
                            {% trans 'Sale Code' %}
                        </label>
                        <select disabled style="color: #6f6f6f" id="detail-sale-code-select-box" class="select2 form-select" data-url="{% url 'OpportunityListAPI' %}" data-method="GET"></select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label required">
                            {% trans 'Customer' %}
                        </label>
                        <select disabled style="color: #6f6f6f" id="detail-account-select-box" class="select2 form-select" data-url="{% url 'AccountListAPI' %}" data-method="GET"></select>
                    </div>
                    <div class="row mb-3">
                        <div class="col-6">
                            <label class="form-label required">
                                {% trans 'Contact' %}
                            </label>
                            <select disabled id="detail-contact-select-box" class="select2 form-select"></select>
                        </div>
                        <div class="col-6">
                            <label class="form-label required">
                                {% trans 'Date' %}
                            </label>
                            <input readonly id="detail-date-input" class="form-control">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label required">
                            {% trans 'Input Result' %}
                        </label>
                        <textarea readonly id="detail-result-text-area" class="form-control" style="min-height: 100px"></textarea>
                    </div>
                    <div class="mb-3" hidden>
                        <div class="form-check">
                            <input disabled class="form-check-input" type="checkbox" id="detail-repeat-activity">
                            <label for="repeat-activity">{% trans 'Need to repeat activity' %}</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade mt-10" id="detail-send-email" data-url="{% url 'OpportunityEmailDetailAPI' '0' %}" tabindex="-1" role="dialog" aria-labelledby="detailOpportunityEmailModalForms" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans 'Detail Email' %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"></span>
                    </button>
                </div>
                <div class="modal-body" style="overflow: auto; height: 58vh">
                    <div class="row mb-3">
                        <label class="form-label required">{% trans 'Sale Code' %}</label>
                        <select disabled id="detail-email-sale-code-select-box" class="select2 form-select" data-url="{% url 'OpportunityListAPI' %}" data-method="GET"></select>
                    </div>
                    <div class="row mb-3">
                        <label class="form-label required">{% trans 'To' %}</label>
                        <select disabled id="detail-email-to-select-box" class="select2 form-select" multiple="multiple" data-url="{% url 'ContactListAPI' %}" data-method="GET"></select>
                    </div>
                    <div class="row mb-3">
                        <label class="form-label">{% trans 'Cc' %}</label>
                        <select disabled id="detail-email-cc-select-box" class="select2 form-select" multiple="multiple" data-url="{% url 'ContactListAPI' %}" data-method="GET"></select>
                    </div>
                    <div class="row mb-3">
                        <label class="form-label required">{% trans 'Subject' %}</label>
                        <div><input readonly id="detail-email-subject-input" class="form-control"></div>
                    </div>
                    <div class="row mb-3">
                        <label class="form-label">{% trans 'Content' %}</label>
                        <div>
                            <div class="row form-group mb-3" id="detail-email-content-area"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade mt-10" id="detail-meeting" data-url="{% url 'OpportunityMeetingDetailAPI' '0' %}" tabindex="-1" role="dialog"
         aria-labelledby="detailOpportunityMeetingModalForms" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans 'Detail Meeting' %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"></span>
                    </button>
                </div>
                <div class="modal-body" style="overflow: auto; height: 58vh">
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label class="form-label required">{% trans 'Subject' %}</label>
                                <input disabled style="color: #6f6f6f" id="detail-meeting-subject-input" placeholder="{% trans 'Input subject' %}" class="form-control">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label class="form-label required">{% trans 'Sale Code' %}</label>
                                <select disabled id="detail-meeting-sale-code-select-box" class="select2 form-select"></select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label class="form-label required">{% trans 'Date' %}</label>
                                <input disabled style="color: black" id="detail-meeting-date-input" placeholder="{% trans 'Input date' %}" class="form-control">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label class="form-label required">{% trans 'Meeting address' %}</label>
                                <select disabled id="detail-meeting-address-select-box" class="select2 form-select"></select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label class="form-label">{% trans 'Room location' %}</label>
                                <input disabled style="color: #6f6f6f" id="detail-meeting-room-location-input" placeholder="{% trans 'Input location' %}" class="form-control">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label class="form-label required">{% trans 'Employee attended' %}</label>
                                <select disabled style="color: #6f6f6f" id="detail-meeting-employee-attended-select-box" multiple class="select2 select-multiple"></select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label class="form-label required">{% trans 'Customer member' %}</label>
                                <select disabled style="color: #6f6f6f" id="detail-meeting-customer-member-select-box" multiple class="select2 select-multiple"></select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label class="form-label required">
                                    {% trans 'Input Result' %}
                                </label>
                                <textarea disabled style="color: #6f6f6f" id="detail-meeting-result-text-area" placeholder="{% trans 'Input result' %}" class="form-control" style="min-height: 100px"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row" hidden>
                        <div class="col-12">
                            <div class="mb-3">
                                <div class="form-check">
                                    <input disabled class="form-check-input" type="checkbox" id="detail-repeat-activity">
                                    <label for="repeat-activity">{% trans 'Need to repeat activity' %}</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% include 'sales/task/extend/task-form.html' %}
{% endblock %}
{% block dataHiddenGroup %}
    <input type="text" id="url-factory"
           data-task_detail="{% url 'OpportunityTaskDetailAPI' 1 %}"
           data-task_list="{% url 'OpportunityTaskListAPI' %}"
           data-url-edit="{% url 'OpportunityUpdate' pk=0 %}"
           data-url-emp-detail="{% url 'EmployeeDetail' pk=0 %}"
    >
    <input type="text" id="trans-factory"
           data-activity-type01="{% trans 'Call to customer' %}"
           data-activity-type02="{% trans 'Send email' %}"
           data-activity-type03="{% trans 'Meeting with customer' %}"
           data-trans-customer="{% trans 'Direct Customer' %}"
           data-trans-end-customer="{% trans 'End Customer' %}"
           data-trans-decision-maker="{% trans "Decision Maker" %}"
           data-trans-influence="{% trans "Influence" %}"
           data-trans-contact-involved="{% trans "Contact Involved" %}"
    >
{% endblock %}
{% block jsFooter %}

    <script src="{% static 'vendors/moment/min/moment.min.js' %}"></script>
    <script src="{% static 'vendors/daterangepicker/daterangepicker.js' %}"></script>
    <script src="{% static 'vendors/dropify/dist/js/dropify.min.js' %}"></script>
    <script src="{% static 'vendors/sweetalert2/sweetalert2.js' %}"></script>
    <script src="{% static 'vendors/ckeditor/ckeditor.js' %}"></script>
    <script src="{% static 'vendors/select2/dist/js/select2.full.min.js' %}"></script>

    <script src="{% static 'assets/js/core/hr/permissions.js' %}"></script>
    <script src="{% static 'assets/js/core/hr/plan_app.js' %}"></script>
    <script src="{% static 'assets/js/core/hr/permission_group_tabs.js' %}"></script>

    <script src="{% static 'assets/sales/opportunity/js/opportunity_common.js' %}"></script>
    <script src="{% static 'assets/sales/opportunity/js/opportunity_detail_page.js' %}"></script>
{% endblock %}
