{% load static i18n %}
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>GrapesJS</title>
    <link rel="stylesheet" href="{% static 'builder/dist/css/grapes.min.css' %}">
    <script src="{% static 'builder/dist/grapes.min.js' %}"></script>
    <link href="{% static 'vendors/bootstrap/dist/css/bootstrap.min.css' %}" rel="stylesheet">
    <style>
        body, html {
            height: 100%;
            margin: 0;
        }
    </style>
</head>

<body>
<div style="height: 40px; width: 100%;">
    <button class="btn btn-xs btn-primary w-200p">{% trans 'Save' %}</button>
</div>
<div id="gjs" style="height: calc(100vh - 30px); overflow:hidden;">
    <div class="panel">
        <h1 class="welcome">Welcome to</h1>
    </div>
</div>

<script src="{% static 'vendors/bootstrap/dist/js/bootstrap.min.js' %}"></script>

<script src="{% static 'builder/i18n/locale/vi.js' %}"></script>
<script type="text/javascript">
    let editor = grapesjs.init({
        showOffsets: 1,
        noticeOnUnload: 0,
        container: '#gjs',
        height: '100%',
        fromElement: true,
        storageManager: {autoload: 0},
        styleManager: {
            sectors: [
                {
                    name: 'General',
                    open: false,
                    buildProps: ['float', 'display', 'position', 'top', 'right', 'left', 'bottom']
                }, {
                    name: 'Flex',
                    open: false,
                    buildProps: ['flex-direction', 'flex-wrap', 'justify-content', 'align-items', 'align-content', 'order', 'flex-basis', 'flex-grow', 'flex-shrink', 'align-self']
                }, {
                    name: 'Dimension',
                    open: false,
                    buildProps: ['width', 'height', 'max-width', 'min-height', 'margin', 'padding'],
                }, {
                    name: 'Typography',
                    open: false,
                    buildProps: ['font-family', 'font-size', 'font-weight', 'letter-spacing', 'color', 'line-height', 'text-shadow'],
                }, {
                    name: 'Decorations',
                    open: false,
                    buildProps: ['border-radius-c', 'background-color', 'border-radius', 'border', 'box-shadow', 'background'],
                }, {
                    name: 'Extra',
                    open: false,
                    buildProps: ['transition', 'perspective', 'transform'],
                }
            ],
        },
    });

    editor.I18n.addMessages({
        vi: localeVi
    });
    editor.I18n.setLocale('vi');

    editor.BlockManager.add('testBlock', {
        label: 'Block',
        attributes: {class: 'gjs-fonts gjs-f-b1'},
        content: `<div style="padding-top:50px; padding-bottom:50px; text-align:center">Test block</div>`
    })
</script>
</body>

</html>