/*! grapesjs-plugin-my-products - 1.0.70 */
!function(t,e){'object'==typeof exports&&'object'==typeof module?module.exports=e():'function'==typeof define&&define.amd?define([],e):'object'==typeof exports?exports["grapesjs-plugin-my-products"]=e():t["grapesjs-plugin-my-products"]=e()}('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:this,(()=>(()=>{"use strict";var t={d:(e,a)=>{for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})}},e={};t.r(e),t.d(e,{default:()=>s});const a='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImZpbGw6IHJnYmEoMCwwLDAsMC4xNSk7IHRyYW5zZm9ybTogc2NhbGUoMC43NSkiPgogICAgICAgIDxwYXRoIGQ9Ik04LjUgMTMuNWwyLjUgMyAzLjUtNC41IDQuNSA2SDVtMTYgMVY1YTIgMiAwIDAgMC0yLTJINWMtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMnoiPjwvcGF0aD4KICAgICAgPC9zdmc+',o=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:o,label:d,productData:s}=e,{url:l,method:r}=s,n=`${o}-toolbar-head`,i=`${o}-toolbar-query-count`,c=`${o}-toolbar-foot-page-button`,p=`${o}-toolbar-foot`;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{label:a,idToolbarHead:o,idPageButton:d,idToolbarFoot:s,idToolbarMatchQueryCount:l}=e;t.DomComponents.addType(l,{model:{defaults:{name:'Show match query',tagName:'div',dragable:!1,dropable:!1,editable:!1,attributes:{class:'w-100'},components:[{tagName:"span",dragable:!1,dropable:!1,editable:!1,attributes:{"data-x-cls":"my-product-toolbar-query-count"},components:`0`},{tagName:"span",dragable:!1,dropable:!1,editable:!1,attributes:{class:"ml-1"},components:`${t.I18n.t("grapesjs-plugin-my-products.resultCount")}`}]}}}),t.DomComponents.addType(o,{model:{defaults:{name:`${a} Toolbar Head`,dropable:!1,dragable:!1,tagName:'div',attributes:{class:'row mb-3',"data-x-cls":"my-product-header"},components:[{tagName:'div',dropable:!1,dragable:!1,editable:!1,attributes:{class:'col-sm-12 col-md-6 col-lg-6 col-xl-8 p-1'},components:[{tagName:'input',dropable:!1,dragable:!1,editable:!1,attributes:{type:"text",class:"form-control w-100",placeholder:`${t.I18n.t("grapesjs-plugin-my-products.search")}...`,"data-x-cls":"my-product-header--search"}}]},{tagName:'div',dropable:!1,dragable:!1,editable:!1,attributes:{class:'col-sm-8 col-md-4 col-lg-3 col-xl-2 p-1'},components:[{tagName:'select',dropable:!1,dragable:!1,editable:!1,attributes:{class:"form-control w-100","data-x-cls":"my-product-header--sort"},components:[{tagName:'option',dropable:!1,dragable:!1,editable:!1,attributes:{value:"suitable",selected:"selected"},components:`${t.I18n.t("grapesjs-plugin-my-products.relateSuitable")}`},{tagName:'option',dropable:!1,dragable:!1,editable:!1,attributes:{value:"price-a-z"},components:`${t.I18n.t("grapesjs-plugin-my-products.pricesLowsToHights")}`},{tagName:'option',dropable:!1,dragable:!1,editable:!1,attributes:{value:"price-z-a"},components:`${t.I18n.t("grapesjs-plugin-my-products.pricesHightsToLows")}`}]}]},{tagName:'div',dropable:!1,dragable:!1,editable:!1,attributes:{class:'col-sm-4 col-md-2 col-lg-3 col-xl-2 p-1'},components:[{tagName:'select',dropable:!1,dragable:!1,editable:!1,attributes:{class:"form-control w-100",name:"my-product-toolbar-display"},components:[{tagName:'option',dropable:!1,dragable:!1,editable:!1,attributes:{value:"block",selected:"selected"},components:`${t.I18n.t("grapesjs-plugin-my-products.displayBlock")}`},{tagName:'option',dropable:!1,dragable:!1,editable:!1,attributes:{value:"list"},components:`${t.I18n.t("grapesjs-plugin-my-products.displayList")}`}]}]},{type:l,dropable:!1,dragable:!1,editable:!1,attributes:{class:'col-sm-12 col-md-6 col-lg-6 col-xl-8 p-1'}}],script:function(){$.fn.alterClass=function(t,e){var a=this;if(-1===t.indexOf('*'))return a.removeClass(t),e?a.addClass(e):a;var o=new RegExp('\\s'+t.replace(/\*/g,'[A-Za-z0-9-_]+').split(' ').join('\\s|\\s')+'\\s','g');return a.each((function(t,e){for(var a=' '+e.className+' ';o.test(a);)a=a.replace(o,' ');e.className=$.trim(a)})),e?a.addClass(e):a},$(document).ready((function(){$(this).find('select[name="my-product-toolbar-display"]').on('change',(function(){'block'===$(this).val()?$(this).closest('div[data-x-cls="my-products-all"]').find('div[data-x-cls="my-product-item"]').each((function(){$(this).alterClass("col-*").addClass("col-sm-12 col-md-4 col-lg-3"),$(this).find('div[data-x-cls="my-product-img"]').removeClass("col-4").addClass("col-12"),$(this).find('div[data-x-cls="my-product-info"]').removeClass("col-8 pl-1").addClass("col-12"),$(this).find('[data-x-cls="title-line-text"]').each((function(){$(this).text($(this).attr('data-title-sm'))}))})):'list'===$(this).val()&&$(this).closest('div[data-x-cls="my-products-all"]').find('div[data-x-cls="my-product-item"]').each((function(){$(this).alterClass("col-*").addClass("col-12"),$(this).find('div[data-x-cls="my-product-img"]').removeClass("col-12").addClass("col-4"),$(this).find('div[data-x-cls="my-product-info"]').removeClass("col-12").addClass("col-8 pl-1"),$(this).find('[data-x-cls="title-line-text"]').each((function(){$(this).text($(this).attr('title'))}))}))}))}))}}}}),t.DomComponents.addType(d,{model:{defaults:{name:'Button Page',tagName:'button',dropable:!1,dragable:!1,editable:!1,attributes:{class:"btn btn-light btn-page-controls"},components:``}}}),t.DomComponents.addType(s,{model:{defaults:{name:`${a} Toolbar Foot`,dropable:!1,dragable:!1,tagName:'div',attributes:{class:'row d-flex justify-content-center align-items-center mt-3',"data-x-cls":"my-product-footer"},styles:`\n                    div[data-x-cls="my-product-footer"] > button {\n                        margin-left: 0.25rem;\n                        margin-right: 0.25rem;\n                    }\n                `,components:[{type:d,components:`<i class="fa fa-angle-left" aria-hidden="true"></i>`,name:'Button Previous Page',attributes:{"data-x-cls":"my-product-footer--previous-btn"}},{type:d,components:`1`,attributes:{"data-x-cls":"my-product-footer--number-1"}},{type:d,components:`2`,attributes:{"data-x-cls":"my-product-footer--number-2"}},{type:d,components:`3`,attributes:{"data-x-cls":"my-product-footer--number-3"}},{type:d,components:`4`,attributes:{"data-x-cls":"my-product-footer--number-4"}},{type:d,components:`5`,attributes:{"data-x-cls":"my-product-footer--number-5"}},{type:d,components:`6`,attributes:{"data-x-cls":"my-product-footer--number-6"}},{type:d,components:`7`,attributes:{"data-x-cls":"my-product-footer--number-7"}},{type:d,components:`8`,attributes:{"data-x-cls":"my-product-footer--number-8"}},{type:d,components:`9`,attributes:{"data-x-cls":"my-product-footer--number-9"}},{type:d,components:`<i class="fa fa-angle-right" aria-hidden="true"></i>`,name:'Button Next Page',attributes:{"data-x-cls":"my-product-footer--next-btn"}}]}}})}(t,{...e,idToolbarHead:n,idPageButton:c,idToolbarFoot:p,idToolbarMatchQueryCount:i});const m=`${o}-table-data`,u=`${o}-table-data-item`,b=`${o}-table-data-load`;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{label:o,idTableData:d,idTableDataItem:s,idTableDataItemLoad:l,productData:r}=e,{url:n,method:i}=r;t.DomComponents.addType(l,{model:{defaults:{name:`${o} Data Item Load`,dropable:!1,dragable:!1,tagName:'div',attributes:{class:'row p-0 m-0 w-100 overflow-hidden'},components:[{tagName:'div',dragable:!1,dropable:!1,editable:!1,attributes:{class:'col-12 w-100 p-0 d-flex justify-content-center align-items-center',"data-x-cls":"my-product-img"},components:[{type:'image',dragable:!1,dropable:!1,editable:!1,attributes:{class:"w-100 h-100",src:a,style:"max-height: 200px!important; object-fit: contain;","data-x-cls":"my-product-img--img"}}],isComponent:t=>'my-product-img'===t.getAttribute('data-x-cls')},{tagName:'div',dragable:!1,dropable:!1,editable:!1,attributes:{class:"col-12 w-100 p-0","data-x-cls":"my-product-info"},script:function(){$(document).find('div[data-x-cls="my-product-info"]').each((function(){$(this).hasClass('col-12')&&$(this).find('[data-x-cls="title-line-text"],[data-x-cls="remark-line-text"]').each((function(){if(!$(this).attr('title')){let t=$(this).text();$(this).attr('title',t);let e='';e=t.length>100?`${t.slice(0,100)}...`:`${t}${" ".repeat(100-currentTextlengt)}`,$(this).attr('data-title-sm',e),$(this).text(e)}}))}))},components:[{type:'text',tagName:'h6',dragable:!1,dropable:!1,editable:!1,attributes:{class:"text-wrap","data-x-cls":"title-line-text","data-toggle":"tooltip","data-placement":"bottom",title:""},components:'Title of product. '.repeat(20)},{type:'text',tagName:'p',dragable:!1,dropable:!1,editable:!1,attributes:{"data-x-cls":"price-line-text"},components:'12.500.000 VND'},{type:'text',tagName:'small',dragable:!1,dropable:!1,editable:!1,attributes:{class:"w-100 d-inline-block","data-x-cls":"remark-line-text","data-toggle":"tooltip","data-placement":"bottom",title:""},components:'Remarks '.repeat(50)},{type:'text',tagName:'p',dragable:!1,dropable:!1,editable:!1,components:'Còn 5 sản phẩm'}],isComponent:t=>'my-product-info'===t.getAttribute('data-x-cls')}]}}}),t.DomComponents.addType(s,{model:{defaults:{name:`${o} Data Item`,dropable:!1,dragable:!1,tagName:'div',attributes:{class:'col-12 col-sm-6 col-md-4 col-lg-3 p-3',"data-x-cls":"my-product-item","data-is-pattern":"true"},styles:`\n                    div[data-x-cls="my-product-item"]:hover {\n                        background-color: #f0f0f1;\n                    }\n                `,components:[{type:l}],isComponent:t=>'my-product-item'===t.getAttribute('data-x-cls')}}}),t.DomComponents.addType(d,{model:{defaults:{name:`${o} Table Data`,dropable:!1,dragable:!1,tagName:'div',attributes:{class:'row',"data-x-cls":"my-product-data"},components:[]}}})}(t,{...e,idTableData:m,idTableDataItem:u,idTableDataItemLoad:b}),t.DomComponents.addType(o,{model:{defaults:{name:d,tagName:'div',attributes:{class:'container py-3',"data-x-cls":"my-products-all","data-url":l,"data-method":r},dropable:!1,components:[{type:n},{type:m},{type:p}],script:function(){class t{constructor(t,e){this.myProductAllEle=$(t).closest('div[data-x-cls="my-products-all"]'),this.resp=e}static activeListenChangePage(t){let e=t.closest('div[data-x-cls="my-products-all"]');$(e).find('.btn-page-controls').on('click',(function(){let o=Number.parseInt($(this).attr('data-page'));new a(e,t).callData({page:o})}))}loadPageCount(){this.myProductAllEle.find('[data-x-cls="my-product-toolbar-query-count"]').text(this.resp.page_count||'')}loadPagination(){console.log(this.resp);let t=this.resp.page_count||0,e=this.resp.page_next||0,a=this.resp.page_previous||0,o=this.resp.page_size||0,d=this.myProductAllEle.find('div[data-x-cls="my-product-footer"]');d.find('.btn-page-controls:not([data-x-cls="my-product-footer--previous-btn"]):not([data-x-cls="my-product-footer--next-btn"])').addClass('d-none btn-light').attr('data-page',0);let s=d.find('.btn-page-controls[data-x-cls="my-product-footer--previous-btn"]').prop('disabled',!0),l=d.find('.btn-page-controls[data-x-cls="my-product-footer--next-btn"]').prop('disabled',!0);if(Number.isInteger(t)&&Number.isInteger(e)&&Number.isInteger(a)&&Number.isInteger(o))if(s.removeClass('d-none'),l.removeClass('d-none'),t<=o)d.find('[data-x-cls="my-product-footer--number-1"]').text(1).removeClass('d-none').prop('disabled',!0);else{let r=Number.parseInt((e+a)/2),n=Math.ceil(t/o);console.log('pageCurrent: ',r,'\n','pageMax:',n),n<=9?([...Array(n).keys()].map((t=>t+1)).map((t=>{d.find(`[data-x-cls="my-product-footer--number-${t}"]`).text(t).prop('disabled',t===r).removeClass('d-none '+(t===r?'btn-light':'')).attr('data-page',t)})),s.prop('disabled',1===r).attr('data-page',r-1),l.prop('disabled',r===n).attr('data-page',r+1)):r<=4?(s.attr('data-page',r-1).prop('disabled',1===r),l.attr('data-page',r+1).prop('disabled',!1),d.find(`[data-x-cls="my-product-footer--number-1"]`).text(1).attr('data-page',1).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-2"]`).text(2).attr('data-page',2).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-3"]`).text(3).attr('data-page',3).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-4"]`).text(4).attr('data-page',4).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-5"]`).text(5).attr('data-page',5).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-6"]`).text(6).attr('data-page',6).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-7"]`).text(7).attr('data-page',7).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-8"]`).text('...').prop('disabled',!0).removeClass('d-none btn-light'),d.find(`[data-x-cls="my-product-footer--number-9"]`).text(n).attr('data-page',n).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-${r}"]`).prop('disabled',!0).removeClass('d-none btn-light')):n-r<=4?(s.attr('data-page',r-1).prop('disabled',!1),l.attr('data-page',r+1).prop('disabled',r===n),d.find(`[data-x-cls="my-product-footer--number-1"]`).text(1).attr('data-page',1).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-2"]`).text('...').prop('disabled',!0).removeClass('d-none btn-light'),d.find(`[data-x-cls="my-product-footer--number-3"]`).text(n-6).attr('data-page',n-6).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-4"]`).text(n-5).attr('data-page',n-5).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-5"]`).text(n-4).attr('data-page',n-4).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-6"]`).text(n-3).attr('data-page',n-3).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-7"]`).text(n-2).attr('data-page',n-2).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-8"]`).text(n-1).attr('data-page',n-1).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-9"]`).text(n).attr('data-page',n).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-${9-(n-r)}"]`).prop('disabled',!0).removeClass('d-none btn-light')):(s.attr('data-page',r-1).prop('disabled',!1),l.attr('data-page',r+1).prop('disabled',!1),d.find(`[data-x-cls="my-product-footer--number-4"]`).text(r-1).attr('data-page',r-1).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-3"]`).text(r-2).attr('data-page',r-2).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-2"]`).text('...').prop('disabled',!0).removeClass('d-none btn-light'),d.find(`[data-x-cls="my-product-footer--number-1"]`).text(1).attr('data-page',1).attr('data-page',2).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-6"]`).text(r+1).attr('data-page',r+1).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-7"]`).text(r+2).attr('data-page',r+2).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-8"]`).text('...').prop('disabled',!0).removeClass('d-none btn-light'),d.find(`[data-x-cls="my-product-footer--number-9"]`).text(n).attr('data-page',n).prop('disabled',!1).removeClass('d-none'),d.find(`[data-x-cls="my-product-footer--number-5"]`).text(r).prop('disabled',!0).removeClass('d-none btn-light'))}}}class e{constructor(t,e){this.ele=t,this.data=e}load(){this.loadSrcImage(),this.loadTitle(),this.loadPrice(),this.loadRemarks()}loadSrcImage(){let t=this.data.avatar||'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImZpbGw6IHJnYmEoMCwwLDAsMC4xNSk7IHRyYW5zZm9ybTogc2NhbGUoMC43NSkiPgogICAgICAgIDxwYXRoIGQ9Ik04LjUgMTMuNWwyLjUgMyAzLjUtNC41IDQuNSA2SDVtMTYgMVY1YTIgMiAwIDAgMC0yLTJINWMtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMnoiPjwvcGF0aD4KICAgICAgPC9zdmc+';this.ele.find('img[data-x-cls="my-product-img--img"]').attr('src',t)}loadTitle(){let t=this.data.title||'',e=this.ele.find('[data-x-cls="title-line-text"]');if(e.length>0){e.attr('title',t);let a='';a=t.length>100?`${t.slice(0,100)}...`:`${t}${" ".repeat(100-t)}`,e.attr('data-title-sm',a),e.text(a)}}loadPrice(){let t=this.data.sale_price||'';this.ele.find('[data-x-cls="price-line-text"]').text(t)}loadRemarks(){let t=this.data.description||'',e=this.ele.find('[data-x-cls="remark-line-text"]');e.attr('title',t);let a='';a=t.length>100?`${t.slice(0,100)}...`:`${t}${" ".repeat(100-t)}`,e.attr('data-title-sm',a),e.text(a)}}class a{constructor(t,e){this.clsThis=t,this.myProductDataEle=e,this.patternItemListEle=$(t).find('div[data-x-cls="my-product-item"][data-is-pattern="true"]').addClass('d-none'),this.patternItemListEle.not(":eq(0)").remove(),this.patternItemEle=null,1===this.patternItemListEle.length&&(this.patternItemEle=$(this.patternItemListEle[0]).clone(),$(t).find('div[data-x-cls="my-product-item"]:not([data-is-pattern="true"])').remove())}params(){let t={},e=$(this.clsThis).find('[data-x-cls="my-product-header--search"]').val();e&&(t['search']=e);let a=$(this.clsThis).find('[data-x-cls="my-product-header--sort"]').val();return'price-a-z'===a?t['ordering']='sale_price':'price-z-a'===a&&(t['ordering']='-sale_price'),t}callData(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.patternItemEle){let s={pageSize:12,page:1,...this.params(),...a};$.fn.callAjaxPublic({url:$(o).attr('data-url')+'?'+$.param(Object.keys(s).length>0?s:{}),type:$(o).attr('data-method')}).then((a=>{let s=new t(o,a);s.loadPageCount(),s.loadPagination();let l=a?.['data']||null;l&&Array.isArray(l)&&l.map((t=>{let a=this.patternItemEle.clone().removeClass('d-none').attr('data-id',t.id).removeAttr('data-is-pattern');new e(a,t).load(),$(d).append(a)}))}),(t=>{console.log('errs:',t)}))}}}let o=this,d=$(this).find('div[data-x-cls="my-product-data"]');if(d.length>0){if('/test/products'===$(o).attr('data-url')){console.log('%c Response My-Product API return format:','background: #222; color: red',{data:[{id:"{id}",title:"{name}",available_amount:40,avatar:"{link}",description:"{remark}",sale_price:1e3}],page_size:100,page_count:1,page_next:0,page_previous:0});let t='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImZpbGw6IHJnYmEoMCwwLDAsMC4xNSk7IHRyYW5zZm9ybTogc2NhbGUoMC43NSkiPgogICAgICAgIDxwYXRoIGQ9Ik04LjUgMTMuNWwyLjUgMyAzLjUtNC41IDQuNSA2SDVtMTYgMVY1YTIgMiAwIDAgMC0yLTJINWMtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMnoiPjwvcGF0aD4KICAgICAgPC9zdmc+';$.mockjax({url:/\/test\/products(.)*/gm,type:'GET',contentType:"application/json",responseText:{data:[{id:"3a82c590-cb82-4f7c-aba6-cfcb383af8e2",title:"Máy in HP",code:"PRD.0005",available_amount:-40,avatar:"https://www.volusion.com/blog/content/images/2021/07/Product-Photos.jpg",description:"Máy in màu",sale_price:15e6},{id:"3a82c590-cb82-4f7c-aba6-cfcb383af8e2",title:"Máy in HP",code:"PRD.0005",available_amount:-40,avatar:t,description:"Máy in màu",sale_price:15e6},{id:"3a82c590-cb82-4f7c-aba6-cfcb383af8e2",title:"Máy in HP",code:"PRD.0005",available_amount:-40,avatar:t,description:"Máy in màu",sale_price:15e6},{id:"3a82c590-cb82-4f7c-aba6-cfcb383af8e2",title:"Máy in HP",code:"PRD.0005",available_amount:-40,avatar:t,description:"Máy in màu",sale_price:15e6}],page_size:10,page_count:100,page_next:3,page_previous:1}})}$.fn.callAjaxPublic||($.fn.callAjaxPublic=function(t){return new Promise(((e,a)=>{let{url:o,method:d}=t,s={url:o,type:d,contentType:"application/json",processData:!0,data:'GET',headers:{},success:function(t,a,o){e(t)},error:function(t,e,o){let d=t.responseJSON;d&&'object'==typeof d?a(d):204===t.status&&a({status:204})}};return $.ajax(s)}))}),t.activeListenChangePage(d),new a(o,d).callData(),$(o).find('[data-x-cls="my-product-header--search"],[data-x-cls="my-product-header--sort"]').on('change',(function(){new a(o,d).callData()}))}}},init(){0===this.components().models[1].components().length&&this.components().models[1].components().add({type:u})}}})},d={'grapesjs-plugin-my-products':{search:"Search",relateSuitable:"Relevancy: Suitable",pricesLowsToHights:"Price: Lows to Hights (1-n)",pricesHightsToLows:"Price: Hights to Lows (n-1)",displayList:"List",displayBlock:"Block",resultCount:"result was count"}},s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a={i18n:{},id:'my-product',label:'Products',productData:{url:'/test/products',method:'GET',...e?.productData||{}},...e};t.I18n&&t.I18n.addMessages({en:d,...a.i18n}),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{block:a,label:o,id:d}=e;t.BlockManager.add(d,{label:o,content:{type:d},media:`<i class="fa-brands fa-product-hunt fa-3x"></i>`,category:'Data Vision',select:!0,...a})}(t,a),o(t,a)};return e})()));
//# sourceMappingURL=index.js.map