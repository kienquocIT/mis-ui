{% extends 'base.html' %}
{% load static i18n %}
{% block cssHeader %}
    <link href="{% static 'assets/sales/quotation/css/quotation_create.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'vendors/select2/dist/css/select2.min.css' %}" rel="stylesheet" type="text/css">
{% endblock %}
{% block pageAction %}
    <a href="{% url 'QuotationUpdate' pk=pk %}">
        <button class="btn btn-outline-primary" id="btn-enable-edit">
            <span>
                <span>{% trans 'Edit' %}</span>
                <span class="icon">
                    <i class="fa-regular fa-pen-to-square"></i>
                </span>
            </span>
        </button>
    </a>
{% endblock %}

{% block jsHeaderUnCompress %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
{% endblock %}

{% block pageContent %}
    {% include 'f_extends/print.html' %}

    <div class="row">
        <div class="col-12 col-md-6 col-lg-6">
            <ul class="nav nav-line nav-tabs nav-light justify-content-start quotation-tabs">
                <li class="nav-item quotation-tab-item">
                    <a class="nav-link active" data-bs-toggle="tab" href="#tab_block_1">
                        <span class="nav-link-text">{% trans 'Quotation' %}</span>
                    </a>
                </li>
                <li class="nav-item quotation-tab-item" id="tab-indicator">
                    <a class="nav-link" data-bs-toggle="tab" href="#tab_block_2">
                        <span class="nav-link-text">{% trans 'Indicator' %}</span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="col-12 col-md-6 col-lg-6">
            <div class="d-flex justify-content-end">
                <button
                        type="button"
                        class="btn btn-outline-primary ml-3"
                        id="print-document" hidden
                >
                    <span>
                        {% trans 'Print' %}
                        <span class="icon ml-1">
                            <span class="feather-icon"><i class="fas fa-print"></i></span>
                        </span>
                    </span>
                </button>
            </div>
        </div>
    </div>

    <form
            data-url="{% url 'QuotationDetailAPI' pk=pk %}"
            data-url-redirect="{% url 'QuotationList' %}"
            data-method="GET"
            id="frm_quotation_create"
            method="post"
    >
        {% csrf_token %}
        <div class="tab-content">
            <div class="tab-pane fade show active" id="tab_block_1">
                <div class="container-fluid">
                    <div class="collapse multi-collapse show" id="collapseExample">
                        <div class="row">
                            {% trans 'Select Sale Person' as inherit_title %}
                            {% include 'extends/the-documents/bastion.html' with has_opp=True has_inherit=True opp_disabled=True inherit_disabled=True opp_readonly=True inherit_readonly=True is_open=True inherit_title=inherit_title inherit_required=True %}
                        </div>
                        <div class="row">
                            <div class="col-12 col-md-6 col-lg-6">
                                <div class="form-group">
                                    <label class="form-label required" for="quotation-create-title">{% trans 'Title' %}</label>
                                    <input
                                            type="text" class="form-control"
                                            name="title"
                                            id="quotation-create-title"
                                            disabled
                                    >
                                </div>
                            </div>
                            <div class="col-12 col-md-6 col-lg-6">
                                <div class="form-group">
                                    <label class="form-label required" for="select-box-quotation-create-payment-term">{% trans 'Select Payment Terms' %}</label>
                                    <select
                                            class="form-select"
                                            id="select-box-quotation-create-payment-term"
                                            data-url="{% url "PaymentsTermsListAPI" %}"
                                            data-link-detail=""
                                            data-method="GET"
                                            name="payment_term"
                                            data-keyResp="payment_terms_list"
                                            disabled
                                    ></select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 col-md-6 col-lg-6">
                                <div class="form-group">
                                    <label class="form-label required" for="select-box-quotation-create-customer">{% trans 'Select Customer' %}</label>
                                    <select
                                            class="form-select"
                                            id="select-box-quotation-create-customer"
                                            data-url="{% url "AccountForSaleListAPI" %}"
                                            data-method="GET"
                                            data-link-detail="{% url "AccountDetail" 1 %}"
                                            name="customer"
                                            data-keyResp="account_sale_list"
                                            disabled
                                    ></select>
                                </div>
                            </div>
                            <div class="col-12 col-md-3 col-lg-3">
                                <div class="form-group">
                                    <label class="form-label required" for="quotation-create-date-created">{% trans 'Date Created' %}</label>
                                    <div class="input-group">
                                        <div class="input-affix-wrapper">
                                            <input
                                                type="text" class="form-control disabled-custom-show"
                                                placeholder="dd/mm/yyyy"
                                                name="date_created"
                                                id="quotation-create-date-created"
                                                disabled
                                            >
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-3 col-lg-3">
                                <div class="form-check mt-5">
                                    <input type="checkbox" class="form-check-input" id="quotation-customer-confirm" disabled>
                                    <label class="form-check-label" for="quotation-customer-confirm">{% trans 'Customer Confirm' %}</label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 col-md-6 col-lg-6">
                                <div class="form-group">
                                    <label class="form-label required" for="select-box-quotation-create-contact">{% trans 'Select Contact' %}</label>
                                    <select
                                        class="form-select"
                                        id="select-box-quotation-create-contact"
                                        data-url="{% url "ContactListAPI" %}"
                                        data-method="GET"
                                        data-link-detail="{% url 'ContactDetail' 1 %}"
                                        name="contact"
                                        data-keyResp="contact_list"
                                        disabled
                                    ></select>
                                </div>
                            </div>
                            <div class="col-12 col-md-6 col-lg-6">
                                <div class="d-flex justify-content-start mt-5">
                                    <span id="tooltip-btn-copy" class="d-inline-block" tabindex="0" data-bs-toggle="tooltip" title="{% trans 'Copy to sale order' %}">
                                    <button
                                            type="button"
                                            class="btn btn-outline-primary"
                                            id="btn-copy-quotation"
                                            data-bs-toggle="modal"
                                            data-bs-target="#quotationModalCenter"
                                            data-copy-type="copy-to"
                                    ><span><span>{% trans 'Create Order' %}</span><span class="icon"><i class="fas fa-angle-double-right"></i></span></span></button>
                                    </span>
                                </div>
                                <div
                                        class="modal fade" id="quotationModalCenter" tabindex="-1"
                                        role="dialog" aria-labelledby="quotationModalCenter"
                                        aria-hidden="true"
                                >
                                    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title">{% trans 'Select Quotation' %}</h5>
                                                <button
                                                        type="button" class="btn-close"
                                                        data-bs-dismiss="modal" aria-label="Close"
                                                >
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="form-check" id="copy-quotation-option">
                                                    <input type="checkbox" class="form-check-input check-option" id="customCheck1" checked>
                                                    <label class="form-check-label" for="customCheck1">{% trans 'Copy all from quotation' %}</label>
                                                </div>
                                                <table
                                                        id="datable-copy-quotation-product"
                                                        class="table nowrap w-100 mb-5"
                                                        hidden
                                                >
                                                    <thead>
                                                    <tr>
                                                        <th>#</th>
                                                        <th></th>
                                                        <th>{% trans 'Product' %}</th>
                                                        <th>{% trans 'Quantity' %}</th>
                                                        <th>{% trans 'Input' %}</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="modal-footer">
                                                <button
                                                        type="button" class="btn btn-secondary"
                                                        data-bs-dismiss="modal"
                                                >{% trans 'Close' %}</button>
                                                <a target="_blank" class="link-primary underline_hover" id="link-to-sale-order-create" data-url="{% url "SaleOrderCreate" %}" hidden></a>
                                                <button type="button" class="btn btn-primary" id="btn-quotation-copy-confirm" data-copy-type="copy-to" data-bs-dismiss="modal">{% trans 'Copy' %}</button>
                                                <input type="text" id="data-copy-quotation-detail" hidden>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row collapse-arrow mt-2 mb-2">
                        <i
                            class="fas fa-angle-double-up"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapseExample"
                            data-bs-placement="top"
                            aria-expanded="false"
                            aria-controls="collapseExample"
                            id="quotation-info-collapse"
                        ></i>
                    </div>
                    <div class="row">
                        <div class="row">
                            <ul class="nav nav-light nav-tabs" id="quotation-tabs">
                                <li class="nav-item tab-detail">
                                    <a class="nav-link active" data-bs-toggle="tab" href="#tab_line_detail">
                                        <span class="nav-link-text">{% trans 'Line Detail' %}</span>
                                    </a>
                                </li>
                                <li class="nav-item tab-cost">
                                    <a class="nav-link" data-bs-toggle="tab" href="#tab_cost">
                                        <span class="nav-link-text">{% trans 'Cost' %}</span>
                                    </a>
                                </li>
                                <li class="nav-item tab-expense">
                                    <a class="nav-link" data-bs-toggle="tab" href="#tab_expense">
                                        <span class="nav-link-text">{% trans 'Expense' %}</span>
                                    </a>
                                </li>
                                <li class="nav-item tab-logistic">
                                    <a class="nav-link" data-bs-toggle="tab" href="#tab_logistic">
                                        <span class="nav-link-text">{% trans 'Logistics' %}</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div class="tab-content" id="tab-content-quotation-product">
                            <div class="tab-pane fade show active" id="tab_line_detail">
                                <div class="row">
                                    <table
                                            id="datable-quotation-create-product"
                                            class="table nowrap min-w-1500p w-100 mb-5"
                                    >
                                        <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>{% trans 'Product' %}</th>
                                            <th>{% trans 'Description' %}</th>
                                            <th>{% trans 'UoM' %}</th>
                                            <th>{% trans 'Quantity' %}</th>
                                            <th>{% trans 'Unit Price' %}</th>
                                            <th>{% trans 'Discount' %}</th>
                                            <th>{% trans 'Tax' %}</th>
                                            <th>{% trans 'Subtotal Price' %}</th>
                                            <th></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                        <tfoot>
                                        <tr>
                                            <th colspan="5"></th>
                                            <th colspan="5">
                                                <div class="row">
                                                    <div class="col-5">
                                                        <p class="mb-3" style="text-align: right">{% trans 'Pretax Amount' %}:</p>
                                                    </div>
                                                    <div class="col-3"></div>
                                                    <div class="col-4">
                                                        <span class="mask-money font-3 quotation-create-product-pretax-amount" data-init-money="0" data-zone="quotation_products_data"></span>
                                                        <input type="text" class="form-control quotation-create-product-pretax-amount-raw" value="0" hidden>
                                                        <input type="text" class="quotation-final-revenue-before-tax" hidden>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-5">
                                                        <p class="mb-3" style="text-align: right">{% trans 'Discount' %}:</p>
                                                    </div>
                                                    <div class="col-3">
                                                        <div class="input-group">
                                                            <span class="input-affix-wrapper">
                                                                <input type="text" class="form-control validated-number quotation-create-product-discount" value="0" data-zone="quotation_products_data" disabled>
                                                                <span class="input-suffix"><i class="fas fa-percentage"></i></span>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="col-4">
                                                        <span class="mask-money font-3 quotation-create-product-discount-amount" data-init-money="0" data-zone="quotation_products_data"></span>
                                                        <input type="text" class="form-control quotation-create-product-discount-amount-raw" value="0" hidden>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-5">
                                                        <p class="mb-3" style="text-align: right">{% trans 'Taxes' %}:</p>
                                                    </div>
                                                    <div class="col-3"></div>
                                                    <div class="col-4">
                                                        <span class="mask-money font-3 quotation-create-product-taxes" data-init-money="0" data-zone="quotation_products_data"></span>
                                                        <input type="text" class="form-control quotation-create-product-taxes-raw" value="0" hidden>
                                                    </div>
                                                </div>
                                                <hr class="bg-teal">
                                                <div class="row">
                                                    <div class="col-5">
                                                        <p class="mb-3" style="text-align: right">{% trans 'Total' %}:</p>
                                                    </div>
                                                    <div class="col-3"></div>
                                                    <div class="col-4">
                                                        <span class="mask-money font-3 quotation-create-product-total" data-init-money="0" data-zone="quotation_products_data"></span>
                                                        <input type="text" class="form-control quotation-create-product-total-raw" value="0" hidden>
                                                    </div>
                                                </div>
                                            </th>
                                        </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="tab_cost">
                                <div class="row">
                                    <table
                                            id="datable-quotation-create-cost"
                                            class="table nowrap w-100 mb-5"
                                    >
                                        <thead>
                                        <tr>
                                            <th class="w-5">#</th>
                                            <th class="w-10">{% trans 'Product' %}</th>
                                            <th class="w-10">{% trans 'UoM' %}</th>
                                            <th class="w-15">{% trans 'Quantity' %}</th>
                                            <th class="w-25">{% trans 'Cost Price' %}</th>
                                            <th class="w-5">{% trans 'Tax' %}</th>
                                            <th class="w-25">{% trans 'Subtotal Price' %}</th>
                                            <th class="w-5"></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                        <tfoot>
                                        <tr>
                                            <th colspan="4"></th>
                                            <th colspan="4">
                                                <div class="row">
                                                    <div class="col-6">
                                                        <p class="mb-3" style="text-align: right">{% trans 'Pretax Amount' %}:</p>
                                                    </div>
                                                    <div class="col-1"></div>
                                                    <div class="col-5">
                                                        <span class="mask-money font-3 quotation-create-cost-pretax-amount" data-init-money="0" data-zone="quotation_costs_data"></span>
                                                        <input type="text" class="form-control quotation-create-cost-pretax-amount-raw" value="0" hidden>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-6">
                                                        <p class="mb-3" style="text-align: right">{% trans 'Taxes' %}:</p>
                                                    </div>
                                                    <div class="col-1"></div>
                                                    <div class="col-5">
                                                        <span class="mask-money font-3 quotation-create-cost-taxes" data-init-money="0" data-zone="quotation_costs_data"></span>
                                                        <input type="text" class="form-control quotation-create-cost-taxes-raw" value="0" hidden>
                                                    </div>
                                                </div>
                                                <hr class="bg-teal">
                                                <div class="row">
                                                    <div class="col-6">
                                                        <p class="mb-3" style="text-align: right">{% trans 'Total' %}:</p>
                                                    </div>
                                                    <div class="col-1"></div>
                                                    <div class="col-5">
                                                        <span class="mask-money font-3 quotation-create-cost-total" data-init-money="0" data-zone="quotation_costs_data"></span>
                                                        <input type="text" class="form-control quotation-create-cost-total-raw" value="0" hidden>
                                                    </div>
                                                </div>
                                            </th>
                                        </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="tab_expense">
                                <div class="row">
                                    <table
                                            id="datable-quotation-create-expense"
                                            class="table nowrap min-w-1500p w-100 mb-5"
                                    >
                                        <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>{% trans 'Expense name' %}</th>
                                            <th>{% trans 'Expense items' %}</th>
                                            <th>{% trans 'UoM' %}</th>
                                            <th>{% trans 'Quantity' %}</th>
                                            <th>{% trans 'Expense Price' %}</th>
                                            <th>{% trans 'Tax' %}</th>
                                            <th>{% trans 'Subtotal Price' %}</th>
                                            <th></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                        <tfoot>
                                        <tr>
                                            <th colspan="5"></th>
                                            <th colspan="4">
                                                <div class="row">
                                                    <div class="col-6">
                                                        <p class="mb-3" style="text-align: right">{% trans 'Pretax Amount' %}:</p>
                                                    </div>
                                                    <div class="col-1"></div>
                                                    <div class="col-5">
                                                        <span class="mask-money font-3 quotation-create-expense-pretax-amount" data-init-money="0" data-zone="quotation_expenses_data"></span>
                                                        <input type="text" class="form-control quotation-create-expense-pretax-amount-raw" value="0" hidden>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-6">
                                                        <p class="mb-3" style="text-align: right">{% trans 'Taxes' %}:</p>
                                                    </div>
                                                    <div class="col-1"></div>
                                                    <div class="col-5">
                                                        <span class="mask-money font-3 quotation-create-expense-taxes" data-init-money="0" data-zone="quotation_expenses_data"></span>
                                                        <input type="text" class="form-control quotation-create-expense-taxes-raw" value="0" hidden>
                                                    </div>
                                                </div>
                                                <hr class="bg-teal">
                                                <div class="row">
                                                    <div class="col-6">
                                                        <p class="mb-3" style="text-align: right">{% trans 'Total' %}:</p>
                                                    </div>
                                                    <div class="col-1"></div>
                                                    <div class="col-5">
                                                        <span class="mask-money font-3 quotation-create-expense-total" data-init-money="0" data-zone="quotation_expenses_data"></span>
                                                        <input type="text" class="form-control quotation-create-expense-total-raw" value="0" hidden>
                                                    </div>
                                                </div>
                                            </th>
                                        </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="tab_logistic">
                                <div class="row logistics-body">
                                    <div class="form-group">
                                        <label class="form-label">{% trans 'Shipping Address' %}
                                        </label>
                                        <textarea class="form-control disabled-custom-show" rows="3" cols="50" name="" id="quotation-create-shipping-address" data-zone="quotation_logistic_data_readonly" disabled></textarea>
                                        <input type="text" id="quotation-create-customer-shipping" hidden>
                                    </div>
                                    <div
                                            class="modal fade" id="shippingModalCenter" tabindex="-1"
                                            role="dialog" aria-labelledby="shippingModalCenter"
                                            aria-hidden="true"
                                    >
                                        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                            <div class="modal-content" id="quotation-create-modal-shipping-body">
                                                <div class="modal-header">
                                                    <h5 class="modal-title">{% trans 'Shipping Address' %}</h5>
                                                    <button
                                                            type="button" class="btn-close"
                                                            data-bs-dismiss="modal" aria-label="Close"
                                                    >
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body"></div>
                                                <div class="modal-footer">
                                                    <button
                                                            type="button" class="btn btn-secondary"
                                                            data-bs-dismiss="modal"
                                                    >{% trans 'Close' %}</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">{% trans 'Billing Address' %}
                                        </label>
                                        <textarea class="form-control disabled-custom-show" rows="3" cols="50" name="" id="quotation-create-billing-address" data-zone="quotation_logistic_data_readonly" disabled></textarea>
                                        <input type="text" id="quotation-create-customer-billing" hidden>
                                    </div>
                                    <div
                                            class="modal fade" id="billingModalCenter" tabindex="-1"
                                            role="dialog" aria-labelledby="billingModalCenter"
                                            aria-hidden="true"
                                    >
                                        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                            <div class="modal-content" id="quotation-create-modal-billing-body">
                                                <div class="modal-header">
                                                    <h5 class="modal-title">{% trans 'Billing Address' %}</h5>
                                                    <button
                                                            type="button" class="btn-close"
                                                            data-bs-dismiss="modal" aria-label="Close"
                                                    >
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body"></div>
                                                <div class="modal-footer">
                                                    <button
                                                            type="button" class="btn btn-secondary"
                                                            data-bs-dismiss="modal"
                                                    >{% trans 'Close' %}</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="hidden">
                            <textarea id="quotation-tinymce">...</textarea>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="tab_block_2">
                <div class="row">
                    <div class="row mb-1">
                        <div class="col-2">
                            <button
                                    type="button"
                                    class="btn btn-outline-primary"
                                    id="btn-refresh-quotation-indicator"
                                    disabled
                                    hidden
                            >
                            <span><span>{% trans 'Refresh data' %}</span><span class="icon"><span class="feather-icon"><i class="fas fa-sync-alt"></i></span></span></span>
                            </button>
                        </div>
                        <div class="col-10"></div>
                    </div>
                    <table
                            id="datable-quotation-create-indicator"
                            class="table nowrap w-100 mb-5"
                    >
                        <thead>
                        <tr>
                            <th class="w-10">#</th>
                            <th class="w-40">{% trans 'Indicator name' %}</th>
                            <th class="w-30">{% trans 'Indicator value' %}</th>
                            <th class="w-20">{% trans 'Indicator rate' %}</th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
                <input
                        type="text"
                        id="quotation-indicator-data"
                        data-url="{% url 'QuotationIndicatorListAPI' %}"
                        data-method="get"
                        hidden
                >
            </div>
        </div>
    </form>

    <div class="p-3">
        <h6>{% trans 'Comments' %}</h6>
        <button class="btn btn-primary" id="btn-show-comment">{% trans 'Load comments' %}</button>
        <div id="comment-group" style="display:none;">
            {% include 'comment/list.html' %}
        </div>
    </div>
{% endblock %}

{% block dataHiddenGroup %}
    <input
        type="text"
        id="app-trans-factory"
        data-check-if-shipping-address="{% trans 'Please select shipping address' %}"
        data-select-address="{% trans 'Select this address' %}"
        data-view-detail-info="{% trans 'View detail' %}"
        data-btn-close="{% trans 'Close' %}"
        data-more-information="{% trans 'More information' %}"
        data-apply="{% trans 'Apply' %}"
        data-refreshed="{% trans 'Data is refreshed.' %}"
        data-opp-closed="{% trans 'Opportunity was closed' %}"
        data-opp-had-sale-order="{% trans 'Opportunity had sale order' %}"
        data-not-allow-use="{% trans 'Quotation is not finished' %}"
        data-valid="{% trans "Valid" %}"
        data-required-product="{% trans "Product is required" %}"
        data-required-expense="{% trans "Expense is required" %}"
        data-required-product-uom="{% trans "Product unit of measure is required" %}"
        data-required-expense-uom="{% trans "Expense unit of measure is required" %}"
        data-copy-successfully="{% trans "Copy successfully" %}"
    >

    <input
            type="text"
            id="data-init-quotation-create-tables-product"
            data-url="{% url "ProductForSaleListAPI" %}"
            data-link-detail="{% url "ProductDetail" 1 %}"
            data-method="GET"
    >
    <input
            type="text"
            id="data-init-quotation-create-tables-expense"
            data-url="{% url "ExpenseListAPI" %}"
            data-link-detail="{% url "ExpenseDetail" 1 %}"
            data-method="GET"
    >
    <input
            type="text"
            id="data-init-quotation-create-tables-expense-item"
            data-url="{% url "ExpenseItemListAPI" %}"
            data-link-detail="{% url "ExpenseItemDetailAPI" 1 %}"
            data-method="GET"
    >
    <input
            type="text"
            id="data-init-quotation-create-tables-uom"
            data-url="{% url "UnitOfMeasureListAPI" %}"
            data-method="GET"
    >
    <input
            type="text"
            id="data-init-quotation-create-tables-tax"
            data-url="{% url "TaxListAPI" %}"
            data-method="GET"
    >
    <input
            type="text"
            id="data-init-quotation-create-request-employee"
            value="{{ data.data.employee_current }}"
    >
    <input
            type="text"
            id="data-init-quotation-create-company-currency-config"
    >
    <input
            type="text"
            id="data-quotation"
            value="[]"
    >
    <input
            type="text"
            id="data-init-quotation-create-promotion"
            data-url="{% url "PromotionCheckListAPI" %}"
            data-link-detail="{% url "PromotionDetail" 1 %}"
            data-method="GET"
    >
    <input
            type="text"
            id="data-init-quotation-create-shipping"
            data-url="{% url "ShippingCheckListAPI" %}"
            data-link-detail="{% url "ShippingDetail" 1 %}"
            data-method="GET"
    >
    <input
            type="text"
            id="data-init-opportunity"
            value="{{ data.data.opportunity }}"
    >
    <input
            type="text"
            id="customer-price-list"
    >
    <input
            type="text"
            id="quotation-config-data"
            class="quotation-config"
            data-url="{% url "QuotationConfigDetailAPI" %}"
            data-method="GET"
    >
    <input
            type="text"
            id="quotation-detail-data"
    >
    <input
            type="text"
            id="quotation-copy-discount-on-total"
    >

{% endblock %}

{% block jsFooter %}
    <!-- Select2 -->
    <script src="{% static 'vendors/select2/dist/js/select2.full.min.js' %}"></script>
    <!-- Daterangepicker JS -->
    <script src="{% static 'vendors/daterangepicker/daterangepicker.js' %}"></script>

    <script src="{% static 'assets/sales/quotation/js/quotation_promote_shipping.js' %}"></script>
    <script src="{% static 'assets/sales/quotation/js/quotation_common.js' %}"></script>
    <script src="{% static 'assets/sales/quotation/js/quotation_create.js' %}"></script>
    <script src="{% static 'assets/sales/quotation/js/quotation_detail.js' %}"></script>
{#    <script src="{% static 'assets/sales/quotation/js/quotation_print.js' %}"></script>#}
    <script src="{% static 'f_extends/print.js' %}"></script>
    <script>
        $(document).ready(function (){
            $('#print-document').on('click', function () {
                new PrintControl().render();
            })

            $('#btn-show-comment').on('click', function (){
                $(this).fadeOut({
                    duration: 'fast',
                    always: function (){
                        $(this).remove();
                        let appIdx = "b9650500-aba7-44e3-b6e0-2542622702a3";  // Application: Quotation - Quotation
                        let docIdx = $.fn.getPkDetail();
                        if (docIdx){
                            let modalEle = $('#comment-group');
                            new $x.cls.cmt(modalEle.find('.comment-group'), {'btn_goto_enabled': false}).init(docIdx, appIdx)
                            modalEle.fadeIn('fast');
                        } else {
                            $.fn.notifyB({
                                'description': `{% trans 'Document is not selected.' %}`,
                            }, 'failure');
                        }
                    }
                })
            })
        })
    </script>
{% endblock %}