{% extends 'base.html' %}
{% load static i18n %}
{% block cssHeader %}
    <link href="{% static 'assets/sales/quotation/css/quotation_config.css' %}" rel="stylesheet" type="text/css"/>
{% endblock %}
{% block pageAction %}
    <button class="btn btn-outline-primary" id="btn-edit_quotation_config">
        <span>
            <span>{% trans 'Edit' %}</span>
            <span class="icon">
                <i class="fa-regular fa-pen-to-square"></i>
            </span>
        </span>
    </button>
    <button class="btn btn-outline-primary" type="submit" form="frm_quotation_config_create" id="btn-create_quotation_config" hidden>
        <span>
            <span>{% trans 'Save' %}</span>
            <span class="icon">
                <i class="fa-regular fa-floppy-disk"></i>
            </span>
        </span>
    </button>
{% endblock %}

{% block pageContent %}
    <div class="row">
        <ul class="nav nav-light nav-tabs">
            <li class="nav-item" id="tab-config">
                <a class="nav-link active" data-bs-toggle="tab" href="#tab_config">
                    <span class="nav-link-text">{% trans 'General' %}</span>
                </a>
            </li>
            <li class="nav-item" id="tab-indicator">
                <a class="nav-link" data-bs-toggle="tab" href="#tab_indicator">
                    <span class="nav-link-text">{% trans 'Indicator' %}</span>
                </a>
            </li>
        </ul>
    </div>

    <form
            data-url="{% url 'QuotationConfigDetailAPI' %}"
            data-url-redirect="{% url 'QuotationConfigDetail' %}"
            data-method="PUT"
            id="frm_quotation_config_create"
            method="post"
    >
        {% csrf_token %}
        <div class="tab-content">
            <div class="tab-pane fade show active" id="tab_config">
                {% include 'sales/quotation/config/general_tab.html' %}
            </div>
            <div class="tab-pane fade" id="tab_indicator">
                {% include 'sales/quotation/config/indicator_tab.html' %}
            </div>
        </div>
    </form>


    <input
            type="hidden"
            id="init-indicator-list"
            class="quotation-config"
    >
    <input
            type="hidden"
            id="init-indicator-property-param"
            class="quotation-config"
            data-url="{% url "ApplicationPropertyListAPI" %}"
            data-method="GET"
    >
    <input
            type="hidden"
            id="init-indicator-param-list"
            class="quotation-config"
            data-url="{% url "IndicatorParamListAPI" %}"
            data-method="GET"
    >
    <input
        type="hidden"
        id="app-trans-factory"
        data-final-acceptance="{% trans 'Final acceptance setting' %}"
        data-source="{% trans 'Data source' %}"
        data-editable="{% trans 'Editable' %}"
        data-none="{% trans 'None' %}"
        data-plan="{% trans 'Plan value' %}"
        data-delivery="{% trans 'Delivery' %}"
        data-payment="{% trans 'Payment' %}"
    >
{% endblock %}


{% block jsFooter %}
    <script src="{% static 'vendors/simplebar/dist/simplebar.min.js' %}"></script>

    <script src="{% static 'assets/sales/quotation/js/quotation_config.js' %}"></script>
{% endblock %}