{% extends 'base.html' %}
{% load static i18n %}
{% block cssHeader %}
    <link href="{% static 'vendors/select2/dist/css/select2.min.css' %}" rel="stylesheet" type="text/css">
{% endblock %}
{% block pageAction %}
{% endblock %}

{% block pageContent %}

    <form
            data-url="{% url 'QuotationListAPI' %}"
            data-method="POST"
            id="frm_quotation_create"
            method="post"
    >
        {% csrf_token %}
        <div id="folder-menu" class="h-100p border-bottom">
            <div class="row">
                <div class="col-12 col-md-2 col-lg-2">
                    <div class="d-flex justify-content-start ml-1 mt-1 mr-2">
                        <span class="d-inline-block" tabindex="0" data-bs-toggle="tooltip" data-bs-placement="right" title="Click to go back">
                            <button type="button" class="btn btn-icon btn-rounded btn-flush-primary flush-soft-hover btn-sm mr-4" id="btn-back" disabled><span class="icon"><i class="fas fa-arrow-left"></i></span></button>
                        </span>
                        <span class="d-inline-block" tabindex="0" data-bs-toggle="tooltip" data-bs-placement="right" title="Click to go forward">
                            <button type="button" class="btn btn-icon btn-rounded btn-flush-primary flush-soft-hover btn-sm mr-4" id="btn-next" disabled><span class="icon"><i class="fas fa-arrow-right"></i></span></button>
                        </span>
                        <span class="d-inline-block" tabindex="0" data-bs-toggle="tooltip" data-bs-placement="right" title="Reload">
                            <button type="button" class="btn btn-icon btn-rounded btn-flush-primary flush-soft-hover btn-sm" id="btn-refresh"><span class="icon"><i class="fas fa-redo-alt"></i></span></button>
                        </span>
                    </div>
                </div>
                <div class="col-12 col-md-7 col-lg-7">
                    <div type="text" class="form-control rounded-input text-black" readonly>
                        <p id="folder-path"><i class="fas fa-desktop mr-2"></i><span class="mr-2" data-parent-id="null">Home</span></p>
                    </div>
                </div>
                <div class="col-12 col-md-3 col-lg-3">
                    <div class="input-group mb-3">
                        <span class="input-affix-wrapper">
                            <input type="text" class="form-control rounded-input" placeholder="Search">
                            <span class="input-suffix"><i class="fas fa-search"></i></span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-md-6 col-lg-6">
                    <div class="row">
                        <div class="col-12 col-md-5 col-lg-5 border-right">
                            <button type="button" class="btn btn-link btn-animated btn-sm" data-bs-toggle="modal" data-bs-target="#addFolder">
                                <span><span class="icon"><i class="far fa-plus-square"></i></span><span>{% trans 'Add new' %}</span></span>
                            </button>
                            <button type="button" class="btn btn-link btn-animated btn-sm" data-bs-toggle="modal" data-bs-target="" disabled>
                                <span><span class="icon"><i class="far fa-edit"></i></span><span>{% trans 'Edit' %}</span></span>
                            </button>
                        </div>
                        <div class="col-12 col-md-5 col-lg-5">
                            <div class="d-flex justify-content-start">
                                <button type="button" class="btn btn-icon btn-rounded btn-flush-primary flush-soft-hover btn-sm btn-action mr-4" disabled><span class="icon"><i class="fas fa-cut"></i></span></button>
                                <button type="button" class="btn btn-icon btn-rounded btn-flush-primary flush-soft-hover btn-sm btn-action mr-4" disabled><span class="icon"><i class="fas fa-copy"></i></span></button>
                                <button type="button" class="btn btn-icon btn-rounded btn-flush-primary flush-soft-hover btn-sm btn-action mr-4" disabled><span class="icon"><i class="fas fa-paste"></i></span></button>
                                <button type="button" class="btn btn-icon btn-rounded btn-flush-primary flush-soft-hover btn-sm btn-action" disabled><span class="icon"><i class="fas fa-trash-alt"></i></span></button>
                            </div>
                        </div>
{#                        <div class="col-12 col-md-2 col-lg-2">#}
{#                            <div class="d-flex justify-content-start">#}
{#                                <button type="button" class="btn btn-icon btn-rounded btn-flush-primary flush-soft-hover btn-sm"><span class="icon"><i class="fas fa-ellipsis-h"></i></span></button>#}
{#                            </div>#}
{#                        </div>#}
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="addFolder" tabindex="-1" role="dialog" aria-labelledby="addFolder" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">{% trans 'Add folder' %}</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="form-label required" for="add-folder-title">{% trans 'Title' %}</label>
                            <input
                                    type="text" class="form-control"
                                    name="title"
                                    id="add-folder-title"
                                    required
                            >
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="add-folder-box-parent">{% trans 'Parent folder' %}</label>
                            <select
                                class="form-select"
                                id="add-folder-box-parent"
                                data-url="{% url "FolderListAPI" %}"
                                data-method="GET"
                                name="parent_n"
                                data-keyResp="folder_list"
                            ></select>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{% trans 'Cancel' %}</button>
                        <button type="button" class="btn btn-primary" id="btn-add-folder">{% trans 'Save' %}</button>
                    </div>
                </div>
            </div>
        </div>

        <br>
        <div class="row">
            <div class="col-12 col-md-4 col-lg-4">
                <div data-bs-spy="scroll" data-bs-smooth-scroll="true" class="h-800p position-relative overflow-y-scroll">
                    <div class="row" id="folder-tree"></div>
                </div>
            </div>
            <div class="col-12 col-md-8 col-lg-8">
                <div class="row mb-2">
                    <div class="col-12 col-md-5 col-lg-5">
                        <h6 class="text-primary ml-3">Name</h6>
                    </div>
                    <div class="col-12 col-md-2 col-lg-2">
                        <h6 class="text-primary">Date modified</h6>
                    </div>
                    <div class="col-12 col-md-2 col-lg-2">
                        <h6 class="text-primary">Type</h6>
                    </div>
                    <div class="col-12 col-md-2 col-lg-2">
                        <h6 class="text-primary">Size</h6>
                    </div>
                </div>

                <div id="folder-content-body"></div>

            </div>
        </div>
    </form>
{% endblock %}

{% block dataHiddenGroup %}
    <input
        type="text"
        id="app-trans-factory"
    >
    <input
        type="text"
        id="app-url-factory"
        data-url="{% url 'FolderListAPI' %}"
        data-url-detail="{% url 'FolderDetailAPI' pk %}"
        data-url-redirect="{% url 'FolderList' %}"
        data-url-file="{% url 'FolderFileListAPI' %}"
    >

{% endblock %}

{% block jsFooter %}
    <!-- Select2 -->
    <script src="{% static 'vendors/select2/dist/js/select2.full.min.js' %}"></script>

    <!-- Daterangepicker JS -->
    <script src="{% static 'vendors/daterangepicker/daterangepicker.js' %}"></script>

    <script src="{% static 'assets/core/attachment/js/folder_list.js' %}"></script>

{% endblock %}