{% extends 'base.html' %}
{% load static i18n %}
{% block title %}
    {% trans 'Attendance Table' %}
{% endblock %}
{% block cssHeader %}
    <link href="{% static 'vendors/datatables.net-rowgroup/css/dataTables.rowGroup.min.css' %}" rel="stylesheet" type="text/css"/>
{% endblock %}
{% block pageAction %}
{% endblock %}
{% block pageContent %}
    {{ data.data.current_period | json_script:"current_period" }}

    <div class="row">
        <div class="col-12">
            <div class="row">
                {% include 'extends/periods_group.html' with period_req=True month_req=True date_req=True %}
                <!-- Filter button -->
                <div class="col-12">
                    <button type="button" class="btn btn-secondary btn-floating btn-sm"
                            data-bs-toggle="modal" data-bs-target="#filterModal">
                        <i class="fa-solid fa-filter"></i> {% trans 'Filter' %}
                    </button>
                </div>
                <!-- Table -->
                <div class="col-12 mt-3" id="space_main_table_employee"></div>
            </div>
        </div>
    </div>

    <div class="d-flex align-content-between hidden" id="table-note">
        <span class="mr-5">{% trans "P: Present" %}</span>
        <span class="mr-5">{% trans "A: Absent" %}</span>
        <span class="mr-5">{% trans "L: Leave" %}</span>
        <span class="mr-5">{% trans "B: Business Trip" %}</span>
        <span class="mr-5">{% trans "H: Holiday" %}</span>
        <span class="mr-5">{% trans "W: Weekend" %}</span>
        <span class="mr-5">{% trans "O: Overtime" %}</span>
        <span class="mr-5">{% trans "OB: Overtime on business trip" %}</span>
    </div>
{% endblock %}
{% block modalData %}
    {% include 'hrm/attendance/attendance/dept_employee_modal.html' %}
    {% include 'hrm/attendance/attendance/offcanvas_detail.html' %}
{% endblock %}
{% block dataHiddenGroup %}
    <input type="text" id="url-factory"
           data-md-employee="{% url 'EmployeeListAllAPI' %}"
           data-md-group="{% url 'GroupDDListAPI' %}">
    <input type="text" id="group-checked">
    <input type="text" id="employee-checked">
    <input type="text" id="url-attendance-data" data-attendance="{% url "LoadSampleAttendanceListAPI" %}">
{% endblock %}
{% block jsFooter %}
    <script src="{% static 'vendors/datatables.net-rowgroup/js/dataTables.rowGroup.min.js' %}"></script>
    <script src="{% static 'assets/js/periods_group.js' %}"></script>
    <script src="{% static 'assets/js/hrm/attendance/attendance/attendance_common.js' %}"></script>
{% endblock %}