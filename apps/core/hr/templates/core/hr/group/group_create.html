{% extends 'base.html' %}
{% load static i18n %}
{% block cssHeader %}
    <link rel="stylesheet" href="{% static 'assets/css/core/hr/group/group_create.css' %}">
{% endblock %}
{% block pageAction %}
    <button class="btn btn-outline-primary" type="submit" form="frm_group_create">
        <span>
            <span>{% trans 'Save' %}</span>
            <span class="icon">
                <i class="fa-regular fa-floppy-disk"></i>
            </span>
        </span>
    </button>
{% endblock %}

{% block pageContent %}
    <form
            id="frm_group_create"
            data-url="{% url 'GroupListAPI' %}"
            data-method="POST"
            data-url-redirect="{% url 'GroupList' %}"
    >
        {% csrf_token %}
        <div class="row">
            <div class="col-12 col-md-6 col-lg-6">
                <div class="row">
                    <div class="col-12 col-md-3 col-lg-3">
                        <div class="form-group">
                            <label class="form-label required" for="select-box-group-level">{% trans 'Select Group Level' %}</label>
                            <select
                                    class="form-select"
                                    id="select-box-group-level"
                                    data-url="{% url 'GroupLevelListAPI' %}"
                                    data-method="GET"
                                    name="group_level"
                                    data-keyResp="group_level_list"
                                    required
                            >
                            </select>
                        </div>
                    </div>
                    <div class="col-12 col-md-4 col-lg-4">
                        <div class="form-group">
                            <label class="form-label mb-2" for="select-box-group">{% trans 'Select Parent Group' %}</label>
                            <select
                                    class="form-select"
                                    id="select-box-group"
                                    data-url="{% url 'GroupListAPI' %}"
                                    data-method="GET"
                                    name="parent_n"
                                    data-keyResp="group_list"
                            >
                            </select>
                        </div>
                    </div>
                    <div class="col-12 col-md-5 col-lg-5">
                        <div class="form-group">
                            <label class="form-label" for="reference-group-title">{% trans 'Reference Group Title' %}</label>
                            <input
                                    type="text" class="form-control form-control-line mt-1" placeholder="" name="first_name"
                                    id="reference-group-title"
                                    readonly
                            >
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group">
                        <label class="form-label required" for="group-title">{% trans 'Input Display Group Title' %}</label>
                        <input
                                type="text" class="form-control"
                                name="title"
                                id="group-title"
                                required
                        >
                    </div>
                </div>
                <div class="row">
                    <div class="form-group">
                        <label class="form-label required" for="group-code">{% trans 'Input Group Code' %}</label>
                        <input
                                type="text"
                                class="form-control"
                                name="code"
                                id="group-code"
                                required
                        >
                    </div>
                </div>
                <div class="row">
                    <div class="form-group">
                        <label class="form-label" for="group-description">{% trans 'Description' %}</label>
                        <textarea class="form-control" rows="3" cols="50" name="description" id="group-description"></textarea>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-6 col-lg-6">
                <div class="row">
                    <div class="col-12 col-md-6 col-lg-6">
                        <div class="form-group">
                            <label class="form-label" for="first-manager-system-title">{% trans '1st Manager System Title' %}</label>
                            <input
                                    type="text" class="form-control form-control-line mt-1" placeholder=""
                                    name="first_name"
                                    id="first-manager-system-title"
                                    readonly
                            >
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="first-manager-title">{% trans 'Input Display 1st Manager Title' %}</label>
                            <input
                                    type="text" class="form-control"
                                    name="first_manager_title"
                                    id="first-manager-title"
                            >
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="select-box-first-manager">{% trans 'First Manager Assign To' %}</label>
                            <select
                                    class="form-select"
                                    id="select-box-first-manager"
                                    data-url="{% url 'EmployeeListAPI' %}"
                                    data-method="GET"
                                    name="first_manager"
                                    data-keyResp="employee_list"
                                    data-keyText="full_name"
                            >
                            </select>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-6">
                        <div class="form-group">
                            <label class="form-label" for="second-manager-system-title">{% trans '2nd Manager System Title' %}</label>
                            <input
                                    type="text" class="form-control form-control-line mt-1" placeholder=""
                                    name="first_name"
                                    id="second-manager-system-title"
                                    readonly
                            >
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="second-manager-title">{% trans 'Input Display 2nd Manager Title' %}</label>
                            <input
                                    type="text"
                                    class="form-control"
                                    name="second_manager_title"
                                    id="second-manager-title"
                            >
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="elect-box-second-manager">{% trans 'Second Manager Assign To' %}</label>
                            <select
                                    class="form-select" id="select-box-second-manager"
                                    data-url="{% url 'EmployeeListAPI' %}"
                                    data-method="GET"
                                    name="second_manager"
                                    data-keyResp="employee_list"
                                    data-keyText="full_name"
                            >
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group">
                        <button type="button" class="btn btn-outline-primary" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasExample">
                            <span><span class="icon"><i class="fa-solid fa-plus"></i></span><span>{% trans 'Add employee to group' %}</span></span>
                        </button>
                    </div>
                    <div
                            class="offcanvas offcanvas-end w-70" tabindex="-1" id="offcanvasRight"
                            aria-labelledby="offcanvasTopLabel"
                    >
                        <div class="offcanvas-header">
                            <h5 id="offcanvasRightLabel">{% trans "Add Employee" %}</h5>
                        </div>

                        <div class="offcanvas-body form-group">
                            <table
                                    id="datable_employee_list" class="table nowrap w-100 mb-5"
                                    data-url="{% url 'EmployeeListAPI' %}"
                                    data-method="GET"
                            >
                                <thead>
                                <tr class="bg-light">
                                    <th>#</th>
                                    <th>{% trans 'Code' %}</th>
                                    <th>{% trans 'Full Name' %}</th>
                                    <th>{% trans 'Group' %}</th>
                                    <th>{% trans 'Role' %}</th>
                                    <th>{% trans 'Date Joined' %}</th>
                                    <th>
                                        <div class="form-check" hidden><input
                                                type="checkbox" class="form-check-input table-row-checkbox-all"
                                        ></div>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                            <div class="modal-footer">
                                <button
                                        type="button" class="btn btn-secondary" data-bs-dismiss="offcanvas"
                                >{% trans 'Cancel' %}</button>
                                <button
                                        type="button" class="btn btn-primary"
                                        data-bs-dismiss="offcanvas"
                                        id="button-add-group-employee"
                                >{% trans 'Add' %}</button>
                            </div>

                        </div>
                    </div>
                    <table
                            id="datable_employee_show_list"
                            class="table nowrap w-100 mb-5"
                    >
                        <thead>
                        <tr class="bg-light">
                            <th>#</th>
                            <th>{% trans 'Full Name' %}</th>
                            <th>{% trans 'Role' %}</th>
                            <th>{% trans 'Actions' %}</th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                    <input type="hidden" id="data-group_employee">
                </div>
            </div>
        </div>
    </form>
{% endblock %}

{% block dataHiddenGroup %}
    <input
        type="text"
        id="app-trans-factory"
        data-level="{% trans 'Level' %}"
    >
    <input
        type="text"
        id="app-urls-factory"
    >
{% endblock %}

{% block jsFooter %}
    <script src="{% static 'assets/js/core/hr/group/group_common.js' %}"></script>
    <script src="{% static 'assets/js/core/hr/group/group_create.js' %}"></script>
{% endblock %}